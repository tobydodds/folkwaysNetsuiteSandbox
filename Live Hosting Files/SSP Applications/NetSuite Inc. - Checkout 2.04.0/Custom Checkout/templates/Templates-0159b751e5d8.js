SC.templates = {"quick_view_tmpl":"<% \n\tvar model = view.model\n\t,\titem_url = model.get('_url') + model.getQueryString();\n%>\n<div class=\"row-fluid\">\n\t<div class=\"span6 text-center\">\n\t\t<% var thumbnail = model.get('_images', true)[0] || model.get('_thumbnail'); %>\n\t\t<img data-loader=\"false\" src=\"<%= view.options.application.resizeImage(thumbnail.url, 'main') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/div>\n\t<div class=\"span6\">\n\t\t<div class=\"details-header\">\t\t\t\n\t\t\t<div class=\"lead lead-small no-margin-bottom\">\n\t\t\t\t<%= showItemPrice(model.getPrice(), model.getStockInfo().isInStock) %>\n\t\t\t<\/div>\n\t\t\t<span class=\"sku\">\n\t\t\t\t<%= _('SKU: #$(0)').translate(model.get('_sku', true)) %>\n\t\t\t<\/span>\n\t\t<\/div>\n\n\t\t<a class=\"full-details\" data-touchpoint=\"home\" data-name=\"view-full-details\" data-hashtag=\"#<%= item_url %>\" href=\"<%= item_url %>\">\n\t\t\t<%= _('View full details').translate() %>\n\t\t<\/a>\n\n\t\t<% if (!model.isProperlyConfigured()) { %>\n\n\t\t\t<div class=\"alert alert-error\">\n\t\t\t\t<%= _('<b>Warning<\/b>: This item is not properly configured, please contact your administrator.').translate() %>\n\t\t\t<\/div>\n\n\t\t<% } else {\n\t\t\t\/*\n\t\t\tRender a single option placeholder:\n\t\t\t===================================\n\t\t\tAny HTML element that matches [data-type=option], if it's rendered by ItemDetails.View \n\t\t\twill be populated by the render of a single macro for a single option, especified by the attributes:\n\t\t\t\tdata-cart-option-id: the id of the cart opion\n\t\t\t\tdata-macro: the macro you want this option to be rendered with, if omited the default for the option will be used\n\t\t\t\n\t\t\t<div \n\t\t\t\tclass=\"options-container\" \n\t\t\t\tdata-type=\"option\" \n\t\t\t\tdata-cart-option-id=\"cart_option_id\" \n\t\t\t\tdata-macro=\"macroName\">\n\t\t\t<\/div>\n\t\t\tRender all options placeholder:\n\t\t\t===============================\n\t\t\tAny HTML element that matches [data-type=all-options], if it's rendered by ItemDetails.View \n\t\t\twill be populated with the result of the execution of all the options with the macros, \n\t\t\teither the default one or the one configured in the itemOptions array.\n\t\t\tUse the data-exclude-options to select the options you dont want to be rendered here,\n\t\t\tthis is a coma separated list, for instace: cart_option_id1, cart_option_id2\n\t\t\t*\/\n\t\t%>\n\t\t\t<div \n\t\t\t\tclass=\"options-container\" \n\t\t\t\tdata-type=\"all-options\" \n\t\t\t\tdata-exclude-options=\"\">\n\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t<form action=\"#\" class=\"form-inline add-to-cart-form\">\n\t\t\t\t<% if (model.get('_itemType') !== 'GiftCert') { %>\n\t\t\t\t\t<label for=\"quantity\">\n\t\t\t\t\t\t<%= model.get('_minimumQuantity', true) !== 1 ? _('Quantity (Minimum of $(0) required)').translate(model.get('_minimumQuantity', true)) : _('Quantity').translate() %>\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"<%- model.get('quantity') %>\" min=\"1\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"quantity\" id=\"quantity\" value=\"1\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<%= itemDetailsStock(model.getStockInfo()) %>\n\t\t\t\t<\/div>\n\t\t\t\t<button data-type=\"add-to-cart\" class=\"btn btn-primary btn-large add-to-cart\"<% if (!model.isReadyForCart()) {%> disabled<%}%>>\n\t\t\t\t\t<i class=\"icon-shopping-cart icon-white\"><\/i>\n\t\t\t\t\t<%=  model.cartItemId ? _('Update').translate() : _('Add to Cart').translate() %>\n\t\t\t\t<\/button>\n\t\t\t\t<br\/>\n\t\t\t<\/form>\n\t\t\t<div data-type=\"product-lists-control\" style=\"margin-bottom: 9px !important\"><\/div>\n\t\t\t<div data-type=\"alert-placeholder\"><\/div>\t\t\n\t\t<% } %>\n\t<\/div>\n<\/div>\n","order_wizard_msr_set_address_packages_opc_module_tmpl":"<%\n\tvar addresses = view.getValidAddresses()\n\t,\tapplication = view.wizard.application\n\t,\tlines = view.getShippableLines();\n%>\n<% if (!view.options.hide_title && view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<div data-type=\"items-remaining-list\" class=\"multishipto-package\">\n\n\t<% _.each(lines, function(line) { %>\n\t\t<%= itemDetailsCondensed({\n\t\t\t\tapplication: application\n\t\t\t,\tline: line\n\t\t\t,\tactionMacro: wizardItemActionsSetAddressDropDown\n\t\t\t,\tshowItemsDetails: true\n\t\t\t,\taddresses: addresses\n\t\t\t}) %>\n\t<% }) %>\n<\/div>","reset_password_tmpl":"<div class=\"row\">\n\t<div class=\"span5\">\n\n\t\t<h2><%= _('Reset Password').translate() %><\/h2>\n\n\t\t<div>\n\t\t\t<form>\n\t\t\t\t<p><%= _('Enter a new password below for <b>$(0)<\/b>').translate(view.email) %><\/p>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"password\"><%= _('Password <small>(required)<\/small>').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"password\" name=\"password\" value=\"\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"confirm_password\"><%= _('Confirm Password <small>(required)<\/small>').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"confirm_password\" name=\"confirm_password\" value=\"\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-large btn-block\"><%=_('Change Password').translate()%><\/button>\n\t\t\t\t\t\n\t\t\t\t<\/fieldset>\n\t\t\t<\/form>\n\t\t\t<p><a href=\"\/login-register\" data-target=\".register\"><%= _('Cancel & Return To Sign In > ').translate()%><\/a><\/p>\n\t\t<\/div>\n\n\t<\/div>\n<\/div>","creditcard_tmpl":"<% view.model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3 class=\"cctitle\">\n\t\t<%= view.model.isNew() ? _('Add a new Credit Card').translate() : _('Edit Credit Card').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no Credit Card on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter your payment information below').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"creditcard.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= creditcardForm(view.model, view.options) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\n\t<div class=\"<%- view.inModal ? 'modal-footer left-aligned' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary <%= view.model.isNew() ? 'ccadd-card' : 'ccupdate-card' %>\">\n\t\t\t<%= view.model.isNew() ? _('Add Card').translate() : _('Update Card').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","shopping_cart_tmpl":"<%\n\tvar lines = view.model.get('lines')\n\t,\tapplication = view.options.application\n\t,\tcontinueURL = application.getConfig('siteSettings.sitetype') === 'ADVANCED' ?  _(application.getConfig('defaultSearchUrl')).fixUrl() : ''\n\t,\ttouchpoint = true\n\t,\tproduct_count = lines.length\n\t,\titem_count = _.reduce(lines.models, function(memo, line){ return memo + line.get('quantity'); }, 0)\n\t,\tcrumbTrail = [\n\t\t\t{href: '\/', text: _('Home').translate(), 'data-touchpoint': 'home'}\n\t\t,\t{href: '\/cart', text: _('Shopping Cart').translate()}\n\t\t];\n\n\tif(SC.ENVIRONMENT.siteSettings.iswsdk && SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl){\n\t\tcontinueURL = SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl;\n\t\ttouchpoint = false;\n\t}\n\n%>\n\n<% if (lines && lines.length) { %>\n\t<div class=\"view-header\">\n\t\t<%= breadcrumb(crumbTrail) %>\n\t\t<header class=\"shopping-cart-header\">\n\t\t\t<a style=\"text-transform: uppercase;font-family: Verdana, Geneva, sans-serif;\" class=\"btn-large btn continue-shopping\" href=\"#\" data-touchpoint=\"continueshopping\" data-hashtag=\"#<%= continueURL %>\">\n\t\t\t\t<%= _('Continue Shopping').translate() %>\n\t\t\t<\/a>\n\t\t\t<!--a class=\"btn btn-large btn-block btn-primary btn-proceed-checkout\" href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\">\n\t\t\t\t<%= _('Proceed to Checkout').translate() %>\n\t\t\t<\/a-->\n\t\t\t<h1 class=\"no-margin-top\">\n\t\t\t\t<%= view.page_header %>\n\t\t\t\t<!--<small class=\"product-list-details-count\">\n\t\t\t\t\t<%= _('($(0) $(1), $(2) $(3))').translate(\n\t\t\t\t\t\t\tproduct_count\n\t\t\t\t\t\t,\tproduct_count === 1 ? _('Product').translate() : _('Products').translate()\n\t\t\t\t\t\t,\titem_count\n\t\t\t\t\t\t,\titem_count === 1 ? _('Item').translate() : _('Items').translate()) \n\t\t\t\t\t%>\n\t\t\t\t<\/small>-->\n\t\t\t<\/h1>\n\t\t<\/header>\n\t<\/div>\n\t<div class=\"row-fluid view-body\">\n\t\t<section class=\"span8\">\n\t\t\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\t\t\t<header class=\"shopping-cart-heading\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3 strong\"><%= _('Items').translate() %><\/div>\n\t\t\t\t\t<div class=\"span9\">\n\t\t\t\t\t\t<div class=\"span3 offset6 strong\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span3 strong\"><%= _('Subtotal').translate() %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/header>\n\t\t\t<% lines.each(function (line, index) { %>\n\t\t\t\t<%= itemListNavigable({\n\t\t\t\t\tline: line\n\t\t\t\t,\tview: view\n\t\t\t\t,\tshowActions: true\n\t\t\t\t}) %>\n\t\t\t<% }) %>\n\t\t<\/section>\n\t\t<section class=\"span4\">\n\t\t\t<%= shoppingCartSummary(view.model, application.getConfig('siteSettings'), {\n\t\t\t\tcheckout: application.getConfig('siteSettings.checkout')\n\t\t\t,\tcontinueURL: continueURL\n\t\t\t,\ttouchpoint: touchpoint\n\t\t\t,\tshowActions: true\n\t\t\t}) %>\n\t\t<\/section>\n\t<\/div>\n\t<div class=\"view-footer\">\n\t\t<div class=\"shopping-cart\" data-type=\"saved-for-later-placeholder\"><\/div>\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, application);\n\t\t\t};\n\t\t%>\n\n\t\t<div class=\"row-fluid\" data-type=\"recently-viewed-placeholder\" data-macro=\"recentlyViewed\"><\/div>\n\t\t<div class=\"row-fluid\" data-type=\"related-items-placeholder\"><\/div>\n\t\t<div class=\"row-fluid\" data-type=\"correlated-items-placeholder\"><\/div>\n\t<\/div>\n\n<% } else { %>\n\t<div class=\"view-header\">\n\t\t<%= breadcrumb(crumbTrail) %>\n\t<\/div>\n\t<section class=\"view-body empty-cart\">\n\t\t<h2 class=\"no-margin-top\"><%= _('Your Shopping Cart is empty').translate() %><\/h2>\n\t\t<p class=\"no-margin-bottom\">\n\t\t\t<%= _('Continue Shopping on our <a href=\"\/\" data-touchpoint=\"home\">$(0)<\/a>').translate(_('Home Page').translate()) %>\n\t\t<\/p>\n\t\t<span8 style=\"margin-left:0px\">\n\t\t\t<div class=\"row-fluid\" data-type=\"saved-for-later-placeholder\"><\/div>\n\t\t<\/span8>\n\t<\/section>\n<% } %>\n","product_details_tmpl":"<%\n\tvar model = view.model;\n%>\n<div data-cms-area=\"item_details_banner\" data-cms-area-filters=\"page_type\"><\/div>\n<div class=\"view-header\" itemscope itemtype=\"http:\/\/schema.org\/WebPage\">\n\t<%= breadcrumb(model.get('_breadcrumb')) %>\n\t<div id=\"banner-content-top\" class=\"content-banner banner-content-top\"><\/div>\n<\/div>\n<div class=\"view-body\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t<meta itemprop=\"url\" content=\"<%= model.get('_url') %>\">\n\t<div id=\"banner-details-top\" class=\"content-banner banner-details-top\"><\/div>\n\t<div class=\"row-fluid item-detailed-page\">\n\t\t<div class=\"span7 item-detailed-image-container\">\n\t\t\t<div id=\"banner-image-top\" class=\"content-banner banner-image-top\"><\/div>\n\t\t\t<%= SC.macros[view.application.getConfig('macros.itemDetailsImage')](model.get('_images', true), view) %>\n\t\t\t<div id=\"banner-image-bottom\" class=\"content-banner banner-image-bottom\"><\/div>\n\t\t<\/div>\n\t\t<div class=\"span5\">\n\t\t\t<div class=\"well item-detailed-info\">\n\t\t\t\t<div class=\"well-header page-header\">\n\t\t\t\t\t<div id=\"banner-summary-bottom\" class=\"content-banner banner-summary-bottom\"><\/div>\n\t\t\t\t\t<h1 itemprop=\"name\"><%= model.get('_pageHeader') %><\/h1>\n\t\t\t\t\t<p class=\"lead lead-small\">\n\t\t\t\t\t\t<%= showItemPrice(model.getPrice(), model.getStockInfo().isInStock) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<span class=\"sku\">\n\t\t\t\t\t\t<%= _('SKU: #$(0)').translate(\n\t\t\t\t\t\t\t'<span itemprop=\"sku\">' + model.get('_sku', true) + '<\/span>'\n\t\t\t\t\t\t) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<div class=\"item-rating clearfix\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t\t\t\t<%= starRating({\n\t\t\t\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t\t,\tvalue: model.get('_rating')\n\t\t\t\t\t\t,\tshowRatingCount: true\n\t\t\t\t\t\t,\tratingCount: model.get('_ratingsCount')\n\t\t\t\t\t\t,\tclassName: 'star pull-left'\n\t\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t\t}) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-cms-area=\"item_info\" data-cms-area-filters=\"path\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"well-body\">\n\t\t\t\t\t<% if (!model.isProperlyConfigured()) { %>\n\t\t\t\t\t\t<div class=\"alert alert-error\">\n\t\t\t\t\t\t\t<%= _('<b>Warning<\/b>: This item is not properly configured, please contact your administrator.').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } else {\n\t\t\t\t\t\t\/*\n\t\t\t\t\t\tRender a single option placeholder:\n\t\t\t\t\t\t===================================\n\t\t\t\t\t\tAny HTML element that matches [data-type=option], if it's rendered by ItemDetails.View\n\t\t\t\t\t\twill be populated by the render of a single macro for a single option, especified by the attributes:\n\t\t\t\t\t\t\tdata-cart-option-id: the id of the cart opion\n\t\t\t\t\t\t\tdata-macro: the macro you want this option to be rendered with, if omited the default for the option will be used\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"options-container\"\n\t\t\t\t\t\t\tdata-type=\"option\"\n\t\t\t\t\t\t\tdata-cart-option-id=\"cart_option_id\"\n\t\t\t\t\t\t\tdata-macro=\"macroName\">\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\tRender all options placeholder:\n\t\t\t\t\t\t===============================\n\t\t\t\t\t\tAny HTML element that matches [data-type=all-options], if it's rendered by ItemDetails.View\n\t\t\t\t\t\twill be populated with the result of the execution of all the options with the macros,\n\t\t\t\t\t\teither the default one or the one configured in the itemOptions array.\n\t\t\t\t\t\tUse the data-exclude-options to select the options you dont want to be rendered here,\n\t\t\t\t\t\tthis is a coma separated list, for instace: cart_option_id1, cart_option_id2\n\t\t\t\t\t\t*\/\n\t\t\t\t\t%>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"default-options-container\"\n\t\t\t\t\t\t\tclass=\"options-container default-options-container\"\n\t\t\t\t\t\t\tdata-type=\"all-options\"\n\t\t\t\t\t\t\tdata-exclude-options=\"\">\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<form action=\"#\" class=\"form-inline add-to-cart-form\">\n\t\t\t\t\t\t\t<% if (model.get('_itemType') !== 'GiftCert'){\n\t\t\t\t\t\t\t\tvar minimum_quantity = model.get('_minimumQuantity', true);\n\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<label for=\"quantity\">\n\t\t\t\t\t\t\t\t\t<%= minimum_quantity !== 1 ? _('Quantity (Minimum of $(0) required)').translate(minimum_quantity) : _('Quantity').translate() %>\n\t\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"<%- model.get('quantity') %>\" min=\"1\">\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"quantity\" id=\"quantity\" value=\"1\">\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<%= itemDetailsStock(model.getStockInfo()) %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<button data-type=\"add-to-cart\" class=\"btn btn-primary btn-large add-to-cart-btn\"<% if (!model.isReadyForCart()) {%> disabled<%}%>>\n\t\t\t\t\t\t\t\t<i class=\"icon-shopping-cart icon-white\"><\/i>\n\t\t\t\t\t\t\t\t<%= _('Add to Cart').translate() %>\n\t\t\t\t\t\t\t<\/button>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<div data-type=\"product-lists-control\" style=\"margin-bottom: 9px !important; display:inline-block\"><\/div>\n\t\t\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"well-footer\">\n\t\t\t\t\t<% if (view.application.getConfig('hover_pin_it_button').enable_pin_it_button) { %>\n\t\t\t\t\t<a class=\"pin-it-link-socials\" data-share-click-pint-it-button=\"true\"><\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<div class=\"social-share-icons\" data-toggle=\"social-share-icons\"><\/div>\n\t\t\t\t\t<div id=\"banner-summary-bottom\" class=\"content-banner banner-summary-bottom\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"banner-details-bottom\" class=\"content-banner banner-details-bottom\" data-cms-area=\"item_info_bottom\" data-cms-area-filters=\"page_type\"><\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (view.details && view.details.length) { %>\n\t\t<div id=\"banner-content-top\" class=\"content-banner banner-content-top\"><\/div>\n\t\t<div class=\"accordion\">\n\t\t\t<% _.each(view.details, function (detail, index) { %>\n\t\t\t<div id=\"accordion-group-<%= index %>\" class=\"accordion-group accordion-group-<%= index %>\">\n\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t<h2 class=\"accordion-toggle <%= !detail.opened ? 'collapsed' : '' %>\" data-toggle=\"collapse\" data-target=\"#collapsed-<%= index %>\">\n\t\t\t\t\t\t<%= detail.name %>\n\t\t\t\t\t\t<i class=\"icon-minus-sign pull-right\"><\/i>\n\t\t\t\t\t\t<i class=\"icon-plus-sign pull-right\"><\/i>\n\t\t\t\t\t<\/h2>\n\t\t\t\t<\/div>\n\t\t\t\t<div id=\"collapsed-<%= index %>\" class=\"accordion-body collapse collapsed-<%= index %> <%= detail.opened ? 'in' : '' %>\">\n\t\t\t\t\t<div class=\"accordion-inner\" itemprop=\"<%= detail.itemprop %>\">\n\t\t\t\t\t\t<%= detail.content %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t<\/div>\n\t\t<div id=\"banner-content-bottom\" class=\"content-banner banner-content-bottom\"><\/div>\n\t<% } %>\n\n\t<div data-type=\"review-list-placeholder\" data-itemid=\"<%= model.get('_id') %>\" data-url=\"<%= model.get('urlcomponent') %>\" data-order=\"useful_count:desc\" data-title=\"<%= _('Ratings &amp; Reviews').translate() %>\" data-subtitle=\"<%= _('Most Helpful Reviews').translate() %>\"><\/div>\n\n\t<div class=\"row-fluid\" data-type=\"related-items-placeholder\"><\/div>\n\t<div class=\"row-fluid\" data-type=\"correlated-items-placeholder\"><\/div>\n\t<div id=\"banner-details-bottom\" class=\"content-banner banner-details-bottom\" data-cms-area=\"item_details_banner_bottom\" data-cms-area-filters=\"page_type\"><\/div>\n<\/div>\n","order_wizard_registeremail_module_tmpl":"<h3 class=\"section-header\">\n\t<%= _('Enter Email Address').translate() %>\n<\/h3>\n<div class=\"control-group\">\n\t<label class=\"control-label\">\n\t\t<%= _('Email Address <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<input\n\t\ttype=\"email\"\n\t\tname=\"email\"\n\t\tid=\"email\"\n\t\tclass=\"input-large\"\n\t\tplaceholder=\"<%- _('your@email.com').translate() %>\"\n\t\tvalue=\"<%- view.profile.get('email') || '' %>\"\n\t>\n\t<p class=\"help-block\">\n\t\t<%= _('We need you email address to send you information about your order.').translate() %>\n\t<\/p>\n<\/div>\n<label class=\"checkbox\">\n\t<input\n\t\ttype=\"checkbox\"\n\t\tname=\"sign-up-newsletter\"\n\t\t<%= view.profile.get('emailsubscribe') === 'T' ? 'checked' : '' %>\n\t>\n\t<%= _('Sign up for our Newsletter to receive promotions').translate() %>\n<\/label>\n","layout_tmpl":"<div id=\"layout\" class=\"layout\">\n\t<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n\t<header id=\"site-header\" class=\"site-header\">\n\t\t<%= header(view) %>\n\t<\/header>\n\t<% } %>\n\n<div class=\"container\">\n\t<div class=\"row-fluid site-branding\">\n\t\t<div class=\"span3 site-logo\">\n\t\t\t<div id=\"site-logo\" class=\"site-logo content-banner\">\n\t\t\t\t<a href=\"http:\/\/www.folkways.si.edu\">\n\t\t\t\t\t<img itemprop=\"image\" src=\"https:\/\/checkout.netsuite.com\/core\/media\/media.nl?id=45&amp;c=297799&amp;h=8ecf93901dad09546a4a\" alt=\"Smithsonian Folkways Recordings\">\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"span3 offset6\">\n\t\t\t<a class=\"btn btn-link pull-right\" href=\"\/\" data-touchpoint=\"login\" data-hashtag=\"#\/\">\n\t\t\t\tRegister\n\t\t\t<\/a> \n\t\t\t&nbsp; \n\t\t\t<a class=\"btn btn-link pull-right\" href=\"\/\" data-touchpoint=\"login\" data-hashtag=\"#\/\">\n\t\t\t\tSign In\n\t\t\t<\/a>\n\t\t<\/div>\n\t<\/div>\n\t\t<div style=\"text-align:center\"><p style=\"font-size:12px; margin-bottom:10px\"><b>Folkways Members:<\/b> please sign in to receive your discount and free downloads.  Learn more <a href=\"http:\/\/www.folkways.si.edu\/membership\">here<\/a>.<\/p><\/div>\n        <!--div class=\"row-fluid site-branding\"><p><b>Announcement<\/b><br \/>Smithsonian Folkways will be closed Wednesday, September 14th through Friday, September 16th for our yearly inventory. All orders of physical goods - download purchases are not affected - emails, and messages will be processed on Monday, September 19th.  Thank you for your support and understanding.<\/p><\/div-->\n\t<div class=\"row-fluid site-menu hidden-xs\">\n\t\t<ul class=\"span12\">\n\t\t\t<li class=\"span12 cart\" style=\"float:left !important\"><a href=\"#\/\" data-touchpoint=\"viewcart\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:141px\" border=\"0\" alt=\"Shopping Cart\"><\/a><\/li>\n\t\t\t<li class=\"span12 checkout\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"checkout\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:103px\" border=\"0\" alt=\"Checkout\"><\/a><\/li>\n\t\t\t<li class=\"span12 myaccount\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:121px\" border=\"0\" alt=\"My Account\"><\/a><\/li>\n\t\t<\/ul>\n\t\t<div class=\"span7\">\n\t\t\t&nbsp;\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"row-fluid site-menu visible-xs\">\n\t\t<ul class=\"span12\">\n\t\t\t<li class=\"span12 cart\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"viewcart\" data-hashtag=\"#\/\">SHOPPING CART<\/a><\/li>\n\t\t\t<li class=\"span12 checkout\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"checkout\" data-hashtag=\"#\/\">CHECKOUT<\/a><\/li>\n\t\t\t<li class=\"span12 myaccount\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/\">MY ACCOUNT<\/a><\/li>\n\t\t<\/ul>\n\t\t<div class=\"span7\">\n\t\t\t&nbsp;\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"\">\n\t<\/div>\n<\/div>\n\n\t<!-- Main Content Area -->\n\t<div id=\"content\" class=\"container content checkout-content\"><\/div>\n\t<!-- \/ Main Content Area -->\n\n\t<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n\t<footer id=\"site-footer\" class=\"site-footer\">\n\t\t<%= footer(view) %>\n\t<\/footer>\n\t<% } %>\n\t\n\t\t<div class=\"container\">\n\t\t<footer class=\"site-footer row-fluid\">\n\t\t\t<div class=\"privacy\">\n\t\t\t\tWe use the NetSuite secure shopping cart. <a href=\"http:\/\/www.netsuite.com\/portal\/resource\/terms-of-service.shtml\" target=\"_blank\">Terms of Service<\/a> and <a href=\"http:\/\/www.netsuite.com\/portal\/privacy.shtml\" target=\"_blank\">Privacy Policy<\/a> apply.\n\t\t\t<\/div>\n\t\t    <div class=\"row-fluid\" id=\"footer-container\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a style=\"color: #fff;\" href=\"http:\/\/www.si.edu\/\" target=\"new\">\u00a9 2016 Smithsonian Institution<\/a><\/li>\n\t\t\t\t\t<li>|<\/li>\n\t\t\t\t\t<li><a style=\"color: #fff;\" href=\"http:\/\/www.si.edu\/copyright\/\" target=\"new\">Copyright<\/a><\/li>\n\t\t\t\t\t<li>|<\/li>\n\t\t\t\t\t<li><a style=\"color: #fff;\" href=\"http:\/\/www.folkways.si.edu\/folkways-staff\/smithsonian\">Contact<\/a><\/li>\n\t\t\t\t\t<li>|<\/li>\n\t\t\t\t\t<li><a style=\"color: #fff;\" href=\"http:\/\/www.si.edu\/privacy\/\" target=\"new\">Privacy<\/a><\/li>\n\t\t\t\t\t<li>|<\/li>\n\t\t\t\t\t<li><a style=\"color: #fff;\" href=\"http:\/\/www.folkways.si.edu\/production-credits\/smithsonian\">Credits<\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/footer>\n\t<\/div>\n<\/div>","order_wizard_msr_set_address_packages_module_tmpl":"<%\n\tvar addresses = view.getValidAddresses()\n\t,\tunset_lines = view.wizard.model.getUnsetLines()\n\t,\tcurrent_selected_address_id = view.getSelectedAddressId()\n\t,\tall_items_length = unset_lines.length\n\t,\tselected_items_length = view.getSelectedItemsLength()\n\t,\tare_all_items_selected = selected_items_length === all_items_length\n\t,\tcreateShipmentLabel = view.createShipmentLabel\n\t,\tcreateShipmentEnabled = view.createShipmentEnabled\n\t,\titem_quantity_macro;\n%>\n<div>\n\t<% if (unset_lines.length) { %>\n\t\t<div class=\"row-fluid select-shipping-header-row\" >\n\t\t\t<div class=\"span12\">\n\t\t\t\t<h4 class=\"section-sub-tile-header\"> <%= _('Select shipping address').translate() %><\/h4>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid select-shipping-header-row\" >\n\t\t\t<div class=\"span9\">\n\t\t\t\t<select data-type=\"set-shipments-address-selector\" class=\"multishipto-address-selector\" >\n\t\t\t\t\t<% _.each(addresses, function(address) { %>\n\t\t\t\t\t\t<option value=\"<%= address.get('internalid') %>\" <%= address.get('internalid') == current_selected_address_id ? 'selected' : '' %> >\n\t\t\t\t\t\t\t<%= address.get('fullname') +\" - \"+ address.get('addr1') %>\n\t\t\t\t\t\t<\/option>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/select>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 text-right edit-address-link\" data-type=\"edit-addresses\">\n\t\t\t\t<a href=\"#\" > <%= _('Add \/ Edit Addresses').translate() %> <\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid select-shipping-header-row\" >\n\t\t\t<div class=\"span12\">\n\t\t\t\t<h4 class=\"section-sub-tile-header\"> <%= _('Select products for this address').translate() %><\/h4>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-type=\"items-selection-control\" class=\"items-remaining-list\">\n\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t<div class=\"clearfix multishipto-table-row-header\">\n\t\t\t\t\t<div class=\"span3\" data-type=\"select-unselect-all\">\n\t\t\t\t\t\t<input type=\"checkbox\" data-type=\"selectunselect-all-checkbox\" <%= are_all_items_selected ? 'checked' : '' %> \/>\n\t\t\t\t\t\t<label class=\"grey-color\" style=\"display:inline;\"> <%= are_all_items_selected ? _('Unselect all').translate() :  _('Select all (<span data-type=\"item-remaining-count\">$(0)<span>)').translate(all_items_length) %> <\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 grey-color hide-phone\"><%= _('Product').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 grey-color hide-phone\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 grey-color hide-phone\"><%= _('Unit Price').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 grey-color hide-phone text-center\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div data-type=\"items-remaining-list\">\n\t\t\t<% _.each(unset_lines, function(line) { %>\n\t\t\t\t<%\n\t\t\t\t\titem_quantity_macro = (function (is_item_selected, quantity, item_id, current_quantity)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn itemEditableQuantity({\n\t\t\t\t\t\t\t\tisReadOnly: !is_item_selected\n\t\t\t\t\t\t\t,\titemId: item_id\n\t\t\t\t\t\t\t,\tquantity: quantity\n\t\t\t\t\t\t\t,\tcurrentQuantity: current_quantity\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t})(line.get('check'), line.get('quantity'), line.id, line.get('splitquantity'));\n\t\t\t\t%>\n\t\t\t\t<%= itemDetailsRow({\n\t\t\t\t\t\tapplication: view.wizard.application\n\t\t\t\t\t,\tshowSelectable: true\n\t\t\t\t\t,\tquantityMacro: item_quantity_macro\n\t\t\t\t\t,\tline: line\n\t\t\t\t\t,\titemClass: 'multishipto-item-table-row'\n\t\t\t\t\t,\tindexes: [\n\t\t\t\t\t\t\t1 \/*select*\/\n\t\t\t\t\t\t,\t2 \/*image*\/\n\t\t\t\t\t\t,\t3 \/*item*\/\n\t\t\t\t\t\t,\t2 \/*quantity*\/\n\t\t\t\t\t\t,\t2 \/*unit proce*\/\n\t\t\t\t\t\t,\t2 \/*amount*\/]\n\t\t\t\t\t}) %>\n\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-type=\"module-footer\">\n\t\t\t<% if (selected_items_length) { %>\n\t\t\t\t<div class=\"row-fluid select-shipping-header-row\" >\n\t\t\t\t\t<div class=\"span6\">\n\n\t\t\t\t\t<p class=\"grey-color;\"><%= selected_items_length > 1 ?\n\t\t\t\t\t_('The <span data-type=\"item-selected-count\">$(0)<\/span> products you selected will be shipped to:').translate(selected_items_length) :\n\t\t\t\t\t_('<span data-type=\"item-selected-count\" class=\"hidden\">$(0)<\/span>The product you selected will be shipped to:').translate(selected_items_length) %>\n\t\t\t\t\t<\/p>\n\n\t\t\t\t\t<div data-type=\"multishipto-address-selected\" class=\"multishipto-address-selected\" >\n\t\t\t\t\t\t<%= address(\n\t\t\t\t\t\t\tview.wizard.options.profile.get('addresses').get(current_selected_address_id)\n\t\t\t\t\t\t,\t{\n\t\t\t\t\t\t\t\thideActions: true\n\t\t\t\t\t\t\t,\thideDefaults: true\n\t\t\t\t\t\t\t,\tmanage: 'shipaddress'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } else { %>\n\t\t\t\t<p class=\"grey-color\" ><%= _('<span data-type=\"item-selected-count\">$(0)<\/span> products selected').translate(selected_items_length) %><p>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t\t<button data-type=\"create-shipments\" class=\"btn btn-primary btn-large btn-createshipment\" <%= createShipmentEnabled ? '' : 'disabled=\"disabled\"' %> >\n\t\t\t\t<%= createShipmentLabel %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t<% } %>\n<\/div>","shopping_cart_confirmation_modal_tmpl":"<%\n\tvar line = view.line\n\t,\titem = line.get('item');\n%>\n<div class=\"row-fluid\">\n\t<div class=\"span4 item-thumbnail-container\">\n\t\t<div class=\"thumbnail\">\n\t\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t\t<img data-loader=\"false\" src=\"<%= view.options.application.resizeImage(thumbnail.url, 'main') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"span8 item-details-container\">\n\t\t<h3 class=\"cart-confirmation-item-name\"><%= item.get('_name') %><\/h3>\n\t\t<p class=\"lead lead-small\">\n\t\t\t<%= SC.macros.showItemPrice(line.getPrice(), item.getStockInfo().isInStock) %>\n\t\t<\/p>\n\t\t<!-- Item Options -->\n\t\t<%= item.renderAllOptionSelected() %>\n\t\t<!-- Quantity -->\n\t\t<% if ((item.get('_itemType') !== 'GiftCert') && (line.get('quantity') > 0)) { %>\n\t\t\t<div class=\"quantity kore\"><%= _('Quantity: $(0)').translate(line.get('quantity')) %><\/div>\n\t\t<% } %>\n\t\t<div id=\"cart-confirmation-modal-message\" class=\"promotional-message cart-confirmation-modal-message\"><\/div>\n\t\t<div class=\"cart-modal-actions\">\n\t\t\t<a href=\"\/cart\" class=\"btn btn-primary view-cart\" data-trigger=\"go-to-cart\"><%= _('View Cart &amp; Checkout').translate() %><\/a>\n\t\t\t<button class=\"btn continue-shopping\" data-dismiss=\"modal\"><%= _('Continue Shopping').translate() %><\/button>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% if (item.get('_relatedItems') && item.get('_relatedItems').length) { %>\n<div class=\"related-items\">\n\t<h4><%= _('You may also like').translate() %><\/h4>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, view.options.application);\n\t\t\t};\n\t\t%>\n\t\t<%= displayInRows(item.get('_relatedItems').first(3), relatedWrap, 3) %>\n\t<\/div>\n<\/div>\n<% } %>\n","order_wizard_step_tmpl":"<div data-action=\"skip-login-message\" class=\"guest-message\"><\/div>\n\n<% if (view.getName()) { %>\n\t<header class=\"page-header step-header\">\n\t\t<h2 data-type=\"wizard-step-name-container\" ><%= view.getName() %><\/h2>\n\t<\/header>\n<% } %>\n\n<div data-type=\"alert-placeholder-step\"><\/div>\n\n<% if (!view.hideContinueButton) { %>\n<div class=\"step-navigation-buttons-top form-actions form-actions-top\">\n\t<button class=\"btn btn-primary btn-large btn-block btn-continue\" data-action=\"submit-step\">\n\t\t<%= view.continueButtonLabel %>\n\t<\/button>\n<\/div>\n<% } %>\n\n<div class=\"row-fluid\">\n\t<div id=\"wizard-step-review-left\" class=\"wizard-step-content span8\"><\/div>\n\t<div id=\"wizard-step-review-right\" class=\"wizard-step-content span4\"><\/div>\n<\/div>\n<div class=\"row-fluid\">\n\t<div class=\"span8\">\n\t\t<div id=\"wizard-step-content\" class=\"wizard-step-content row-fluid\"><\/div>\n\n\t\t<div class=\"step-navigation-buttons form-actions hide-phone hidden-tablet\">\n\t\t\t<% if (!view.hideContinueButton) { %>\n\t\t\t\t<button class=\"btn btn-primary btn-large btn-continue<%=(view.hideSecondContinueButtonOnPhone)? ' hidden-phone': ''%>\" data-action=\"submit-step\">\n\t\t\t\t\t<%= view.continueButtonLabel %>\n\t\t\t\t<\/button>\n\t\t\t<% } %>\n\t\t\t<button class=\"btn btn-large btn-back\" <%= !view.hideBackButton ? '' : 'style=\"display:none;\"' %> data-action=\"previous-step\">\n\t\t\t\t<%= _('Back').translate() %>\n\t\t\t<\/button>\n\t\t<\/div>\n\n\t\t<% if (view.bottomMessage) { %>\n\t\t\t<br>\n\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"help-block stepgroup-bottom-message hide-phone text-left\">\n\t\t\t\t<%= view.bottomMessage %>\n\t\t\t<\/p>\n\t\t<% } %>\n\n\t<\/div>\n\t<div id=\"wizard-step-content-right\" class=\"span4\"><\/div>\n<\/div>\n\n<div class=\"row-fluid visible-phone visible-tablet\">\n    <div class=\"step-navigation-buttons form-actions\">\n        <% if (!view.hideContinueButton) { %>\n        <button class=\"btn btn-primary btn-large pull-right btn-continue<%=(view.hideSecondContinueButtonOnPhone)? ' hidden-phone': ''%>\" data-action=\"submit-step\">\n            <%= view.continueButtonLabel %>\n        <\/button>\n        <% } %>\n        <button class=\"btn btn-large pull-right btn-back\" <%= !view.hideBackButton ? '' : 'style=\"display:none;\"' %> data-action=\"previous-step\">\n\t\t\t<%= _('Back').translate() %>\n\t\t<\/button>\n    <\/div>\n\n    <% if (view.bottomMessage) { %>\n    <br>\n    <p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"help-block stepgroup-bottom-message text-left\">\n        <%= view.bottomMessage %>\n    <\/p>\n    <% } %>\n<\/div>","expired_link_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"internal-error-content\" class=\"view-body internal-error-content\">\n\t<%= view.options.message || _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>\n<hr>\n<div>\n\t<a class=\"btn btn-primary btn-large\" href=\"#\" data-touchpoint=\"login\"><%= _('Login').translate() %><\/a>\n\t<a class=\"btn btn-primary btn-large\" href=\"#\" data-touchpoint=\"register\"><%= _('Register').translate() %><\/a>\n<\/div>","order_wizard_paymentmethod_paypal_module_tmpl":"<div class=\"row-fluid\">\n\t<div class=\"span4\">\n\t\t<img class=\"paypal-logo\" src=\"<%= view.wizard.application.getConfig('paypal_logo', 'img\/paypal.png') %>\" alt=\"PayPal\">\n\t<\/div>\n\t<div class=\"span8\">\n\n\t\t<% if (view.model.get('isPaypalComplete')) { %>\n\t\t\t<p>\n\t\t\t\t<%= _('You have selected to pay using PayPal as your payment method.').translate() %>\n\t\t\t<\/p>\n\t\t\t<p>\n\t\t\t\t<%= _('To review your order, click the \"Continue\" button below.').translate() %>\n\t\t\t<\/p>\n\t\t<% } else { %>\n\t\t\t<p>\n\t\t\t\t<%= _('Please select the \"Continue To PayPal\" button below to sign in into your PayPal account.').translate() %>\n\t\t\t<\/p>\n\t\t\t<p>\n\t\t\t\t<%= _('You will be redirected to PayPal, but will have an opportunity to review your order back on our site before purchasing.').translate() %>\n\t\t\t<\/p>\n\t\t<% } %>\n\t<\/div>\n<\/div>","order_wizard_confirmation_module_tmpl":"<%\n\tvar continueURL = '\/'\n\t,\ttouchpoint = true;\n\tif(SC.ENVIRONMENT.siteSettings.iswsdk && SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl){\n\t\tcontinueURL = SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl;\n\t\ttouchpoint = false;\n\t}\n%>\n<div class=\"alert alert-block alert-success fade in thanks-panel-info\">\n\t<h3 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"alert-heading\"><%= _('Thank you for shopping with us!').translate() %><\/h3>\n\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;margin-top:10px;\"><%= _('Your order number is <big><strong>#$(0)<\/strong><\/big>').translate(view.confirmationNumber) %>\n\t<\/p>\n\t<p style=\"font-family: Verdana, Geneva, sans-serif;margin-top:10px\"><%= _('We received your order and will process it shortly.').translate() %><\/p>\n\t<p style=\"font-family: Verdana, Geneva, sans-serif;margin-top:10px\"><%= _('A confirmation email will arrive momentarily.').translate() %><\/p>\n\t<p style=\"margin-top:10px\"><b>Download Notice:<\/b> If you purchased a digital download as part of your order please <a href=\"http:\/\/www.folkways.si.edu\/my-downloads\/smithsonian\">click here<\/a> to access your files.<p>\n\t<p style=\"margin-top:10px\"><b>Membership Notice:<\/b> If you purchased a Folkways membership, we will update your account by the end of the next business day and send an email confirming your membership and access to free downloads and special discounts.<\/p>\n\t<p style=\"margin-top:10px\"><b>Pre-Order Notice:<\/b> If you purchased a pre-order that included pre-release downloads as part of your order please <a href=\"http:\/\/www.folkways.si.edu\/my-downloads\/smithsonian\">click here<\/a> to access your files.<p>\n\t<p style=\"margin-top:10px\">Please contact us at <a href=\"mailto:SmithsonianFolkways@SI.EDU\">SmithsonianFolkways@SI.EDU<\/a> with any questions.<\/p>\t\n\t<p style=\"margin-top:10px\">\n\t\t<a class=\"btn btn-success\" href=\"http:\/\/www.folkways.si.edu\">Continue Shopping<\/a>\n\t<\/p>\n<\/div>","order_wizard_showshipments_module_tmpl":"<%\nvar application = view.application\n,\tcollapse_elements = application.getConfig('collapseElements')\n,\tlines = view.model.get('lines');\n%>\n\n<% if (view.showShippingInfo()) { %>\n\t<section class=\"shipments-shipping-details\">\n\t\t<div class=\"row-fluid shipments-shipping-details-body\">\n\t\t\t<div class=\"span6 shipments-shipping-address\">\n\t\t\t\t<h4 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"section-header\">\n\t\t\t\t\t<%= _('Shipping Address').translate() %>\n\t\t\t\t<\/h4>\n\n\t\t\t\t<%\n\t\t\t\t\tvar shipping_address = view.profile.get('addresses').get(view.model.get('shipaddress'));\n\t\t\t\t%>\n\n\t\t\t\t<% if (shipping_address) { %>\n\t\t\t\t\t<%= address(shipping_address, {\n\t\t\t\t\t\thideActions: true\n\t\t\t\t\t,\thideDefaults: true\n\t\t\t\t\t,\tmanage: 'shipaddress'\n\t\t\t\t\t}) %>\n\n\t\t\t\t\t<% if (view.options.edit_url) { %>\n\t\t\t\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url %>?force=true\" class=\"btn-edit-address\">\n\t\t\t\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url %>?force=true\" class=\"btn-edit-address\">\n\t\t\t\t\t\t<%= _('Please select a valid shipping address').translate() %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } %>\n\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 shipments-shipping-method\">\n\t\t\t\t\t<h4 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"section-header\">\n\t\t\t\t\t\t<%= _('Shipping Method').translate() %>\n\t\t\t\t\t<\/h4>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar shipmethods = view.model.get('shipmethods')\n\t\t\t\t\t\t,\tselected_shipmethod = shipmethods.findWhere({internalid: view.model.get('shipmethod')});\n\t\t\t\t\t%>\n\t\t\t\t\t<% if (view.options.edit_url) { %>\n\t\t\t\t\t\t<select id=\"delivery-options\" class=\"input-large\" name=\"delivery-options\">\n\t\t\t\t\t\t\t<% if (!selected_shipmethod) { %>\n\t\t\t\t\t\t\t\t<option><%= _('Please select a shipping method').translate() %><\/option>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% shipmethods.each(function (shipmethod) { %>\n\t\t\t\t\t\t\t\t<option value=\"<%- shipmethod.get('internalid')%>\"\n\t\t\t\t\t\t\t\t\t<%= view.model.get('shipmethod') === shipmethod.get('internalid') ? 'selected' : '' %>>\n\t\t\t\t\t\t\t\t\t<%= shipmethod.get('name') %>: <%= shipmethod.get('rate_formatted') %>\n\t\t\t\t\t\t\t\t<\/option>\n\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t<\/select>\n\t\t\t\t\t<% } else if (selected_shipmethod) { %>\n\t\t\t\t\t\t<span class=\"shipmethod-name\">\n\t\t\t\t\t\t\t<%= selected_shipmethod.get('name') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<span class=\"shipmethod-rate\">\n\t\t\t\t\t\t\t<%= selected_shipmethod.get('rate_formatted') %>\n\t\t\t\t\t\t<\/span>\n\n\t\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/section>\n<% } %>\n\n<section class=\"shipments-cart-details\">\n\t<!--<div class=\"shipments-cart-details-header\"><\/div>-->\n\t<!-- ITEMS -->\n\t<%= SC.macros.itemDetailsLine({\n\t\t\tapplication: application\n\t\t,\tlines:  lines\n\t\t,\twellHeader: lines && 1 < lines.length ? _('Products ($(0))').translate(lines.length) : _('Product ($(0))').translate(lines.length)\n\t\t,\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tcontent: '&nbsp;'\n\t\t\t\t,\tclassName: 'span2'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\taddStart: '<div class=\"span10 item-details-line-information\">'\n\t\t\t\t,\tcontent: _('Product').translate()\n\t\t\t\t,\tclassName: 'span5 popover-content popover-heading'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: _('Qty').translate()\n\t\t\t\t,\tclassName: 'span1 popover-content popover-heading col-quantity'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: _('Unit price').translate()\n\t\t\t\t,\tclassName: 'span3 popover-content popover-heading col-amount'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: _('Amount').translate()\n\t\t\t\t,\tclassName: 'span3 popover-content popover-heading col-amount'\n\t\t\t\t,\taddEnd: '<\/div>'\n\t\t\t\t}\n\t\t\t]\n\t\t,\tcolumnsBody: [\n\t\t\t\t{\n\t\t\t\t\tcontent: function(line) {return SC.macros.itemDetailsLineImage({item: line.get('item'), application: application})}\n\t\t\t\t,\tclassName: 'span2 item-details-line-image thumbnail item-image'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\taddStart: '<div class=\"span10 item-details-line-information\">'\n\t\t\t\t,\tcontent: function(line) {return SC.macros.itemDetailsLineProduct({item: line.get('item'), hideLink: view.options.hide_item_link})}\n\t\t\t\t,\tclassName: 'span5 popover-content'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Quantity<\/span> <span class=\"item-quantity\">$(0)<\/span>').translate(line.get('quantity'))}\n\t\t\t\t,\tclassName: 'span1 popover-content col-quantity'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Unit price<\/span> <span style=\"font-weight: bold;font-family: Georgia;color: #E07007;\" class=\"item-price\">$(0)<\/span>').translate(line.get('rate_formatted'))}\n\t\t\t\t,\tclassName: 'span3 popover-content col-amount'\n\t\t\t\t}\n\t\t\t,\t{\n\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Amount<\/span> <span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"item-amount\">$(0)<\/span>').translate(line.get('amount_formatted'))}\n\t\t\t\t,\tclassName: 'span3 popover-content col-amount'\n\t\t\t\t,\taddEnd: '<\/div>'\n\t\t\t\t}\n\t\t\t]\n\t\t}) %>\n<\/section>\n","order_wizard_address_module_tmpl":"<%\n\tvar is_same_as_enabled = view.isSameAsEnabled\n\t,\tselected_address = view.address\n\t,\taddress_book = view.getAddressesToShow();\n%>\n\n<% if (!view.options.hide_title && view.getTitle()) { %>\n\t<h4 style=\"font-family: Georgia;\">\n\t\t<%= view.getTitle() %>\n\t<\/h4>\n<% } %>\n\n<% if (is_same_as_enabled) { %>\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"checkbox same-as-address\">\n\t\t<input\n\t\t\t<%= view.disableSameAsCheckBox ? 'disabled=\"disabled\"' : '' %>\n\t\t\ttype=\"checkbox\"\n\t\t\tname=\"same-as-address\"\n\t\t\tdata-action=\"same-as\"\n\t\t\tvalue=\"1\"\n\t\t\t<%= view.sameAs ? 'checked' : '' %>\n\t\t>\n\t\t<%= view.sameAsMessage %>\n\t<\/label>\n<% } %>\n\n<% if ((is_same_as_enabled && view.sameAs) || view.addressId && !selected_address.isNew()) { %>\n\t<%= address(selected_address, {\n\t\thideActions: true\n\t,\thideDefaults: true\n\t,\tmanage: view.manage\n\t}) %>\n\n\t<% if (!is_same_as_enabled || !view.sameAs) { %>\n\t\t<p class=\"actions\">\n\t\t\t<% if (!view.isGuest && !view.options.edit_url) { %>\n\t\t\t\t<a class=\"btn btn-link edit-address\" href=\"\/addressbook\/<%- selected_address.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\n\t\t\t<a href=\"#\" class=\"btn btn-link\" data-action=\"change-address\">\n\t\t\t\t<%= view.getChangeLinkText() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\t<% } %>\n<% } else if (address_book.length && !view.isGuest) { %>\n\t<div id=\"address-module-list-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-list-placeholder\">\n\t\t<p>\n\t\t\t<a class=\"btn btn-link add-new-address\" href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Add New Address').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\n\t\t<%\n\t\t\t\/\/ Wrap the address address macro to pass options in\n\t\t\tvar addressWrap = function (address) {\n\t\t\t\treturn SC.macros['address'](address, {\n\t\t\t\t\tshowSelect: true\n\t\t\t\t,\tselectMessage: view.selectMessage\n\t\t\t\t,\thideDefaults: true\n\t\t\t\t});\n\t\t\t}\n\t\t%>\n\n\t\t<%= displayInRows(address_book.models, addressWrap, view.itemsPerRow || 2) %>\n\t<\/div>\n<% } else { %>\n\t<div id=\"address-module-form-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-form-placeholder\">\n\t\t<form method=\"POST\">\n\t\t<%= addressFrom(selected_address, {\n\t\t\t\tcountries: view.wizard.application.getConfig('siteSettings.countries')\n\t\t\t,\tmanage: view.manage\n\t\t\t,\thideDefaults: true\n\t\t}) %>\n\t\t<\/form>\n\n\t\t<% if (view.showSaveButton) { %>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\" data-action=\"submit\">\n\t\t\t\t\t<%= _('Save Address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<% } %>","page_not_found_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"page-not-found-content\" class=\"view-body page-not-found-content\">\n\t<%= _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","order_wizard_msr_non_shippable_items_module_tmpl":"<%\n\tvar\tlines_not_shippable = view.getLinesNotShippable()\n\t,\tapplication = view.wizard.application;\n%>\n<% if (lines_not_shippable && lines_not_shippable.length) { %>\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\" id=\"nonshippable-items-accordion\">\n\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Items that don\\'t require shipping <span class=\"items-count\">($(0))<\/span>').translate(lines_not_shippable.length) %>\n\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" style=\"display: none;\" id=\"accordion-body-nonshipable-items\">\n\n\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t<div class=\"span2\">&nbsp;<\/div>\n\t\t\t\t<div class=\"span4 grey-color item-title\"><%= _('Item').translate() %><\/div>\n\t\t\t\t<div class=\"span2 grey-color qty-title\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t<div class=\"span2 grey-color unit-price-title\"><%= _('Unit Price').translate() %><\/div>\n\t\t\t\t<div class=\"span2 grey-color text-center amount-title\"><%= _('Amount').translate() %><\/div>\n\t\t\t<\/div>\n\n\t\t\t<% _.each(lines_not_shippable, function (line) { %>\n\t\t\t\t<%\n\t\t\t\t\titem_quantity_macro = (function (is_item_selected, quantity, item_id, current_quantity)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn itemEditableQuantity({\n\t\t\t\t\t\t\t\tisReadOnly: !is_item_selected\n\t\t\t\t\t\t\t,\titemId: item_id\n\t\t\t\t\t\t\t,\tquantity: quantity\n\t\t\t\t\t\t\t,\tcurrentQuantity: current_quantity\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t})(line.get('check'), line.get('quantity'), line.id, line.get('splitquantity'));\n\t\t\t\t%>\n\t\t\t\t<%= itemDetailsRow({\n\t\t\t\t\t\tline: line\n\t\t\t\t\t,\tapplication: application\n\t\t\t\t\t,\titemClass: 'multishipto-item-table-row popover-content'\n\t\t\t\t\t,\tquantityMacro: item_quantity_macro\n\t\t\t\t\t,\tshowSelectable: false\n\t\t\t\t\t,\tshowActions: false\n\t\t\t\t\t,\tindexes: [\n\t\t\t\t\t\t,\t4 \/*title*\/\n\t\t\t\t\t\t,\t2 \/*quantity*\/\n\t\t\t\t\t\t,\t2 \/*unit price*\/\n\t\t\t\t\t\t,\t2 \/*amount*\/]\n\t\t\t\t\t}) %>\n\t\t\t<% }) %>\n\t\t<\/div>\n\t<\/div>\n<% } %>","checkout_as_guest_tmpl":"<p>\n\t<%= _('Checkout as a guest and you will have an opportunity to create an account when you are finished.').translate() %>\n<\/p>\n\n<form class=\"register-guest-form\">\n\t<fieldset>\n\t\t<div class=\"form-actions register-guest-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-large\">\n\t\t\t\t<%= _('Checkout as a Guest').translate() %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>\n\n<div class=\"collapse in register\">\n\t<%= _('Want to create an Account first?').translate() %>\n\t<a href=\"#\" class=\"btn-link\" data-toggle=\"collapse\" data-target=\".register\">\n\t\t<%= _('Register Now').translate() %>\n\t<\/a>\n<\/div>","order_wizard_msr_shipmethod_module_tmpl":"<%\n\tvar packages = view.getPackages()\n\t,\tnon_shippable_lines = view.wizard.model.getNonShippableLines()\n\t,\tgeneral_collapse_elements =  view.getDefaultCollapseItem()\n\t,\tshow_edit_address_url = !!view.options.show_edit_address_url\n\t,\tshow_combo = view.options.show_combo\n\t,\tis_read_only = view.is_read_only\n\t,\thide_accordion = view.options.hide_accordion\n\t,\tshow_items = !view.options.hide_items\n\t,\tapplication = view.wizard.application;\n%>\n\n<% if (!view.options.hide_title && view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<div data-type=\"shipments-list\">\n\t<% _.each(packages, function(package) { %>\n\t\t<%\n\t\t\tvar items = package.lines\n\t\t\t,\tselected_address = package.address\n\t\t\t,\tdelivery_methods = package.deliveryMethods\n\t\t\t,\tcollapse_elements = _.isUndefined(package.collapse_elements) ? general_collapse_elements : package.collapse_elements;\n\t\t%>\n\t\t<div class=\"row-fluid\" data-type=\"package\" data-address-id=\"<%= selected_address.get('internalid') %>\">\n\t\t\t<div data-type=\"package-style\" class=\"clearfix multishipto-package multishipto-package-reduced\">\n\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t<div class=\"row-fluid\" data-type=\"address-container\">\n\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t<h3 class=\"section-sub-tile-header delivery-method-title\"> <%= _('Shipment').translate() %> <\/h3>\n\n\t\t\t\t\t\t<%= address(selected_address,  {\n\t\t\t\t\t\t\thideActions: true\n\t\t\t\t\t\t,\thideDefaults: true\n\t\t\t\t\t\t,\tmanage: 'shipaddress'\n\t\t\t\t\t\t}) %>\n\n\t\t\t\t\t\t<% if (show_edit_address_url)  { %>\n\t\t\t\t\t\t\t<a href=\"\/addressbook\/<%- selected_address.get('internalid') %>\" class=\"edit-address-link\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t<h3 class=\"section-sub-tile-header delivery-method-title\"> <%= _('Delivery Method').translate() %> <\/h3>\n\n\t\t\t\t\t\t\t<% if (!delivery_methods.length) { %>\n\t\t\t\t\t\t\t\t<div class=\"error-message-no-shipping-address\" ><%= _('Warning: No Shipping Methods are available for this address').translate() %><\/div>\n\t\t\t\t\t\t\t<% } else { %>\n\n\t\t\t\t\t\t\t\t<% if (show_combo) { %>\n\t\t\t\t\t\t\t\t\t<% if (!is_read_only) { %>\n\n\t\t\t\t\t\t\t\t\t\t<select data-address-id=\"<%= selected_address.get('internalid') %>\" data-type=\"address-selector\" class=\"multishipto-address-selector\" >\n\t\t\t\t\t\t\t\t\t\t<% \tvar is_a_selected_method = delivery_methods.findWhere({check: true})\n\t\t\t\t\t\t\t\t\t\t\t,\tis_warning_shown = false; %>\n\t\t\t\t\t\t\t\t\t\t<% delivery_methods.each(function(delivery_method, index) { %>\n\t\t\t\t\t\t\t\t\t\t\t<% if (!is_a_selected_method && !is_warning_shown) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t<% is_warning_shown = true; %>\n\t\t\t\t\t\t\t\t\t\t\t\t<option><%= _('Please select a shipping method').translate() %><\/option>\n\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t\t\t\t\t\t<option  value=\"<%= delivery_method.get('internalid') %>\" data-type=\"delivery-method-option\" class=\"delivery-method-option <%= delivery_method.get('check') ? 'active' : '' %>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t<%= delivery_method.get('check') ? 'selected' : '' %> >\n\t\t\t\t\t\t\t\t\t\t\t\t <%= _('$(0) $(1)').translate(_.isUndefined(delivery_method.get('rate_formatted')) ? '' : delivery_method.get('rate_formatted') , delivery_method.get('name')) %>\n\t\t\t\t\t\t\t\t\t\t\t<\/option>\n\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t\t<\/select>\n\n\t\t\t\t\t\t\t\t\t<% } else { %>\n\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<% var delivery_method = delivery_methods.first() %>\n\t\t\t\t\t\t\t\t\t\t\t<% if (delivery_method) { %>\n\t\t\t\t\t\t\t\t\t\t\t<%=\t_('$(0) $(1)').translate(_.isUndefined(delivery_method.get('rate_formatted')) ? '' : delivery_method.get('rate_formatted') , delivery_method.get('name')) %>\n\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t\t\t<% } else { \/\/Show Radio %>\n\n\t\t\t\t\t\t\t\t\t<div data-type=\"delivery-method-options-container\">\n\n\t\t\t\t\t\t\t\t\t\t<% delivery_methods.each(function(delivery_method, index) { %>\n\t\t\t\t\t\t\t\t\t\t\t<div data-address-id=\"<%= selected_address.get('internalid') %>\" data-deliverymethod-id=\"<%= delivery_method.get('internalid') %>\" data-type=\"delivery-method-option\" class=\"delivery-method-option\" >\n\t\t\t\t\t\t\t\t\t\t\t\t<input data-type=\"radio-delivery-method\" id=\"radio-<%=selected_address.get('internalid') %>-<%=delivery_method.get('internalid') %>\" type=\"radio\" value=\"<%= delivery_method.get('internalid') %>\" name=\"<%= selected_address.get('internalid') %>\" <%= delivery_method.get('check') ? 'checked' : '' %> \/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"delivery-method-label\" for=\"radio-<%=selected_address.get('internalid') %>-<%=delivery_method.get('internalid') %>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('<span data-type=\"delivery-method-cost\">$(0)<\/span> <span data-type=\"delivery-method-title\">$(1)<\/span>').translate(_.isUndefined(delivery_method.get('rate_formatted')) ? '' : delivery_method.get('rate_formatted') , delivery_method.get('name')) %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<% }) %>\n\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<% if (!hide_accordion) { %>\n\t\t\t\t\t<div class=\"row-fluid control-group items-container\" data-type=\"accordion\">\n\t\t\t\t\t\t<% if (show_items) { %>\n\t\t\t\t\t\t<div class=\"accordion\" id=\"accordion<%=selected_address.get('internalid')%>\">\n\t\t\t\t\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t\t\t\t<div class=\"accordion-heading well well-header\" >\n\t\t\t\t\t\t\t\t\t <div class=\"accordion-toggle <%= collapse_elements ? 'collapsed' : '' %>\" data-action=\"items-expander\" data-toggle=\"collapse\" data-target=\"#accordion-body<%=selected_address.get('internalid')%>\">\n\t\t\t\t\t\t\t\t\t\t<%= _('Items (<span class=\"items-count\">$(0)<\/span>)').translate(items.length) %>\n\t\t\t\t\t\t\t\t\t\t<% if (items.length) { %>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon-minus-sign pull-right\"><\/i>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon-plus-sign pull-right\"><\/i>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t<div id=\"accordion-body<%=selected_address.get('internalid')%>\" class=\"accordion-body collapse <%= collapse_elements ? '' : 'in' %>\">\n\t\t\t\t\t\t\t\t\t<div class=\"accordion-inner\" data-content=\"items-body\" >\n\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t\t\t\t<% if (view.options.edit_shipment_url) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t<a data-type=\"edit-shipment-link\" href=\"<%= view.options.edit_shipment_url + '?force=true'  %>\"><%= _('Edit Shipment').translate() %><\/a>\n\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t\t<% _.each(items, function(line) { %>\n\t\t\t\t\t\t\t\t\t\t\t<%= itemDetailsCondensed({\n\t\t\t\t\t\t\t\t\t\t\t\t\tapplication: application\n\t\t\t\t\t\t\t\t\t\t\t\t,\tline: line\n\t\t\t\t\t\t\t\t\t\t\t\t,\tactionMacro: null\n\t\t\t\t\t\t\t\t\t\t\t\t,\tshowItemsDetails: true\n\t\t\t\t\t\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t\t\t\t<% }) %>\n\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } else {%>\n\t\t\t\t\t\t<span class=\"item-count-container\"><%= items.length > 1 ? _('<span class=\"items-count\">$(0)<\/span> Items').translate(items.length) : _('<span class=\"items-count\">$(0)<\/span> Item').translate(items.length) %><\/span>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% }) %>\n<\/div>\n\n<% if (!packages || !packages.length) { %>\n\t<p><%= _('You haven\\'t set any shipments yet').translate() %><\/p>\n<% } %>","internal_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"internal-error-content\" class=\"view-body internal-error-content\">\n\t<%= view.options.message || _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","order_wizard_paymentmethod_selector_module_tmpl":"<% var active_modules = _.filter(view.modules,function(module){ return module.isActive;}) %>\n<h4 style=\"font-family: Verdana, Geneva, sans-serif;font-size: 18px;\" class=\"section-header\">\n\t<% if (active_modules.length > 1) { %>\n\t\t<%= _('Pay With:').translate() %>\n\t<% } else { %>\n\t\t<%= _('Pay With: $(0)').translate(active_modules[0].name) %>\n\t<% }  %>\n<\/h4>\n\n<% if (active_modules.length > 1) { %>\n\t<ul class=\"nav nav-tabs payment-method-list\">\n\t<% _.each(view.modules, function (module) { %>\n\t<% if (module.isActive) { %>\n\t\t<li class=\"<%- view.selectedModule.type === module.type ? 'active' : ''%>\">\n\t\t\t<a style=\"font-family: Verdana, Geneva, sans-serif;\" data-target=\"#payment-method-selector-<%= module.type %>\" data-toggle=\"tab\" data-type=\"<%- module.type %>\" href=\"#\">\n\t\t\t\t<%= module.name %>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t<% }) %>\n\t<\/ul>\n<% }  %>\n\n<div class=\"tab-content\">\n<% _.each(view.modules, function (module) { %>\n\t<% if (module.isActive) { %>\n\t\t<div class=\"tab-pane <%= view.selectedModule.type === module.type ? 'active' : ''%> payment-method-selector-<%= module.type %>\" id=\"payment-method-selector-<%= module.type %>\"><\/div>\n\t<% } %>\n<% }) %>\n<\/div>","iframe_tmpl":"<iframe src=\"<%- view.src %>\" class=\"modalIFrame\"><\/iframe>\n<script type=\"text\/javascript\">\n\tif(navigator.userAgent.match(\/iPhone\/i)){\n\t\tjQuery('.modalIFrame').attr('scrolling','no');\n\t}\n<\/script>","wizard_module_tmpl":"<h2>Module Name<\/h2>","login_tmpl":"<h3><%= _('Returning customer').translate() %><\/h3>\n<p style=\"font-family: Verdana, Geneva, sans-serif;\"><%= _('Sign in below to checkout with an existing account:').translate() %><\/p>\n\n<div data-type=\"alert-placeholder\"><\/div>\n\n<form class=\"login-form\">\n\t<fieldset>\n\t\t<div class=\"control-group\">\n\t\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"login-email\">\n\t\t\t\t<%= _('<strong>Email Address<\/strong> <small>(required)<\/small>').translate() %>\n\t\t\t<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<input autofocus type=\"email\" name=\"email\" id=\"login-email\" class=\"input-xlarge\" placeholder=\"<%- _('your@email.com').translate() %>\">\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"control-group\">\n\t\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"login-password\">\n\t\t\t\t<%= _('<strong>Password<\/strong> <small>(required)<\/small>').translate() %>\n\t\t\t<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<input type=\"password\" name=\"password\" id=\"login-password\" class=\"input-xlarge\">\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"form-actions sign-in-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-large\">\n\t\t\t\t<%= _('Sign In').translate() %>\n\t\t\t<\/button>\n\n\t\t\t<a class=\"btn btn-link\" data-type=\"forgot-password\" href=\"\/forgot-password\">\n\t\t\t\t<%=_('Forgot password?').translate()%>\n\t\t\t<\/a>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>","order_wizard_promocode_unsupported_tmpl":"<div data-type=\"promocode-unsupported-warning-container\" class=\"promocode-unsupported multishipto-package\">\n\n\t<p>\n\t<%= view.msg %>\n\t<\/p>\n\n\t<div data-type=\"action-buttons-container\" class=\"buttons-container\">\n\t\t<button class=\"btn btn-primary btn-large btn-continue\" data-action=\"continue\"><%= _('Continue').translate() %><\/button>\n\t\t<button type=\"button\" class=\"btn btn-large\" data-dismiss=\"modal\" data-type=\"cancel\"><%= _('Cancel').translate() %><\/button>\n\t<\/div>\n<\/div>","order_wizard_register_guest_module_tmpl":"<h3><%= _('Create an account (optional):').translate() %><\/h3>\n<form>\n\n\t<%= registerFormFields({view:view}) %>\n\t\n\t<p>\n\t\t<button type=\"submit\" class=\"btn btn-primary btn-large\">\n\t\t\t<%= _('Create Account').translate() %>\n\t\t<\/button>\n\t<\/p>\n<\/form>","order_wizard_msr_enablelink_module_tmpl":"<div class=\"multishipto-enable-link-container\">\n\t<a href=\"#\" data-action=\"change-status-multishipto\" data-type=\"<%= view.model.get('ismultishipto') ? 'multishipto' : 'singleshipto' %>\" ><%= view.model.get('ismultishipto') ? _('I want ship to a single address').translate() :  _('I want ship to multiple addresses').translate() %><\/a>\n\t<% if (!view.model.get('ismultishipto')) { %>\n\t<i class=\"multishipto-help-icon icon-question-sign\"  data-toggle=\"tooltip\" title=\"\" data-original-title=\"<%= _('Click here if you want to divide your order and ship it to multiple addresses. All your data will be saved.').translate() %>\" ><\/i>\n\t<% } %>\n<\/div>","order_wizard_termsandconditions_module_tmpl":"<% if (view.options.show_checkbox) { %>\n<label class=\"checkbox\">\n\t<input type=\"checkbox\" id=\"termsandconditions\" name=\"termsandconditions\" <%= view.wizard.model.get('agreetermcondition') ? 'checked' : ''%>>\n\t<%= _('I agree to the <a data-type=\"term-condition-link-module\" data-toggle=\"show-terms\" href=\"#\">Terms & Conditions<\/a>').translate() %>\n<\/label>\n<% } else { %>\n<p class=\"terms-text-container\">\n\t<%= _('By placing your order, you are agreeing to our <a data-type=\"term-condition-link-module\" data-toggle=\"show-terms\" href=\"#\">Terms & Conditions<\/a>').translate() %>\n<\/p>\n<% } %>","address_tmpl":"<% var model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3>\n\t\t<%= model.isNew() ? _('Add a new Address').translate() : _('Update Address').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no address on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter a shipping address bellow').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"addressbook.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= addressFrom(model, {\n\t\tcountries: view.options.application.getConfig('siteSettings.countries')\n\t,\thideDefaults: view.options.application.getConfig('currentTouchpoint') !== 'customercenter' \/* only show the \"defaults\" functionality in myaccount *\/\n\t}) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\t<div class=\"<%- view.inModal ? 'modal-footer' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t<%= model.isNew() ? _('Save Address').translate() : _('Update Address').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","macros":["<% registerMacro('countriesDropdown', function (countries, selected_country, manage, cssclass) { %>\n<select class=\"<%= cssclass || 'input-xlarge' %>\" id=\"<%= manage ? manage : ''%>country\" name=\"country\" data-type=\"country\">\n\t<option value=\"\">\n\t\t<%= _('-- Select --').translate() %>\n\t<\/option>\n\t<% _.each(_.values(countries), function (country, index) { %>\n\t\t<option value=\"<%- country.code %>\" <%= country.code === selected_country ? 'selected' : '' %>>\n\t\t\t<%= country.name %>\n\t\t<\/option>\n\t<% }) %>\n<\/select>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('breadcrumb', function(pages) { %>\n<% pages = _.isUndefined(pages) || _.isArray(pages) ? pages : [pages]; %>\n<div id=\"banner-breadcrumb-top\" class=\"content-banner banner-breadcrumb-top\"><\/div>\n<ul class=\"breadcrumb hidden-phone\" itemprop=\"breadcrumb\">\n<% _.each(pages, function(link, index) { %>\n\t<% if (link) { %>\n\t\t<% if (index < pages.length - 1) { %>\n\t\t\t<li>\n\t\t\t\t<a <%= _.objectToAtrributes(link) %>><%= link.text %><\/a>\n\t\t\t\t<span class=\"divider\">\/<\/span>\n\t\t\t<\/li>\n\t\t<% } else { %>\n\t\t\t<li class=\"active\">\n\t\t\t\t<%= link.text %>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n<\/ul>\n<div id=\"banner-breadcrumb-bottom\" class=\"content-banner banner-breadcrumb-bottom\"><\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('formatPaymentMethod', function (payment, creditCardIcons, billingInfo) {\n\t%><span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"payment-method-formatted payment-method-formatted-<%=payment.get('type')%>\"><%\n\tswitch (payment.get('type')){\n\t\tcase 'creditcard':\n\t\t\tvar creditcard = payment.get('creditcard');\n\t\t\tif (creditcard && creditcard.ccnumber) {\n\t\t\t\tvar ccpname = creditcard.paymentmethod ? creditcard.paymentmethod.name : ''; %>\n\t\t\t\t<b style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"credit-card-icon\">\n\t\t\t\t\t<% if(creditCardIcons && ccpname in creditCardIcons){ %>\n\t\t\t\t\t\t<img class=\"credit-card-icon\" src=\"<%= creditCardIcons[ccpname] %>\" alt=\"<%= ccpname %>\">\n\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t<%= ccpname %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span>&nbsp;-&nbsp;<\/span>\n\t\t\t\t\t<%= _('Ending in $(0)').translate(creditcard.ccnumber.replace(\/\\*\/g, '')) %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<b style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"credit-card-name\">\n\t\t\t\t\t<%= creditcard.ccname %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<%= _('Expires <span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"credit-card-expiredate\">$(0)<\/span>').translate(creditcard.ccexpiredate)%>\n\t\t\t<% } else { %>\n\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t<%}\n\t\t\tbreak;\n\t\tcase 'giftcertificate':\n\t\t\tvar code_length = payment.get('giftcertificate').code.length; %>\n\t\t\t<%= _('Ending in: $(0)').translate(payment.get('giftcertificate').code.substring(code_length - 4, code_length)) %>\n\t\t\t<% break;\n\t\tcase 'invoice': %>\n\t\t\t<b class=\"payment-method-formatted-invoice-terms\">\n\t\t\t\t<%= _('Invoice: Terms $(0)').translate(payment.get('paymentterms').name) %>\n\t\t\t<\/b>\n\t\t\t<% if(payment.get('purchasenumber')) { %>\n\t\t\t\t<br\/>\n\t\t\t\t<span class=\"payment-method-formatted-invoice-purchasenumber\">\n\t\t\t\t\t<%= _('Purchase Number: $(0)').translate(payment.get('purchasenumber')) %>\n\t\t\t\t<\/span>\n\t\t\t<% }\n\t\t\tbreak;\n\t\tcase 'paypal': %>\n\t\t\t<b>\n\t\t\t\t<%= _('Payment via Paypal').translate() %>\n\t\t\t<\/b>\n\t\t\t<%\n\t\t\tbreak;\n\t\tdefault: %>\n\t\t<%= payment.get('type') || _('Not specified').translate() %><%\n\t}\n\t%><\/span><%\n\tif (payment.get('ccstreet') && billingInfo)\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Street: <span class=\"CardStreet\">$(0)<\/span>').translate(payment.get('ccstreet')) %>\n\t<% }\n\tif (payment.get('cczipcode') && billingInfo)\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Zip Code: <span class=\"CardZipCode\">$(0)<\/span>').translate(payment.get('cczipcode')) %>\n\t<% }\n}) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListNavigable', function (options) { %>\n<%\n\tvar macros = SC.macros\n\t,\tis_advanced = SC.ENVIRONMENT.siteType !== 'STANDARD'\n\n\t,\tview = options.view\n\t,\tapplication = view.application\n\n\t,\tline = options.line\n\t,\tline_id = line.get('internalid')\n\n\t,\titem = line.get('item')\n\t,\titem_id = item.get('internalid')\n\n\t,\tstock_info = item.getStockInfo()\n\t,\tthumbnail = item.get('_thumbnail')\n\n\t,\tlink_attributes = _.getItemLinkAttributes(item);\n%>\n<article id=\"<%- line_id %>\" class=\"item-list-navigable <%= line_id %>\" data-item-id=\"<%= item_id %>\">\n    <div class=\"item\">\n        <div class=\"thumbnail\">\n            <% if (options.showActions) { %>\n            <a href=\"<%= item.get('custitem_catalog_itemurl')%>\">\n                <img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n            <\/a>\n            <% } else { %>\n            <img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n            <% } %>\n        <\/div>\n        <div class=\"info\">\n            <div class=\"details\">\n                <div class=\"name\">\n                    <% if (options.showActions) { %>\n                    <a style=\"color: #526C79;font-family: Georgia, 'Times New Roman', Times, serif;\" href=\"<%= item.get('custitem_catalog_itemurl')%>\">\n                        <strong><%= item.get('displayname') %><\/strong>\n                    <\/a>\n                    <% } else { %>\n                    <strong style=\"color: #526C79;font-family: Georgia, 'Times New Roman', Times, serif;\"><%= item.get('displayname') %><\/strong>\n                    <% } %>\n                <\/div>\n                <div class=\"name\">\n                    <span class=\"artist-name\"><%= item.get('custitem_artistname') %><\/span>\n                <\/div>\n                <div class=\"stock\">\n                    <%= macros.itemDetailsStock(stock_info) %>\n                <\/div>\n                <div style=\"font-weight: bold;font-family: Georgia;\" class=\"price\">\n                    <%= macros.showItemPrice(line.getPrice(), stock_info.isInStock) %>\n                <\/div>\n                <div class=\"sku\" style=\"display: none;\">\n                    <%= _('<span class=\"text-light\">SKU:<\/span> #$(0)').translate(item.get('_sku')) %>\n                <\/div>\n                <div style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"sku\">\n                    <%= item.get('storedescription') %>\n                <\/div>\n                <div class=\"item-options\">\n                    <%= item.renderAllOptionSelected() %>\n                <\/div>\n            <\/div>\n            <div class=\"summary\">\n                <div class=\"quantity\">\n                    <% if (options.showActions) { %>\n                    <form action=\"#\" data-action=\"update-quantity\">\n                        <input type=\"hidden\" name=\"internalid\" id=\"update-internalid-<%= line_id %>\" class=\"update-internalid-<%= line_id %>\" value=\"<%- line_id %>\">\n                        <label for=\"quantity-<%= line_id %>\">\n                            <div class=\"quantity\"><%= _('Quantity:').translate() %><\/div>\n                            <% if (item.get('_itemType') !== 'GiftCert') { %>\n                            <input type=\"number\" name=\"quantity\" id=\"quantity-<%= line_id %>\" class=\"input-mini quantity-<%= line_id %>\" value=\"<%- line.get('quantity') %>\" min=\"1\">\n                            <% } else { %>\n                            <input type=\"hidden\" name=\"quantity\" id=\"quantity-<%= line_id %>\" value=\"1\">\n                            <% } %>\n                        <\/label>\n                    <\/form>\n                    <% } else { %>\n                    <%= _('Qty: $(0)').translate(line.get('quantity')) %>\n                    <% } %>\n                <\/div>\n                <div class=\"amount\">\n                    <%= _('<span class=\"amount-label\">Amount:<\/span> $(0)').translate(line.get('total_formatted')) %>\n\n                    <% if (line.get('amount') > line.get('total')) {%>\n                    <small class=\"muted crossed\"><%= line.get('amount_formatted') %><\/small>\n                    <% } %>\n                <\/div>\n            <\/div>\n            <% if (options.showActions) { %>\n            <div class=\"actions\">\n                <% if (is_advanced) { %>\n                <div class=\"btn-group\">\n                    <a class=\"btn edit\" href=\"<%- _(item.get('_editUrl')).fixUrl() %>\" data-toggle=\"show-in-modal\">\n                        <%= _('Edit').translate() %>\n                    <\/a>\n                    <button type=\"button\" class=\"btn dropdown-toggle item-actions-dropdown\" data-toggle=\"dropdown\">\n                        <span class=\"caret\"><\/span>\n                    <\/button>\n                    <ul class=\"dropdown-menu\" role=\"menu\">\n                        <li>\n                            <button class=\"remove\" data-action=\"remove-item\" data-internalid=\"<%- line.get('internalid') %>\">\n                                <%= _('Remove').translate() %>\n                            <\/button>\n                        <\/li>\n                        <li>\n                            <% if (is_advanced && application.ProductListModule && application.ProductListModule.isProductListEnabled() && application.name.toLowerCase() === 'shopping') { %>\n                            <button class=\"saveforlater\" data-action=\"save-for-later-item\" data-internalid=\"<%- line.get('internalid') %>\">\n                                <%= _('Save for Later').translate() %>\n                            <\/button>\n                            <% } %>\n                        <\/li>\n                    <\/ul>\n                <\/div>\n                <% } else { %>\n                <button class=\"btn remove\" data-action=\"remove-item\" data-internalid=\"<%- line.get('internalid') %>\">\n                    <%= _('Remove').translate() %>\n                <\/button>\n                <% } %>\n            <\/div>\n            <% } %>\n        <\/div>\n        <div class=\"alert-placeholder\" data-type=\"alert-placeholder\">\n            <% if (item.get('_cartCustomAlert')) {%>\n            <div class=\"alert alert-<%= item.get('_cartCustomAlertType') || 'info' %>\">\n                <%= item.get('_cartCustomAlert') %>\n            <\/div>\n            <% } %>\n        <\/div>\n    <\/div>\n\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('message', function (message, type, closable) { %>\n<div class=\"alert <%= type ? 'alert-' + type : '' %>\">\n\t<% if (closable) { %>\n\t\t<button class=\"close\" data-dismiss=\"alert\">&times;<\/button>\n\t<% } %>\n\t<% if (_.isObject(message)) { %>\n\t\t<ul>\n\t\t<% _.each(message, function(item, index) { %>\n\t\t\t<li><%= item %><\/li>\n\t\t<% }) %>\n\t\t<ul>\n\t<% } else { %>\n\t\t<%= message %>\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('relatedItem', function (item, application) { \n\tvar thumbnail = item.get('_thumbnail'); \n%>\n<div class=\"item-cell item-cell-grid\">\n\t<a class=\"thumbnail\" href=\"<%= item.get('_url') %>\">\n\t\t<img src=\"<%= application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/a>\n\t<h5>\n\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t<%= item.get('_name') %>\n\t\t<\/a>\n\t<\/h5>\n\t<a class=\"btn btn-small btn-primary btn-expanded\" href=\"<%= item.get('_url') %>\">\n\t\t<%= _('See More').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('modal', function (page_header) { %>\n<div id=\"modal\" class=\"modal fade\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div id=\"modal-header\" class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n\t\t\t\t\t&times;\n\t\t\t\t<\/button>\n\t\t\t\t<h3 class=\"modal-title\">\n\t\t\t\t\t<%= page_header || '&nbsp;' %>\n\t\t\t\t<\/h3>\n\t\t\t<\/div>\n\t\t\t<div id=\"modal-body\" class=\"modal-body\"><\/div>\n\t\t<\/div><!-- \/.modal-content -->\n\t<\/div><!-- \/.modal-dialog -->\n<\/div><!-- \/.modal -->\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('starRating', function (options) {\n\n\tvar fill_value = options.fillRounded ? Math.round(options.value * 2) \/ 2 : options.value\n\t,\tfilled_by = fill_value * 100 \/ options.max\n\t,\ti\n\t,\treviews_enabled = SC.ENVIRONMENT.REVIEWS_CONFIG && SC.ENVIRONMENT.REVIEWS_CONFIG.enabled;\n\n\tif (reviews_enabled === true) \n\t{\n\t\n%>\n\n<div class=\"rating <%= options.className %>\">\n\t<% if (options.label) { %>\n\t\t<span class=\"rating-label\">\n\t\t\t<%= options.label %>\n\t\t<\/span>\n\t<% } %>\n\t<div class=\"rating-area\" data-toggle='rater' data-name=\"<%= options.name %>\" data-max=\"<%= options.max %>\" data-value=\"<%= options.value %>\">\n\t\t<meta itemprop=\"bestRating\" content=\"<%= options.max %>\">\n\t\t<div class=\"rating-area-fill\" data-toggle='ratting-component-fill' style=\"width: <%= filled_by %>%\">\n\t\t<\/div>\n\t\t<% if (options.writeMode) { %>\n\t\t\t<% for (i = 1; i <= options.max; i++) { %>\n\t\t\t\t<button type=\"button\" data-action=\"rate\" name=\"<%= options.name %>\" value=\"<%= i %>\"><\/button>\n\t\t\t<% } %>\n\t\t<% } %>\n\t\t<div class=\"clearfix\"><\/div>\n\t<\/div>\n\t<% if (options.showValue) { %>\n\t\t<span class=\"rating-value\" itemprop=\"ratingValue\">\n\t\t\t<%= options.value %>\n\t\t<\/span>\n\t<% } else { %>\n\t\t<meta itemprop=\"ratingValue\" content=\"<%= options.value %>\">\n\t<% } %>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n\n<% if (options.showRatingCount) { %>\n\t<span class=\"review-total\">\n\t\t<%= _('($(0))').translate(\n\t\t\t'<span itemprop=\"reviewCount\">' + options.ratingCount + '<\/span>'\n\t\t) %>\n\t<\/span>\n<% } %>\n\n<% }}) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('pagination', function (configuration) { %>\n<%\n\t\/\/ Pagination Macro\n\t\/\/ ================\n\t\/\/ Displays a pagination component based on the configuration object.\n\t\/\/ The configuration object understands the following keys: \n\t\/\/ * currentPage: (Required) The page you are currently showing.\n\t\/\/ * totalPages: (Required) The total amount of pages you can show (This is not items, you need to do the math of items\/items_per_page outside this macro).\n\t\/\/ * pager: (Required) a function that recives a page number as parameter and returns the url that the mentioned page number should point to.\n\t\/\/ * showPageList: a boolean to show or hide the pages list portion of this component, defauts to true.\n\t\/\/ * pagesToShow: The amount of pages you want to be displayed in the pages list, defaults to 4.\n\t\/\/ * showPageIndicator: a boolean to show or hide a note on which page you have selected and how many pages are there, defaults to false\n\t\/\/ * extraClass: a string that will be added to the class attribute to the component\n\n\n\n\tvar current_page = parseInt(configuration.currentPage, 10)\n\t,\ttotal_pages = parseInt(configuration.totalPages, 10)\n\t,\tpager = configuration.pager\n\t,\tpages_to_show = parseInt(configuration.pagesToShow, 10) || 4\n\t,\trange_start = 1\n\t,\trange_end = total_pages + 1\n\t,\tpadding_left = (pages_to_show % 2 === 0) ? (pages_to_show \/ 2) - 1 : parseInt(pages_to_show \/ 2, 10) \/\/ ;)\n\t,\tshow_page_list = (_.isBoolean(configuration.showPageList)) ? configuration.showPageList : true\n\t,\tshow_page_indicator = configuration.showPageIndicator || false; \n\n\tif (show_page_list && pages_to_show < total_pages)\n\t{\n\t\t\/\/ if we are getting closer to the end we need to compute from the end to the begingn \n\t\tif (pages_to_show - padding_left > total_pages - current_page)\n\t\t{\n\t\t\trange_start = total_pages + 1 - pages_to_show;\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\trange_start = current_page - padding_left < 1 ? 1 : current_page - padding_left;\n\t\t\trange_end = range_start + pages_to_show > total_pages ? total_pages : range_start + pages_to_show;\n\t\t}\n\t}\n\n\t\n\tvar pages = _.range(range_start, range_end);\n%>\n\n<% if (total_pages >= current_page && current_page > 0 && pages.length > 1) { %>\n<div class=\"pagination <%= configuration.extraClass || '' %>\">\n\n\t<% if (show_page_indicator) { %>\n\t\t<ul class=\"pagination-page-indicator\">\n\t\t\t<li>\n\t\t\t\t<span class=\"\">\n\t\t\t\t\t<%= _('$(0) of $(1)').translate(current_page, total_pages) %>\n\t\t\t\t<\/span>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t\t\n\t<% } %>\n\n\t<ul class=\"pagination-links <% if (!show_page_list) { %>pagination-links-compact<% } %>\">\n\t<% if (current_page !== 1) { %>\n\t\t<li>\n\t\t\t<a rel=\"prev\" href=\"<%- _(pager(current_page-1)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t\n\t<% if (show_page_list) { %>\n\t\t<% if (range_start > 1) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\n\t\t<% _.each(pages, function (page) { %>\n\t\t\t<% if (current_page !== page) { %>\n\t\t\t\t<li><a href=\"<%- pager(page) %>\"><%= page %><\/a><\/li>\n\t\t\t<% } else { %>\n\t\t\t\t<li class=\"active\"><a href=\"<%- _(pager(page)).fixUrl() %>\"><%= page %><\/a><\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\n\t\t<% if (range_end < total_pages) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\t<% } %>\n\n\t<% if (current_page !== total_pages){ %>\n\t\t<li>\n\t\t\t<a rel=\"next\" href=\"<%- _(pager(current_page+1)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t<\/ul>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('backToTop', function () { %>\n<div id=\"back-to-top\" class=\"text-center back-to-top\">\n\t<a href=\"#\" data-action=\"back-to-top\">\n\t\t<i class=\"icon-arrow-up\"><\/i>\n\t\t<%= _('Top').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('statesDropdown', function (options) { %>\n<%\n\tvar country = options.selectedCountry && options.countries[options.selectedCountry]\n\t,\tstates = country && country.states;\n%>\n<% if (country && states) { %>\n\t<label class=\"control-label is-required\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State').translate() %>\n\t\t<small><%= _('(required)').translate() %><\/small>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<select class=\"<%= options.cssclass || 'input-xlarge' %>\" id=\"<%= options.manage ? options.manage : ''%>state\" name=\"state\" data-type=\"state\">\n\t\t\t<option value=\"\">\n\t\t\t\t<%= _('-- Select --').translate() %>\n\t\t\t<\/option>\n\t\t\t<% _.each(states, function (state) { %>\n\t\t\t<option value=\"<%- state.code %>\" <%= state.code === options.selectedState ? 'selected' : '' %>>\n\t\t\t\t<%= state.name %>\n\t\t\t<\/option>\n\t\t\t<% }) %>\n\t\t<\/select>\n\t<\/div>\n<% } else { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State\/Province\/Region').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tid=\"<%= options.manage ? options.manage : ''%>state\"\n\t\t\tname=\"state\"\n\t\t\tclass=\"<%= options.cssclass || 'input-xlarge' %>\"\n\t\t\tvalue=\"<%- options.selectedState %>\"\n\t\t\tdata-type=\"state\"\n\t\t\tplaceholder=\"<%- _('(optional)').translate() %>\"\n\t\t>\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayInRows', function(items, macro, items_per_row) { %>\n\t<% items_per_row = parseInt(items_per_row, 10) || 3 %>\n\t<% var span = 12 \/ items_per_row %>\n\t<div class=\"row-fluid\">\n\t<% _.each(items, function (item, index){ %>\n\t\t<% if ((index % items_per_row) == 0 && index > 0){ %>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid\">\n\t\t<% } %>\n\t\t<div class=\"span<%= span %>\">\n\t\t\t<% if (_.isFunction(macro)){ %>\n\t\t\t\t<%= macro(item) %>\n\t\t\t<% }else{ %>\n\t\t\t\t<%= item %>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% }) %>\n\t<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('hostSelector', function (hosts, current, by_param) { %>\n<% if (hosts && hosts.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\n\t<select data-toggle= <%= by_param ? 'language-selector' : 'host-selector' %> class=\"input-medium\">\n\t<% _.each(hosts, function(host) { %>\n\t\t<% if (host.languages && host.languages.length) { %>\n\t\t\t<optgroup label=\"<%- host.title %>\">\n\t\t\t<% _.each(host.languages, function(language) { %>\n\t\t\t\t<option value=\"<%- language.host %>\" <%= by_param && language.locale === current ? 'selected' : language.host === current ? 'selected' : '' %>>\n\t\t\t\t\t<%= language.title || language.name %>\n\t\t\t\t<\/option>\n\t\t\t<%})%>\n\t\t\t<\/optgroup>\n\t\t<% } %>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('languageSelector', function (languages, selected_locale) { %>\n<% if (languages && languages.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\t<select data-toggle=\"lenguage-selector\" class=\"input-medium\">\n\t<% _.each(languages, function(language) { %>\n\t\t<option value=\"<%- language.locale %>\" <%= language.locale === selected_locale ? 'selected' : '' %>>\n\t\t\t<%= language.title || language.name %>\n\t\t<\/option>\n\t<%})%>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('currencySelector', function (currencies, selected_code) { %>\n<% if (currencies && currencies.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<%= SC.getSessionInfo('currency').symbol %>\n\t<\/span>\n\t<select data-toggle=\"currency-selector\" class=\"input-medium\">\n\t<% _.each(currencies, function (currency) { %>\n\t\t<option value=\"<%- currency.code %>\" <%= selected_code === currency.code ? 'selected' : '' %>>\n\t\t\t<%= currency.title || currency.name %>\n\t\t<\/option>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showItemPrice', function (price, is_in_stock) { \nvar currency_code = SC.getSessionInfo('currency') ? SC.getSessionInfo('currency').code : ''; \nif (price.min && price.max) { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/AggregateOffer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= currency_code  %>\">\n\t<!-- Price Range -->\n\t<span class=\"lead-price\">\n\t\t<%= _('$(0) to $(1)').translate(\n\t\t\t'<span itemprop=\"lowPrice\">' + price.min.price_formatted + '<\/span>'\n\t\t,\t'<span itemprop=\"highPrice\">' + price.max.price_formatted + '<\/span>'\n\t\t) %>\n\t<\/span>\n\t<% if (price.max.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<\/span>\n<% } else { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/Offer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= currency_code %>\">\n\t<!-- Single -->\n\t<span style=\"font-weight: bold;font-family: Georgia;\" class=\"lead-price\" itemprop=\"price\" data-rate=\"<%= price.price %>\"><%= price.price_formatted %><\/span>\n\t<% if (price.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('siteLogo', function (application, remove_home_link) { %>\n<%\n\tvar logoUrl = application.getConfig('logoUrl')\n\t,\tsiteName = application.getConfig('siteSettings.displayname');\n%>\n<div id=\"site-logo\" class=\"site-logo content-banner\">\n<% if (remove_home_link){ %>\n\t<a>\n<% } else { %>\n\t<a href=\"\/\" data-touchpoint=\"home\" data-hashtag=\"\">\n<% } %>\t\n\t<% if (logoUrl) { %>\n\t\t<img src=\"<%- logoUrl %>\" alt=\"<%- siteName %>\">\n\t<% } else { %>\n\t\t<span>\n\t\t\t<%= siteName %>\n\t\t<\/span>\n\t<% } %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('simplifiedHeader', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tcontinue_url = '\/' + (application.getConfig('siteSettings.sitetype') === 'ADVANCED' ? _(application.getConfig('defaultSearchUrl')).fixUrl() : '')\n\t,\ttouchpoint = true;\n\tif(SC.ENVIRONMENT.siteSettings.iswsdk && SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl){\n\t\tcontinue_url = SC.ENVIRONMENT.siteSettings.wsdkcancelcarturl;\n\t\ttouchpoint = false;\n\t}\n%>\n<!-- Bar just for style -->\n<nav style=\"display: none;\" class=\"navbar navbar-inverse navbar-static-top site-header-top-nav\">\n\t<div class=\"navbar-inner\">\n\t\t<div class=\"container\"><\/div>\n\t<\/div>\n<\/nav>\n<!-- \/Bar just for style -->\n<div class=\"container\">\n\t<div class=\"row-fluid site-branding\">\n\t\t<div class=\"span3 site-logo\">\n\t\t\t<%= SC.macros.siteLogo(view.application, true) %>\n\t\t<\/div>\n\t\t<div class=\"span6 header-banner\">\n\t\t\t<div id=\"banner-header-top\" class=\"content-banner banner-header-top\"><\/div>\n\t\t\t&nbsp;\n\t\t<\/div>\n\t\t<div class=\"span3 back-to-shopping\">\n\t\t\t<a class=\"pull-right btn continue-shopping btn-primary\" href=\"<%= continue_url %>\" <%= touchpoint ? 'data-touchpoint=\"home\"' : '' %> data-hashtag=\"#<%= continue_url %>\">\n\t\t\t\t<%= _('Continue Shopping').translate() %>\n\t\t\t<\/a>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCart', function (cart, application) { %>\n<%\n\tvar lines = cart.get('lines')\n\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t,\ttotal_items = _.reduce(lines.pluck('quantity'), function (memo, quantity) {\n\t\t\treturn memo + (parseFloat(quantity) || 1);\n\t\t}, 0)\n\t,\tis_loading = application.cartInstance.isLoading;\n%>\n<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t<%= SC.macros.miniCartSummary(total_items, is_loading) %>\n\t<b class=\"caret\"><\/b>\n<\/a>\n<div class=\"dropdown-menu\">\n<% if (lines.length) { %>\n\t<ul class=\"cart-summary-items mini-cart-items\">\n\t\t<% var thumbnail = '', item = null; %>\n\t\t<% lines.each(function (line) { %>\n\t\t\t<%\n\t\t\t\titem = line.get('item');\n\t\t\t\tthumbnail = item.get('_thumbnail');\n\t\t\t%>\n\t\t\t<li class=\"cart-summary-item-cell mini-cart-item-cell\" data-item=\"<%= item.get('internalid') %>\">\n\t\t\t\t<a href=\"#\" class=\"row-fluid\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('_url') + item.getQueryStringWithQuantity(1)).fixUrl() %>\">\n\t\t\t\t\t<div class=\"span3 thumbnail mini-cart-item-thumbnail\">\t\t\t\t\t\t\n\t\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%- thumbnail.altimagetext %>\">\t\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span9 mini-cart-item-details\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<strong><%= item.get('_name') %><\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- Renders the selected options for the item -->\n\t\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t\t\t<div class=\"quantity\">\n\t\t\t\t\t\t\t<%= _('Quantity: $(0)').translate( line.get('quantity') ) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"price\">\n\t\t\t\t\t\t\t<%= _('Price: $(0)').translate( line.get('total_formatted') ) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<% }) %>\n\t<\/ul>\n\t<ul class=\"summary\">\n\t\t<li class=\"mini-cart-summary-container\">\n\t\t\t<p class=\"mini-cart-summary\">\n\t\t\t\t<span class=\"pull-right mini-cart-subtotal\">\n\t\t\t\t\t<%= _('Subtotal: <b>$(0)<\/b>').translate(cart.get('summary') && cart.get('summary').subtotal_formatted) %>\n\t\t\t\t<\/span>\n\t\t\t\t<span class=\"item-count\">\n\t\t\t\t<% if ( total_items !== 1 ) { %>\n\t\t\t\t\t<%= _('$(0) items').translate( total_items ) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('1 item').translate() %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/span>\n\t\t\t<\/p>\n\t\t\t<div class=\"mini-cart-actions\">\n\t\t\t\t<a href=\"#\" href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\" class=\"btn btn-primary btn-checkout\">\n\t\t\t\t\t<%= _('Checkout').translate() %>\n\t\t\t\t<\/a>\n\t\t\t\t<a href=\"\/cart\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"btn btn-view-cart\">\n\t\t\t\t\t<%= _('View Cart').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<div id=\"mini-cart-bottom-banner\" class=\"mini-cart-bottom-banner\"><\/div>\n\t\t<\/li>\n\t<\/ul>\n<% } else { %>\n\t<ul class=\"items mini-cart-empty\">\n\t\t<li>\n\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\">\n\t\t\t\t<% if(is_loading) { %>\n\t\t\t\t<%= _('Your cart is loading').translate() %>\n\t\t\t\t<% } else {%>\n\t\t\t\t<%= _('Your cart is empty').translate() %>\n\t\t\t\t<% } %>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<\/ul>\n<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('header', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tcart = application.getCart()\n\t,\tmacros = SC.macros\n\t,\tprofile = macros[application.getConfig('profileMacro')](application)\n\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t,\tis_loading = cart.application.cartInstance.isLoading;\n%>\n\t<%= macros.headerTopNav(view) %>\n\t<div class=\"container\">\n\t\t<!-- MOBILE -->\n\t\t<div class=\"navbar navbar-inverse mobile-nav\">\n\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"mini-cart-summary\">\n\t\t\t\t\t\t\t\t<%= macros.miniCartSummary(cart.getTotalItemCount(), is_loading) %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t<\/ul>\n\n\t\t\t\t\t<div class=\"pull-left\">\n\t\t\t\t\t\t<a href=\"#\" class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".main-nav\">\n\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<nav class=\"navbar collapse visible-phone main-nav site-header-main-nav\">\n\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t<ul class=\"nav\">\n\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t<% }) %>\n\t\t\t\t<\/ul>\n\t\t\t\t<ul class=\"nav mobile-profile\">\n\t\t\t\t\t<%= profile %>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/nav>\n\t\t<!-- \/MOBILE -->\n\t\t<div data-type=\"message-placeholder\"><\/div>\n\t\t<div class=\"row-fluid site-branding\">\n\t\t\t<div class=\"span3\">\n\n\n                <%= macros.siteLogo(application) %>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 header-banner\">\n\t\t\t\t<div id=\"banner-header-top\" class=\"content-banner banner-header-top\" data-cms-area=\"header_banner\" data-cms-area-filters=\"global\"><\/div>\n\t\t\t\t&nbsp;\n\t\t\t<\/div>\n\t\t\t<div id=\"site-search-container\" class=\"span3 site-search-container\">\n\t\t\t\t<%= macros.siteSearch('keywords', view) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<nav class=\"navbar hidden-phone main-nav site-header-main-nav\">\n\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t<ul class=\"nav\">\n\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t<% }) %>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t\t<div class=\"navbar-line\"><\/div>\n\t\t<\/nav>\n\t\t<div id=\"banner-header-bottom\"  class=\"content-banner banner-header-bottom\"><\/div>\n\t<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerSimpleProfile', function (Profile) { %>\n<% if (Profile.get('isLoggedIn') === 'T' &&  Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><%= _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname'))  %><\/a><\/li>\n\t<li class=\"my-account-title\">\n\t\t<a href=\"#\" data-touchpoint=\"customercenter\">\n\t\t\t<%= _('Your Account').translate() %>\n\t\t<\/a>\n\t<\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li class=\"logout\">\n\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t<%= _('Sign Out').translate() %>\n\t\t<\/a>\n\t<\/li>\t\n<% } else { %>\n\t<li><a href=\"#\" data-touchpoint=\"login\"><%= _('Login').translate() %><\/a><\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li><a href=\"#\" data-touchpoint=\"register\"><%= _('Register').translate() %><\/a><\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('siteSearch', function (name, view) { %>\n<% var maxLength = view.application.getConfig('searchPrefs.maxLength') || 0; %>\n<form class=\"form-search site-search\" method=\"GET\" action=\"\/search\">\n\t<div class=\"input-append\">\n\t\t<input class=\"input-medium search-query\" placeholder=\"<%- _('Search for products').translate() %>\" type=\"search\" name=\"<%- name %>\" autocomplete=\"off\" <%= maxLength > 0 ? 'maxlength=\"' + maxLength + '\"' : '' %>\t>\n\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t<i class=\"icon-search\"><\/i>\n\t\t<\/button>\n\t<\/div>\n<\/form>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('typeahead', function (item, query, application) { %>\n<div class=\"typeahead-item clearfix\">\n\t<div class=\"typeahead-item-head\">\n\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t<img data-loader=\"false\" class=\"typeahead-image\" src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t<div class=\"typeahead-title\"><%= _.highlightKeyword(item.get('_name'), query) %><\/div>\n\t<\/div>\n<\/div>\n<%})%> \n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerProfile', function (application) { %>\n<% var Profile = application.getUser(); %>\n<% if (Profile.get('isLoggedIn') === 'T' && Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><i class=\"icon-user icon-white\"><\/i>&nbsp;<%- _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname')) %><\/a><\/li>\n\t<li id=\"my-account-container\" class=\"dropdown my-account-container\">\n\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-touchpoint=\"customercenter\" data-navigation=\"ignore-click\">\n\t\t\t<span class=\"my-account-title\"><%= _('Your Account').translate() %><\/span>\n\t\t\t<b class=\"caret\"><\/b>\n\t\t<\/a>\n\t\t<ul class=\"dropdown-menu\">\n\t\t\t<li class=\"my-account-item-cell hidden-phone\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#overview\">\n\t\t\t\t\t<%= _('Overview').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\n\t\t\t<!-- Orders -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"transactions.tranFind.1,transactions.tranSalesOrd.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Orders').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#ordershistory\">\n\t\t\t\t\t\t\t<%= _('Order History').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#returns\" data-permissions=\"transactions.tranFind.1,transactions.tranRtnAuth.1\">\n\t\t\t\t\t\t\t<%= _('Returns').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#receiptshistory\">\n\t\t\t\t\t\t\t<%= _('Receipts').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#reorderItems\">\n\t\t\t\t\t\t\t<%= _('Reorder Items').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li data-permissions=\"transactions.tranFind.1,transactions.tranEstimate.1\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#quotes\">\n\t\t\t\t\t\t\t<%= _('Quotes').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Product Lists - For single list mode data-hashtag will be added dynamically -->\n\t\t\t<% if (application.ProductListModule && application.ProductListModule.isProductListEnabled()) { %>\n\t\t\t\t<% if (application.ProductListModule.isSingleList()) { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" class=\"header-profile-single-productlist\">\n\t\t\t\t\t\t\t<%= _('Loading list...').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#productlists\">\n\t\t\t\t\t\t\t<%= _('Product Lists').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<!-- Billing -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Billing').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#balance\"><%= _('Account Balance').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#invoices\" data-permissions=\"transactions.tranCustInvc.1,transactions.tranSalesOrd.1\"><%= _('Invoices').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#transactionhistory\" data-permissions=\"transactions.tranCustInvc.1, transactions.tranCustCred.1, transactions.tranCustPymt.1, transactions.tranCustDep.1, transactions.tranDepAppl.1\" data-permissions-operator=\"OR\"><%= _('Transaction History').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#printstatement\" data-permissions=\"transactions.tranStatement.2\"><%= _('Print a Statement').translate() %><\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Settings -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Settings').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#profileinformation\">\n\t\t\t\t\t\t\t<%= _('Profile Information').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#emailpreferences\">\n\t\t\t\t\t\t\t<%= _('Email Preferences').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#addressbook\">\n\t\t\t\t\t\t\t<%= _('Address Book').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#creditcards\">\n\t\t\t\t\t\t\t<%= _('Credit Cards').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#updateyourpassword\">\n\t\t\t\t\t\t\t<%= _('Update Your Password').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<% if (application.CaseModule && application.CaseModule.isEnabled()) { %>\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"lists.listCase.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Cases').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#cases\" ><%= _('All My Cases').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#newcase\"><%= _('Submit New Case').translate() %><\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t<% }\u00a0%>\n\n\t\t\t<li class=\"divider\"><\/li>\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t\t\t<%= _('Sign Out').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/li>\n<% } else { %>\n\t<% if (application.getConfig('performance.waitForUserProfile') || application.getUserPromise().state() === 'resolved') { %>\n\t\t<li><a href=\"#\" data-touchpoint=\"login\" data-hashtag=\"login-register\"><%= _('Login').translate() %><\/a><\/li>\n\t\t<li class=\"divider-vertical\"><\/li>\n\t\t<li><a href=\"#\" data-touchpoint=\"register\" data-hashtag=\"login-register\"><%= _('Register').translate() %><\/a><\/li>\n\t<% } else { %>\n\t\t<li>\n\t\t\t<a class=\"dropdown-toggle\">\n\t\t\t\t<i class=\"icon-user icon-white\"><\/i>\n\t\t\t\t<span class=\"user_ellipsis\"><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t<script>\n\t\t\t_.ellipsis('.user_ellipsis');\n\t\t<\/script>\n\t<% } %>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerTopNav', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tenvironment = SC.ENVIRONMENT\n\t,\tdisplay_currency_selector = !application.getConfig('notShowCurrencySelector')\n\t,\tmacros = SC.macros\n\n\t,\thosts = environment.availableHosts\n\t,\thas_multiple_hosts = hosts.length > 1\n\n\t,\tlanguages = environment.availableLanguages\n\t,\thas_multiple_languages = languages.length > 1\n\t,\tcurrent_touchpoint = application.getConfig('currentTouchpoint')\n\n\t,\thas_hosts_or_languages = has_multiple_hosts || has_multiple_languages\n\n\t,\tcurrencies = environment.availableCurrencies\n\t,\thas_multiple_currencies = currencies.length > 1\n\n\t,\tshow_languages = has_multiple_hosts\n\t,\tshow_currencies = has_multiple_currencies;\n%>\n<nav class=\"navbar navbar-inverse navbar-static-top site-header-top-nav\">\n\t<div class=\"navbar-inner\">\n\t\t<div class=\"container\">\n\t\t\t<ul class=\"nav customer-site-settings\">\n\t\t\t\t<% if (show_languages || show_currencies) { %>p\n\t\t\t\t\t<% if (show_languages) { %>\n\t\t\t\t\t\t<li id=\"language-selector-container\" class=\"language-selector-container\">\n\t\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t\t<% if (current_touchpoint === 'home') { %>\n\t\t\t\t\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentHostString) %>\n\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentLanguage.locale, true) %>\n\t\t\t\t\t\t\t\t<% }%>\n\t\t\t\t\t\t\t<\/form>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<% if (show_languages && show_currencies && display_currency_selector) { %>\n\t\t\t\t\t\t<li class=\"divider-vertical\"><\/li>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<% if (show_currencies) { %>\n\t\t\t\t\t\t<li id=\"currency-selector-container\" class=\"currency-selector-container\">\n\t\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t\t<% if (display_currency_selector) { %>\n\t\t\t\t\t\t\t\t\t<%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<\/form>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t<% } %>\n\t\t\t\t<% } %>\n\t\t\t<\/ul>\n\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t<%= macros[application.getConfig('profileMacro')](application) %>\n\t\t\t\t<li id=\"mini-cart-container\" class=\"dropdown mini-cart-container\">\n\t\t\t\t\t<%= macros.miniCart(application.getCart(), application) %>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n<\/nav>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('navigationTabs', function (item, is_top) {\n\tif (!item.data)\n\t{\n\t\titem.data = {};\n\t}\n\t\/\/ we want all navbar links to preserve current url option 'display'\n\titem.data['keep-options'] = 'display';\n\t%>\n<% if (item.categories && item.categories.length) {\n\t%>\n\t<% if (is_top) { %>\n\t\t<li class=\"dropdown\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n\t\t\t\t<b class=\"caret\"><\/b>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"dropdown-submenu\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } %>\n<% } else { %>\n<li>\n\t<a <%= _.objectToAtrributes(item) %>>\n\t\t<%= item.text %>\n\t<\/a>\n<\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCartSummary', function (total_items, loading) { %>\n<i class=\"icon-shopping-cart icon-white\"><\/i>\n<span class=\"item-count<%= loading ? ' loading' : '' %>\">\n<% if (loading) { %>\n\t<span class=\"cart_ellipsis\"><\/span>\n\t<script>\n\t\t_.ellipsis('.cart_ellipsis');\n\t<\/script>\n<% } else { %>\n\t<% if (total_items !== 1) { %>\n\t\t<%= _('<b>$(0)<\/b> items').translate(total_items) %>\n\t<% } else { %>\n\t\t<%= _('<b>1<\/b> item').translate() %>\n\t<% } %>\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footerNavigation', function (nav_links) { %>\n\t<ul class=\"site-footer-main-nav\">\n\t<% _.each(nav_links, function (item) { %>\n\t\t<li>\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t<%= item.text %>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% }) %>\n\t<\/ul>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('simplifiedFooter', function (view) { %>\n\t<%= SC.macros.backToTop() %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footer', function (view) {\n\tvar environment = SC.ENVIRONMENT\n\n\t,\tshow_currency_selector = !view.application.getConfig('notShowCurrencySelector')\n\t,\thosts = environment.availableHosts\n\t,\tlanguages = environment.availableLanguages\n\t,\tcurrencies = environment.availableCurrencies\n\n\t,\tnav_links = view.application.getConfig('footerNavigation', [])\n\t,\tcurrent_touchpoint = view.application.getConfig('currentTouchpoint')\n\t,\tmacros = SC.macros;\n%>\n\n<div class=\"container\">\n\t<div class=\"customer-site-settings\">\n\t\t<form class=\"form-inline\">\n\t\t\t<% if (hosts.length) { %>\n\t\t\t\t<% if (current_touchpoint === 'home') { %>\n\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentHostString) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentLanguage.locale, true) %>\n\t\t\t\t<% }%>\n\t\t\t<% } %>\n\t\t\t<% if (currencies.length && show_currency_selector) { %>\n\t\t\t\t<%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n\t\t\t<% } %>\n\t\t<\/form>\n\t<\/div>\n\n\t<% if (nav_links.length) { %>\n\t\t<%= macros.footerNavigation(nav_links) %>\n\t<% } %>\n\n\t<%= macros.backToTop() %>\n\t<div id=\"banner-footer\" class=\"content-banner banner-footer\" data-cms-area=\"global_banner_footer\" data-cms-area-filters=\"global\"><\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLineImage', function (options) { %>\n\n\t<% var item = options.item; %>\n\t\n\t<img src=\"<%= options.application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\">\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionText', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %>\n\t<\/label>\n\t<% if (option.type === 'textarea') { %>\n\t\t<textarea name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" data-toggle=\"text-option\" data-available=\"true\"><%- selected_value && selected_value.internalid || '' %><\/textarea>\n\t<% } else { %>\n\t\t<input type=\"<%= option.type === 'email' ? 'email' : 'text' %>\" name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" value=\"<%- selected_value && selected_value.internalid || '' %>\" data-toggle=\"text-option\" data-available=\"true\">\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemLinkName', function (options) { %>\n\t<%\n\t\tvar\titem = options.item\n\t\t,\turl = item.get('_url')\n\t\t,\tname = item.get('displayname')\n\t\t,\tshow_item_name_as_link = options.showLinkeable\n\t\t,\tproduct_not_linkeable = options.hideLink\n\t\t,\tlink_attributes;\n\n\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED' && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t,\tdata: {\n\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t,\thashtag: '#' + url\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (url && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t});\n\t\t}\n\n\t\tif (link_attributes && item.get('_isPurchasable') && !product_not_linkeable)\n\t\t{\n\t\t\tname = '<a ' + link_attributes + ' data-type=\"navigate-product\" >' + name + '<\/a>';\n\t\t}\n\t%>\n\t<%= name %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionColor', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles color-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable\n\t\t\t\t\t,\tcolor = option.colors && (option.colors[item.label] || option.colors.defaultColor);\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else if (is_available) { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryStringButMatrixOptions(), option.url, item.internalid) %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\ttitle=\"<%= item.label %>\"\n\t\t\t\t\t<% if (!_.isObject(color)) { %>\n\t\t\t\t\t\tstyle=\"background: <%= color %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc=\"<%= color.src %>\" \n\t\t\t\t\t\t\t\talt=\"<%= item.label %>\"\n\t\t\t\t\t\t\t\twidth=\"<%= color.width || '' %>\" \n\t\t\t\t\t\t\t\theight=\"<%= color.height || '' %>\">\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemEditableQuantity', function (options) { %>\n\t<%\n\t\tvar is_read_only = options.isReadOnly\n\t\t,\titem_id = options.itemId\n\t\t,\ttotal_quantity = options.quantity\n\t\t,\tcurrent_quantity = options.currentQuantity || total_quantity;\n\t%>\n\t<%if (total_quantity > 1) { %>\n\t\t<% if (is_read_only) { %>\n\t\t\t<%= _('<span class=\"show-phone grey-color\">Quantity: <\/span>$(0)').translate(total_quantity) %>\n\t\t<% } else { %>\n\t\t\t<div>\n\t\t\t\t<div class=\"editable-quantity-label\"><%= _('Quantity:').translate() %><\/div>\n\t\t\t\t<input type=\"number\" name=\"quantity\" data-item-id=\"<%= item_id %>\" id=\"quantity-<%= item_id %>\" data-action=\"split-quantity\" class=\"item-editable-quantity\" value=\"<%= current_quantity %>\" min=\"1\" max=\"<%= total_quantity %>\">\n\t\t\t\t<span class=\"quantity-tail\"><%= _(' of <span class=\"total-quantity\" >$(0)<\/span>').translate(total_quantity) %><\/span>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<% } else { %>\n\t\t<%= _('<span class=\"show-phone grey-color\">Qty: <\/span>$(0)').translate(total_quantity) %>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsReviews', function ( options ) { %>\n<% var paginationConfig = _.extend({}, options.application.getConfig('defaultPaginationSettings'), {\n\t\tcurrentPage: options.collection.page\n\t,\ttotalPages: options.collection.totalPages\n\t,\tpager: function (page)\n\t\t{\n\t\t\treturn '\/'+ (page > 1 ? _.setUrlParameter(Backbone.history.fragment, 'page', page) : _.removeUrlParameter(Backbone.history.fragment, 'page'));\n\t\t}\n\t,\textraClass: 'pull-right no-margin-top'\n\n\t}); %>\n<% if (options.item.get('_ratingsCount')) { %>\n\t<div class=\"item-detailed-reviews\">\n\t\t<h2>\n\t\t\t<%= options.title || _('Reviews Summary').translate() %>\n\t\t<\/h2>\n\t\t<header class=\"reviews-header\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span3 reviews-star-filters\">\n\t\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t\t\t<%= SC.macros.starRating({\n\t\t\t\t\t\t\tmax: options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t\t,\tvalue: options.item.get('_rating')\n\t\t\t\t\t\t,\tshowRatingCount: false\n\t\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t\t,\tclassName: 'star'\n\t\t\t\t\t\t,\tshowValue: true\n\t\t\t\t\t\t}) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"rating-by-star\">\n\t\t\t\t\t\t<%= SC.macros.ratingByStar({\n\t\t\t\t\t\t\tratingsCountsByRate: options.item.get('_ratingsCountsByRate') || {}\n\t\t\t\t\t\t,\tmaxRate: options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t\t,\ttotalReviews: options.item.get('_ratingsCount')\n\t\t\t\t\t\t,\tbaseUrl: options.item.get('_url')\n\t\t\t\t\t\t,\tshowPercentage: true\n\t\t\t\t\t\t,\tshowCount: true\n\t\t\t\t\t\t}) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 based-on strong\">\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar label = options.item.get('_ratingsCount') === 1 ? _('Review').translate() : _('Reviews').translate()\n\t\t\t\t\t\t,\tcount = options.item.get('_ratingsCount');\n\t\t\t\t\t%>\n\t\t\t\t\t<%= _('Based on $(0) $(1)').translate('<span class=\"reviews-count\" itemprop=\"reviewCount\">'+ count +'<\/span>', label) %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span6 right-aligned write-review-container\">\n\t\t\t\t\t<a href=\"<%= options.item.get('_url') %>\/newReview\" class=\"btn btn-primary btn-large\"><%= _('Write a Review').translate() %><\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n            <%= SC.macros.pagination(_.extend(paginationConfig, {extraClass: paginationConfig.extraClass +' no-margin-bottom'})) %>\n\t\t<\/header>\n\t\t<section class='reviews-list'>\n\t\t\t<h4><%= options.subtitle || 'Reviews List' %><\/h4>\n\t\t\t<% if (options.collection.totalRecordsFound) { %>\n\t\t\t\t<% options.collection.each(function (review) { %>\n\t\t\t\t\t<div class=\"review-container\">\n\t\t\t\t\t\t<%= SC.macros[options.application.getConfig('productReviews.reviewMacro')](review, _.extend({showActionButtons: true}, options.application.getConfig('productReviews'))) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<% } %>\n\t\t<\/section>\n        <footer>\n            <%= SC.macros.pagination(_.extend(paginationConfig, {extraClass: paginationConfig.extraClass +' no-margin-bottom'})) %>\n\n            <div class=\"clearfix\"><\/div>\n        <\/footer>\n<!--\n\t\t<% if (options.collection.length < options.collection.totalRecordsFound) { %>\n\t\t<footer>\n\t\t\t<a href=\"<%= options.item.get('_url') %>\" class=\"btn btn-large\">\n\t\t\t\t<%= _('View more reviews ($(0))').translate(options.collection.totalRecordsFound) %>\n\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t<\/a>\n\t\t<\/footer>\n\t<% } %>\n-->\n\t<\/div>\n<% } else { %>\n\t<% if (jQuery('#first-review').length == 0) { %>\n\t\t<div class=\"item-detailed-reviews\">\n\t\t\t<h2><%= options.title || _('Reviews Summary').translate() %><\/h2>\n\t\t\t<p id=\"first-review\" class=\"first-review\">\n\t\t\t\t<%= _('Be the first to <a href=\"$(0)\">write a review<\/a>').translate( options.item.get('_url') + '\/newReview' ) %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLineProduct', function (options) {\n\n\tvar item = options.item\n\t,\tname = SC.macros.itemLinkName({item: item, showLinkeable: true, hideLink: options.hideLink});\n\t%>\n\n\t<div>\n\t\t<span style=\"color: #526C79;font-weight: bold;font-family: Georgia, 'Times New Roman', Times, serif;\" class=\"item-name\"><%= name %><\/span>\n\t<\/div>\n\t<div>\n\t\t<% if (item.type === 'Discount') { %>\n\t\t\t<%= _('Discount').translate() %>\n\t\t<% } else { %>\n\t\t\t<!--<%= _('<span class=\"text-light\">SKU<\/span>: <span class=\"item-sku\">#$(0)<\/span>').translate(item.get('_sku')) %>-->\n\t\t\t<span style=\"font-family: Georgia, 'Times New Roman', Times, serif;\"><%= item.get('storedescription') %><\/span>\n\t\t<% } %>\n\t<\/div>\n\n\t<%= item.renderAllOptionSelected() %>\n\n\t<% if (!_.isBoolean(item.get('_isPurchasable')) && item.get('_itemType') !== 'Discount') {  %>\n\t\t<div>\n\t\t\t<p class=\"alert alert-warning\"><%= _('This item is no longer available').translate() %><\/p>\n\t\t<\/div>\n\t<% } else if (!item.get('_isInStock') && item.get('_showOutOfStockMessage')) { %>\n\t\t<div>\n\t\t\t<span class=\"text-light\"><%= SC.macros.itemDetailsStock(item.getStockInfo()) %><\/span>\n\t\t<\/div>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemImageGallery', function (images, view) { %>\n<%\n\tvar resizeImage = view.application.resizeImage\n\t,\timage_resize_id = SC.ENVIRONMENT.screenWidth < 768 ? 'thumbnail' : 'zoom';\n%>\n<div class=\"item-image-gallery\">\n<% if (images.length) { %>\n\t<% if (images.length > 1) { %>\n\t\t<ul class=\"bxslider\" data-slider>\n\t\t<% _.each(images, function (image) { %>\n\t\t\t<li class=\"pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t\t<img src=\"<%= resizeImage(image.url, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\" data-loader=\"false\">\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t<% } else { %>\n\t\t<% var image = images[0]; %>\n\t\t<div class=\"item-detailed-image pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t<img class=\"center-block\" src=\"<%= resizeImage(image.url, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\" data-loader=\"false\">\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsMainImage', function (images, view) { %>\n<% if (images.length) { %>\n\t<% var image = images[0]; %>\n\t<div class=\"item-detailed-image\">\n\t\t<img src=\"<%= view.application.resizeImage(image.url, 'main') %>\" alt=\"<% image.altimagetext %>\">\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionRadio', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<div id=\"<%= htmlid %>\" class=\"<%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<label class=\"radio <%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\tname=\"<%= htmlid %>\" \n\t\t\t\t\t\tvalue=\"<%= item.internalid %>\" \n\t\t\t\t\t\t<%= is_active ? 'checked' : '' %> \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/label>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionTile', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles size-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') + ' ' + (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else if (is_available) { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryStringButMatrixOptions(), option.url, item.internalid) %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t\t<%= item.label %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionDropdown', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/label>\n\t<select name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium\" data-toggle=\"select-option\">\n\t<% _.each(option.values, function (item) { %>\n\t\t<% if (item.internalid) { %>\n\t\t\t<% \n\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t%>\n\t\t\t<option\n\t\t\t\tclass=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\"\n\t\t\t\tvalue=\"<%= item.internalid %>\"\n\t\t\t\t<%= is_active ? 'selected' : '' %>\n\t\t\t\tdata-active=\"<%= is_active %>\"\n\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t<\/option>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/select>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsStock', function (stock_info) { %>\n\t<% if (!stock_info.isInStock && stock_info.showOutOfStockMessage) { %>\n\t\t<span class=\"label label-important stock-status out-of-stock\">\n\t\t\t<%= stock_info.outOfStockMessage %>\n\t\t<\/span>\n\t<% } else if (stock_info.showInStockMessage) { %>\n\t\t<span class=\"label label-success stock-status in-stock\">\n\t\t\t<%= stock_info.inStockMessage %>\n\t\t<\/span>\n\t<% } %>\n\t<% if (stock_info.showStockDescription && stock_info.stockDescription) { %>\n\t\t<span class=\"stock-description text-light <%= stock_info.stockDescriptionClass %>\">\n\t\t\t<%= stock_info.stockDescription %>\n\t\t<\/span>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLine', function (options) { %>\n\n\t<%\n\tvar application = options.application\n\t,\tlines = options.lines\n\t,\tlines_length = lines.length\n\t,\twell_header = options.wellHeader\n\t,\textra_data = options.extra_data\n\t,\tcolumns = options.columns || []\n\t,\tcolumns_body = options.columnsBody || []\n\t,\tatributes = options.atributes\n\t,\tcomment = options.comment || null\n\t,\tcollapse_elements = options.collapse_elements;\n\t%>\n\n\t<div class=\"row-fluid control-group item-container\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"items-drop-down\">Items<\/span>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t<div class=\"row-fluid nav-tabs nav-tabs-heading hidden-phone\">\n\t\t\t\t<% _.each(columns, function(row) { %>\n\t\t\t\t\t<%= row.addStart %>\n\t\t\t\t\t\t<div class=\"<%= row.className %>\"><%= row.content %><\/div>\n\t\t\t\t\t<%= row.addEnd %>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\n\t\t\t<% lines.each(function (line, index) { %>\n\t\t\t\t<div class=\"row-fluid nav-tabs cart-item\" data-item=\"<%= line.get('internalid') || line.get('item_id') %>\">\n\t\t\t\t\t<% _.each(columns_body, function(row) { %>\n\t\t\t\t\t\t<%= row.addStart %>\n\t\t\t\t\t\t\t<div class=\"<%= row.className %>\">\n\t\t\t\t\t\t\t\t<%= _.isFunction(row.content) ? row.content(line) : row.content %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<%= row.addEnd %>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\n\t\t\t<% if (extra_data) { %>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"offset5 span4 text-right popover-content strong hidden-phone\"><%= extra_data.label_subtotal_formatted %><\/div>\n\t\t\t\t<div class=\"span3 text-right popover-content strong\"><span class=\"visible-phone\"><%= _('Items Subtotal').translate() %>: <\/span> <span class=\"item-subtotal\"><%= extra_data.subtotal_formatted %><\/span><\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (comment) { %>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span8 margin-top-20\">\n\t\t\t\t\t<p><%= _('Comments:').translate() %><\/p>\n\t\t\t\t\t<blockquote><%- comment %><\/blockquote>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsCondensed', function (options) { %>\n\t<%\tvar line = options.line\n\t\t,\tapplication = options.application\n\t\t,\tshow_action_buttons = options.showActionButtons\n\t\t,\taction_macro = _.isFunction(options.actionMacro) ? options.actionMacro : function(){}\n\t\t,\tshow_item_details = options.showItemsDetails \/\/Quantiy and amount\n\t\t,\titem = line.get('item');\n\t%>\n\t<div class=\"item-line row-fluid clearfix\" data-id=\"<%= item.get('internalid') %>\" >\n\t\t<div class=\"item-line-condensedview-style\">\n\t\t\t<div class=\"span1 item-image\" >\n\t\t\t\t<img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" class=\"item-image-control\" alt=\"<%= item.get('_thumbnail').altimagetext %>\">\n\t\t\t<\/div>\n\t\t\t<div class=\"span4 item-property-container\">\n\t\t\t\t<div class=\"item-displayname\"><span> <%= item.get('_name') %> <\/span><\/div>\n\t\t\t\t<div class=\"item-unitprice\"><%= SC.macros.showItemPrice(line.getPrice(),line.get('item').getStockInfo().isInStock) %><\/div>\n\t\t\t\t<div class=\"item-id\"><%= _('<span class=\"item-label\" data-type=\"sku-label\">SKU:<\/span> #<span data-type=\"sku-value\">$(0)<\/span>').translate(item.get('_sku')) %><\/div>\n\t\t\t\t<div data-type=\"item-options-container\">\n\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<% if (show_item_details) { %>\n\t\t\t<div class=\"span3 item-details\">\n\t\t\t\t<div class=\"item-quantity\"><%= _('<span class=\"item-label\">Quantity:<\/span> <span data-type=\"item-quantity\">$(0)<\/span>').translate(line.get('quantity')) %><\/div>\n\t\t\t\t<div class=\"item-total\">\n\t\t\t\t\t<%= _('<span class=\"item-label\">Amount:<\/span> <span data-type=\"item-amount\">$(0)<\/span>').translate(line.get('total_formatted')) %>\n\t\t\t\t\t<% if( line.get('amount') > line.get('total') ) {%>\n\t\t\t\t\t\t<small class=\"muted crossed\"><%=  line.get('amount_formatted') %><\/small>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<div class=\"span4 button-actions\">\n\t\t\t\t<%= action_macro(options) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsRow', function (options) { %>\n\t<%\n\t\tvar link_attributes = false\n\t\t,\tline = options.line\n\t\t,\titem = line.get('item')\n\t\t,\tapplication = options.application\n\t\t,\tline_class = options.itemClass || 'item-table-row'\n\t\t,\tindexes = options.indexes || []\n\t\t,\turl = item.get('_isPurchasable') ? item.get('_url') : null\n\t\t,\tcheck_span_class\n\t\t,\timage_span_class\n\t\t,\titem_title_span_class\n\t\t,\titem_quantity_span_class\n\t\t,\titem_quantity_macro = _.isFunction(options.quantityMacro) ? options.quantityMacro : function(){}\n\t\t,\titem_unit_price_span_class\n\t\t,\titem_total_price_span_class\n\t\t,\titem_remove_btn_span_class\n\t\t,\tshow_item_name_as_link = options.showItemNameAsLink\n\t\t,\tindex_classes = 0\n\t\t,\tname;\n\n\t\tcheck_span_class = options.showSelectable ? 'span'+ (indexes[index_classes++] || 1) : '';\n\t\timage_span_class = 'span'+ (indexes[index_classes++] || 2);\n\t\titem_title_span_class = 'span'+ (indexes[index_classes++] || 4);\n\t\titem_quantity_span_class = 'span'+ (indexes[index_classes++] || 1);\n\t\titem_unit_price_span_class = 'span'+ (indexes[index_classes++] || 2);\n\t\titem_total_price_span_class =  'span'+ (indexes[index_classes++] || (options.showRemove ? 2 : 3 ) );\n\t\titem_remove_btn_span_class = 'span' + (indexes[index_classes++] || 1);\n\n\n\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED' && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t,\tdata: {\n\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t,\thashtag: '#' + url\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (url && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t});\n\t\t}\n\n\t\tif (link_attributes)\n\t\t{\n\t\t\tname = '<a ' + link_attributes + ' data-type=\"navigate-product\" >' + item.get('_name') + '<\/a>';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tname = '<span data-type=\"navigate-product\" >' + item.get('_name') + '<\/span>';\n\t\t}\n\t%>\n\n\t<div class=\"row-fluid <%= line_class %> nav-tabs <%= options.showSelectable ? 'selectable': '' %> <%= line.get('check') ? 'active' : ''%>\" data-id=\"<%= line.get('internalid')%>\" data-item-id=\"<%= item.get('internalid') %>\" data-item-type=\"<%= item.get('itemtype') %>\" data-action=\"select-unselected-item\" >\n\t\t<% if (options.showSelectable) { %>\n\t\t<div class=\"<%= check_span_class %> item-selector\">\n\t\t\t<input data-type=\"checkbox-item-selector\" type=\"checkbox\" <%= line.get('check') ? 'checked' : ''%> \/>\n\t\t<\/div>\n\t\t<% } %>\n\n\t\t<div class=\"<%= image_span_class %> item-image\">\n\t\t\t<img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" class=\"item-image-control\" alt=\"<%= item.get('_thumbnail').altimagetext %>\">\n\t\t<\/div>\n\n\t\t<div class=\"<%= item_title_span_class %> item-description \">\n\t\t\t<div class=\"item-displayname\"><%= name %><\/div>\n\t\t\t<div class=\"visible-phone orange-color\"><%= line.get('rate_formatted') %><\/div>\n\t\t\t<div class=\"item-id grey-color\"><%= _('<span data-type=\"sku-label\">SKU:<\/span> #<span data-type=\"sku-value\">$(0)<\/span>').translate(item.get('_sku')) %><\/div>\n\t\t\t<div data-type=\"item-options-container\">\n\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"<%= item_quantity_span_class %> item-quantity\">\n\t\t\t<%= item_quantity_macro() %>\n\t\t<\/div>\n\t\t<div class=\"<%= item_unit_price_span_class %> hidden-phone orange-color item-unitprice\"><%= _('<span class=\"show-phone\">Unit Price: <\/span>$(0)').translate(line.get('rate_formatted')) %><\/div>\n\n\t\t<div class=\"<%= item_total_price_span_class %> item-totalprice\"><%= _('<span class=\"show-phone grey-color\">Amount: <\/span>$(0)').translate(line.get('amount_formatted')) %><\/div>\n\n\t\t<% if (options.showRemove) { %>\n\t\t<div class=\"<%= item_remove_btn_span_class %>\">\n\t\t\t<button type=\"button\" data-action=\"remove-item\" data-item-id=\"<%= line.get('internalid') %>\" class=\"close btn-remove-item\">\u00d7<\/button>\n\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartSummary', function (cart, siteSettings, options) { %>\n<%\n\toptions = _.extend({ showShipto: true, showLabelsAsEstimated: true}, options || {});\n\n\tvar summary = cart.get('summary')\n    ,   promocode = cart.get('promocode')\n    ,   membercode = cart.get('promocode')\t\n\t,\titem_count = _.reduce(cart.get('lines').pluck('quantity'), function (memo, quantity) { return memo + (parseFloat(quantity) || 1); }, 0)\n\n\t,\tshipping_address = cart.get('addresses').get(cart.get('shipaddress')) || new Backbone.Model()\n\t,\tdefault_county = shipping_address.get('country') || siteSettings.defaultshipcountry\n\t,\tshipping_zipcode = shipping_address.get('zip')\n\n\t,\tis_estimate = options.showShipto && shipping_zipcode\n\n\t,\tpromocode = cart.get('promocode')\n\t,\tis_promocode_valid = promocode && promocode.isvalid\n\t,   is_member_valid = membercode && membercode.isvalid\n    \n\t,\tgiftcertificates = cart.get('paymentmethods').where({type: 'giftcertificate'}) || []\n\t\/\/\tThird party checkouts\n\t,\tcheckout = options.checkout || {}\n\t,\tpaypal_express = checkout.paypalexpress;\n\n%>\n<div class=\"well shopping-cart-summary\">\n\t<header class=\"well-header\">\n\t\t<h2>\n\t\t\t<%= _('Order Summary').translate() %>\n\t\t<\/h2>\n\t<\/header>\n\n\t<div class=\"well-body accordion\">\n\t\t<div class=\"well-section cart-summary-subtotal\">\n\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"strong\">\n\t\t\t\t<span class=\"pull-right summary-subtotal-formatted\"><%= summary.subtotal_formatted %><\/span>\n\t\t\t\t<%= _('Subtotal (<span class=\"summary-item-quantity-subtotal\">$(0)<\/span> $(1))').translate( item_count, item_count === 1 ? _('item').translate() : _('items').translate() ) %>\n\t\t\t<\/p>\n\t\t\t<% if (!is_estimate) { %>\n\t\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"no-margin-bottom small\">\n\t\t\t\t\t<%= _('(Total does not include shipping or tax)').translate() %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t<\/div>\n\n\t\t<% if (is_promocode_valid || summary.giftcertapplied) { %>\n\n\t\t\t<% if (is_promocode_valid) { %>\n\t\t\t\t<div class=\"cart-summary-promocode-applied\" style=\"padding: 4px 4px 2px 12px;\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong class=\"lead-price pull-right\"><%= summary.discountrate_formatted %><\/strong>\n\t\t\t\t\t\t<% if (promocode.code == \"SIMEMBER\" ) { %><%= _('Member Discount').translate() %><% } else { %><%= _('Promo Code Discount').translate() %><% } %> <a href=\"#\" data-action=\"remove-promocode\"><i class=\"icon-remove\"><\/i><\/a>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.discounttotal) { %>\n\t\t\t\t<div class=\"well-section cart-summary-discount-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span class=\"pull-right\"><%= summary.discounttotal_formatted %><\/span>\n\t\t\t\t\t\t<%= _('Discount Total').translate() %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.giftcertapplied) { %>\n\t\t\t\t<div class=\"well-section cart-summary-giftcertificate-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<%= _('Gift Certificates Applied ($(0))').translate(giftcertificates.length) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% _.each(giftcertificates, function(giftCertificate) { %>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span class=\"pull-right\"><%= _('-$(0)').translate(giftCertificate.get('giftcertificate').amountapplied_formatted) %><\/span>\n\t\t\t\t\t\t\t<span title=\"<%= giftCertificate.get('giftcertificate').code %>\"><%= SC.macros.formatPaymentMethod(giftCertificate) %><\/span>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\n\t\t<% if (is_estimate) { %>\n\t\t\t<div class=\"well-section cart-summary-shipping-cost-applied\">\n               <% if (options.showShipto && shipping_address.get('zip')) { %>\n                    <p style=\"display:none\">\n                        <%= _('Ship to:').translate() %>\n                        <span class=\"text-success\"><%= shipping_address.get('zip') %><\/span>\n                        <a href=\"#\" data-action=\"remove-shipping-address\">\n                            <i class=\"icon-remove\"><\/i>\n                        <\/a>\n                    <\/p>\n                <% } %>\n                <p style=\"display:none\">\n                    <span class=\"pull-right\"><%= _.formatCurrency(summary.taxtotal + summary.shippingcost) %><\/span>\n                    <%= _('Estimated Shipping & Handling').translate() %>\n                <\/p>\n                <p style=\"display:none\">\n                    <span class=\"pull-right\"><%= _.formatCurrency(summary.handlingcost) %><\/span>\n                    <%= _('Handling').translate() %>\n                <\/p>\n\n                <p>\n                    <span class=\"pull-right\"><%= _.formatCurrency(summary.handlingcost + summary.shippingcost) %><\/span>\n                    <%= _('Shipping & Handling').translate() %>\n                <\/p>\n\t\t\t<\/div>\n\t\t<% } %>\n\n\t\t<% if (!shipping_zipcode) { %>\n\t\t\t<!--<div class=\"collapsible well-section cart-summary-shipping-section\">\n\t\t\t\t<p class=\"collapser collapsed\" data-toggle=\"collapse\" data-target=\"#estimate-shipping-form\">\n\t\t\t\t\t<%= _('Estimate Tax & Shipping').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>Shipping Estimator<\/b><br>Shipping fees are based on your shipping location. Please enter your information to view estimated shipping costs.').translate() %>\" class=\"icon-question-sign summary-estimate-ts-help\"><\/i>\n\t\t\t\t\t<i class=\"icon-minus-sign pull-right summary-estimate-ts-details\"><\/i>\n\t\t\t\t\t<i class=\"icon-plus-sign pull-right summary-estimate-ts-details\"><\/i>\n\t\t\t\t<\/p>\n\t\t\t\t<div id=\"estimate-shipping-form\" class=\"collapse estimate-shipping-form\">\n\t\t\t\t\t<form action=\"#\" data-action=\"estimate-tax-ship\">\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<% if (_.size(siteSettings.countries) > 1) { %>\n\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t<label for=\"country\"><%= _('Select Country').translate() %><\/label>\n\t\t\t\t\t\t\t\t\t<select name=\"country\" id=\"country\" class=\"input-medium country\" data-action=\"estimate-tax-ship-country\">\n\t\t\t\t\t\t\t\t\t\t<% _.each(siteSettings.countries, function (item, index) { %>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"<%= item.code %>\" <%= item.code === default_county ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t<\/select>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<span><%= _('Ship available only to $(0)').translate(_.toArray(siteSettings.countries)[0].name) %><\/span>\n\t\t\t\t\t\t\t\t<input name=\"country\" id=\"country\" class=\"country\" value=\"<%- _.toArray(siteSettings.countries)[0].code %>\" type=\"hidden\" \/>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t<label for=\"zip\">\n\t\t\t\t\t\t\t\t\t<%= default_county === 'US' ? _('Ship to the following zip code').translate() : _('Ship to the following postal code').translate() %>\n\t\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t\t<div class=\"form-inline\">\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"zip\" id=\"zip\" class=\"input-small zip\" value=\"<%- shipping_zipcode || '' %>\" placeholder=\"<%= default_county === 'US' ?  _('Zip code').translate() : _('Postal code').translate() %>\" required>\n\t\t\t\t\t\t\t\t\t<button class=\"btn\"><%= _('Estimate').translate() %><\/button>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/fieldset>\n\t\t\t\t\t<\/form>\n\t\t\t\t<\/div>\n\t\t\t<\/div>-->\n\t\t<% } %>\n\n\t\t<% if (!is_promocode_valid) { %>\n\t\t\t<div class=\"collapsible well-section cart-summary-promocode-section\">\n\t\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"collapser collapsed\" data-target=\"#promo-code-container\" data-toggle=\"collapse\">\n\t\t\t\t\t<i class=\"icon-minus-sign summary-promocode-details pull-right\"><\/i>\n\t\t\t\t\t<i class=\"icon-plus-sign summary-promocode-details pull-right\"><\/i>\n\t\t\t\t\t<%= _('Have a Promo Code?').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>Promo Code<\/b><br>To redeem a promo code, simply enter your information and we will apply the offer to your purchase during checkout.').translate() %>\" class=\"icon-question-sign summary-promocode-help\"><\/i>\n\t\t\t\t<\/p>\n\t\t\t\t<div id=\"promo-code-container\" class=\"collapse promo-code-container\">\n\t\t\t\t\t<%= SC.macros.promocodeForm(promocode) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<% } %>\n\n       <% if (!is_member_valid) { %>\n            <div class=\"collapsible well-section cart-summary-member-section\">\n                <p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"collapser collapsed\" data-target=\"#member-code-container\" data-toggle=\"collapse\">                 \n                    <i class=\"icon-minus-sign pull-right\"><\/i>\n                    <i class=\"icon-plus-sign pull-right\"><\/i>\n                    <%= _('Are you an SI Associate?').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>SI Associates<\/b><br>National Associate Members receive a 10% discount.  Enter your member code below.').translate() %>\" class=\"icon-question-sign\"><\/i>                   \n                <\/p>\n                <div id=\"member-code-container\" class=\"collapse member-code-container\" style=\"padding: 0 18px;\">\n                    <%= SC.macros.membercodeForm( membercode ) %>\n                <p class=\"small\">\n                    If you'd like to become a member, please <a href=\"http:\/\/www.smithsonian.com\/folkways\/join\" target=\"_blank\">click here<\/a> to join and get your member number to save 10%.\n                <\/p>\n                <\/div>\n            <\/div>\n        <% } %>\n\n\t<\/div>\n\n\n\n\t<% if (is_estimate) {%>\n\t\t<div class=\"well-section cart-summary-total\">\n\t\t\t<p class=\"no-margin-bottom strong\">\n\t\t\t\t<span class=\"pull-right\"><%= summary.total_formatted %><\/span>\n\t\t\t\t<%= options.showLabelsAsEstimated ? _('Estimated Total').translate() : _('Total').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<% } %>\n\n\n\t<% if (options.showActions) { %>\n\t\t<div class=\"well-footer shopping-cart-action-buttons\">\n\t\t\t<a style=\"text-transform: uppercase;font-family: Verdana, Geneva, sans-serif;\" id=\"btn-proceed-checkout\" class=\"btn btn-large btn-block btn-primary btn-proceed-checkout\" href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\">\n\t\t\t\t<%= _('Proceed to Checkout').translate() %>\n\t\t\t<\/a>\n<!--\n\t\t\t<% if (paypal_express.available === 'T') { %>\n\t\t\t\t<div class=\"btn-paypal-express\">\n\t\t\t\t\t<a href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\" data-parameters=\"paypalexpress=T\">\n\t\t\t\t\t\t<img src=\"<%= paypal_express.imageurl %>\" alt=\"PayPal Express\" width=\"145px\" height=\"42px\">\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n-->\n\t\t\t<a style=\"text-transform: uppercase;font-family: Verdana, Geneva, sans-serif;\" class=\"btn btn-large btn-block continue-shopping\" href=\"<%= _(options.continueURL).fixUrl() %>\" <%= options.touchpoint ? 'data-touchpoint=\"home\"' : '' %> data-hashtag=\"#<%= _(options.continueURL).fixUrl() %>\">\n\t\t\t\t<%= _('Continue Shopping').translate() %>\n\t\t\t<\/a>\n\t\t<\/div>\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionDefault', function (option, value, model) { %>\n<div class=\"cart-option\" data-cart-option-id=\"<%= option.cartOptionId %>\" data-item-option-id=\"<%= option.itemOptionId %>\">\n\t<span class=\"option-label text-light\"><%= option.label || option.name.replace(':', '') %><\/span>: <span style=\"font-family:verdana; font-size:12px; color:#000\"><%- value.label %><\/span>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('membercodeForm', function( membercode ) { %>\n\n<% var is_invalid = !!( membercode && membercode.error ); %>\n\n<form class=\"form-inline\" style=\"margin-bottom:5px!important\" data-action=\"apply-membercode\">\n\t<fieldset>\n\t\t<div class=\"control-group <%= is_invalid ? 'error' : '' %>\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"membercode\"\n\t\t\t\tid=\"membercode\"\n\t\t\t\tclass=\"input-medium membercode\"\n\t\t\t\tvalue=\"<%- membercode && membercode.code %>\"\n\t\t\t\tplaceholder=\"<%- _('SI Member Code').translate() %>\"\n\t\t\t\trequired\n\t\t\t>\n\t\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t\t<%= _('Apply').translate() %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t\t<div data-type=\"membercode-error-placeholder\">\n\t\t<% if (is_invalid) { %>\n\t\t\t<%= SC.macros.message(membercode.error, 'error', true) %>\n\t\t<% } %>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>\n\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('checkoutCartSummary', function (options) { %>\n<%\n\tvar cart = options.cart\n\t,\tapplication = options.application\n\t,\tcurrent_symbol = application.getConfig('siteSettings.shopperCurrency.symbol','') \/\/Automation purpose\n\t,\tsummary = cart.get('summary')\n\t,\tpromocode = cart.get('promocode')\n\t,\tismultishipto = cart.get('ismultishipto')\n\t,\titem_count = _.reduce(cart.get('lines').pluck('quantity'), function (memo, quantity) { return memo + (parseFloat(quantity) || 1); }, 0)\n\t,\tis_promocode_valid = promocode && promocode.isvalid\n\t,\tgiftcertificates = cart.get('paymentmethods').where({type: 'giftcertificate'}) || [];\n%>\n<div class=\"checkout-cart-summary\">\n\t<header class=\"checkout-cart-summary-header\">\n\t\t<% if (options.stepPosition.toLast > 0) { %>\n\t\t\t<a href=\"#\" class=\"btn btn-link btn-edit-cart pull-right\" data-touchpoint=\"viewcart\">\n\t\t\t\t<%= _('Edit Order').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\n\t\t<h2 class=\"checkout-cart-summary-title\">\n\t\t\t<%= _('Order Summary').translate() %>\n\t\t<\/h2>\n\t<\/header>\n\n\t<div class=\"checkout-cart-summary-body\">\n\t\t<% if (!options.hideItems) { %>\n\t\t<ul class=\"cart-summary-items checkout-summary-items\">\n\t\t<%\n\t\t\tvar thumbnail = ''\n\t\t\t,\titem = null;\n\t\t%>\n\t\t<% cart.get('lines').each(function (line) { %>\n\t\t\t<%\n\t\t\t\titem = line.get('item');\n\t\t\t\tthumbnail = item.get('_thumbnail');\n\t\t\t%>\n\t\t\t<li class=\"cart-summary-item-cell checkout-summary-item-cell\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3 thumbnail checkout-summary-item-thumbnail\">\n\t\t\t\t\t\t<img src=\"<%- options.application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span9 cart-summary-item-details checkout-summary-item-details\">\n\t\t\t\t\t\t<div class=\"pull-right cart-summary-item-total\">\n\t\t\t\t\t\t\t<%= line.get('total_formatted') %>\n\t\t\t\t\t\t\t<% if (line.get('amount') > line.get('total')) {%>\n\t\t\t\t\t\t\t\t<small class=\"muted crossed cart-summary-item-amount\">\n\t\t\t\t\t\t\t\t\t<%=  line.get('amount_formatted') %>\n\t\t\t\t\t\t\t\t<\/small>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<strong class=\"cart-summary-item-name\"><%= item.get('_name') %><\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"cart-summary-item-quantity\">\n\t\t\t\t\t\t\t<%= _('Qty: $(0)').translate(line.get('quantity')) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"cart-summary-item-price\">\n\t\t\t\t\t\t\t<%= SC.macros.showItemPrice(line.getPrice()) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<%= \/* Renders the selected options for the item *\/\n\t\t\t\t\t\t\titem.renderAllOptionSelected() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t\t<% } %>\n\t\t<div class=\"cart-summary-subtotal\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<span class=\"pull-right cart-summary-subtotal-formatted\" >\n\t\t\t\t\t<%= summary.subtotal_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<span class=\"cart-summary-subtotal-label\">\n\t\t\t\t\t<%= _('Subtotal (<span data-type=\"cart-summary-subtotal-count\">$(0)<\/span> $(1))').translate(item_count, item_count === 1 ? _('item').translate() : _('items').translate()) %>\n\t\t\t\t<\/span>\n\t\t\t<\/p>\n\t\t<\/div>\n\n\t\t<% if (is_promocode_valid || summary.giftcertapplied) { %>\n\t\t\t<% if (is_promocode_valid) { %>\n\t\t\t<div class=\"cart-summary-promocode-applied\">\n\t\t\t\t<p>\n\t\t\t\t\t<strong class=\"lead-price pull-right\">\n\t\t\t\t\t\t<%= summary.discountrate_formatted %>\n\t\t\t\t\t<\/strong>\n\t\t\t\t\t<%= _('Promo Code Applied').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"text-success\">\n\t\t\t\t\t#<%= promocode.code %> - <%= _('Instant Rebate').translate() %>\n\t\t\t\t\t<% if (options.stepPosition.toLast > 0) { %>\n\t\t\t\t\t\t<a href=\"#\" data-action=\"remove-promocode\">\n\t\t\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.discounttotal) { %>\n\t\t\t<div class=\"cart-summary-discount-applied\">\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"pull-right\">\n\t\t\t\t\t\t<%= summary.discounttotal_formatted %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<%= _('Discount Total').translate() %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.giftcertapplied) { %>\n\t\t\t<div class=\"cart-summary-giftcertificate-applied\">\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Gift Certificates Applied ($(0))').translate(giftcertificates.length) %>\n\t\t\t\t<\/p>\n\t\t\t\t<% _.each(giftcertificates, function (giftCertificate) { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span class=\"pull-right\">\n\t\t\t\t\t\t\t<%= _('-$(0)').translate(giftCertificate.get('giftcertificate').amountapplied_formatted) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span title=\"<%- giftCertificate.get('giftcertificate').code %>\">\n\t\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(giftCertificate) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/p>\n\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\n\t\t<div class=\"cart-summary-shipping-cost-applied\">\n\t\t\t<p>\n\t\t\t\t<span class=\"pull-right cart-summary-shipping-cost-formatted\">\n\t\t\t\t\t<%= summary.shippingcost_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<%= _('Shipping').translate() %>\n\t\t\t<\/p>\n\n\t\t\t<% if (summary.handlingcost) { %>\n\t\t\t<p>\n\t\t\t\t<span class=\"pull-right cart-summary-handling-cost-formatted\">\n\t\t\t\t\t<%= summary.handlingcost_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<%= _('Handling').translate() %>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t\t<p>\n\t\t\t\t<span class=\"pull-right cart-summary-tax-total-formatted\" >\n\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<%= _('Tax').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\n\t\t<div class=\"cart-summary-total\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<span class=\"pull-right cart-summary-total-formatted\" >\n\t\t\t\t\t<%= summary.total_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<%= _('Total').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\n\t<% if (options.stepPosition.toLast === 1) { %>\n\t\t<div>\n\t\t<% if (SC.ENVIRONMENT.siteSettings.checkout.requiretermsandconditions === 'T') { %>\n\t\t\t<p><%= _('By placing your order, you are agree to our <a data-type=\"term-condition-link-summary\" data-toggle=\"show-terms-summary\" href=\"#\">Terms & Conditions<\/a>').translate() %><\/p><br\/>\n\t\t<% } %>\n\t\t\t<button class=\"btn btn-primary btn-large btn-place-order\" data-action=\"submit-step\">\n\t\t\t\t<%= options.continueButtonLabel %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t<% } %>\n\t<\/div>\n\n\t<% if (!is_promocode_valid && options.stepPosition.toLast > 0) { %>\n\t<footer class=\"checkout-cart-summary-footer accordion\">\n\t\t<div class=\"collapsible\">\n\t\t\t<p class=\"collapser collapsed\" data-target=\"#promo-code-container\" data-toggle=\"collapse\">\n\t\t\t\t<i class=\"icon-minus-sign pull-right\"><\/i>\n\t\t\t\t<i class=\"icon-plus-sign pull-right\"><\/i>\n\t\t\t\t<%= _('Have a Promo Code?').translate() %>\n\t\t\t\t<i class=\"icon-question-sign\"\n\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\ttitle=\"<%= _('<b>Promo Code<\/b><br>To redeem a promo code, simply enter your information and we will apply the offer to your purchase during checkout.').translate() %>\">\n\t\t\t\t<\/i>\n\t\t\t<\/p>\n\t\t\t<div id=\"promo-code-container\" class=\"collapse promo-code-container\">\n\t\t\t\t<% if(!ismultishipto){ %>\n\t\t\t\t\t<%= SC.macros.promocodeForm(promocode) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<div class=\"promocode-unsupported-summary-warning\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<%= _('Shipping to multiple addresses does not support Promo Codes.').translate() %>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<%= _('If you want to apply one, please <a href=\"#\" data-action=\"change-status-multishipto-sidebar\" data-type=\"multishipto\">ship to a single address<\/a>.').translate() %>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/footer>\n\t<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionColor', function (option, value, model) { %>\n<div>\n\t<%= option.label || option.name.replace(':', '') %>: \n\t<% var color = option.colors && (option.colors[value.label] || option.colors.defaultColor); %>\n\t<span \n\t\t<% if (!_.isObject(color)) { %>\n\t\t\tstyle=\"background: <%= color %>\"\n\t\t<% } %>\n\t\tclass=\"cart-color-tile\">\n\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t<img \n\t\t\t\t\tsrc=\"<%- color.src %>\" \n\t\t\t\t\talt=\"<%- value.label %>\"\n\t\t\t\t\twidth=\"<%- color.width || '' %>\" \n\t\t\t\t\theight=\"<%- color.height || '' %>\">\n\t\t\t<% } %>\t\n\t<\/span> <%= value.label %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartItem', function(line, view, options) { %>\n<%\nvar item = line.get('item');\noptions = _.extend({ showActions: true}, options || {});\n\nvar url = _(item.get('_url') + item.getQueryStringWithQuantity(1)).fixUrl();\nvar application = view.options.application;\nvar stock_info = item.getStockInfo();\n\nif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n{\n\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\thref: url\n\t,\tdata: {\n\t\t\ttouchpoint: 'home'\n\t\t,\thashtag: '#'+url\n\t\t}\n\t});\n}\nelse if (url)\n{\n\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\thref: url\n\t});\n}\n\n%>\n<article id=\"<%- line.get('internalid') %>\" class=\"cart-item-cell <%= line.get('internalid') %>\">\n\t<div data-type=\"alert-placeholder\">\n\t<% if (item.get('_cartCustomAlert')) {%>\n\t\t<div class=\"alert alert-<%= item.get('_cartCustomAlertType') || 'info' %>\">\n\t\t\t<%= item.get('_cartCustomAlert') %>\n\t\t<\/div>\n\t<% } %>\n\t<\/div>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span3 thumbnail cart-item-thumbnail\">\n\t\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t\t<% if (options.showActions) { %>\n\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"span9 details\">\n\t\t\t<div class=\"span9 cart-item-details\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<% if (options.showActions) { %>\n\t\t\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"lead lead-small price\">\n\t\t\t\t\t<%= SC.macros.showItemPrice(line.getPrice(), stock_info.isInStock) %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sku\">\n\t\t\t\t\t<%= _('<span class=\"sku-label\">SKU: #<\/span><span class=\"sku-value\">$(0)<\/span>').translate( item.get('_sku') ) %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"cart-item-options\">\n\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"quantity-container\">\n\t\t\t\t<% if (options.showActions) { %>\n\t\t\t\t\t<form action=\"#\" data-action=\"update-quantity\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"internalid\" id=\"update-internalid-<%= line.get('internalid') %>\" class=\"update-internalid-<%= line.get('internalid') %>\" value=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t<% if(item.get('_itemType') !== 'GiftCert') { %>\n\t\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity-<%= line.get('internalid') %>\" class=\"input-mini quantity-<%= line.get('internalid') %>\" value=\"<%- line.get('quantity') %>\" min=\"1\">\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"quantity\" id=\"quantity-<%= line.get('internalid') %>\" value=\"1\">\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<\/form>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%=_('Qty: $(0)').translate(line.get('quantity')) %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"span3 amount\">\n\t\t\t\t<%= line.get('total_formatted') %>\n\t\t\t\t<% if( line.get('amount') > line.get('total') ) {%>\n\t\t\t\t\t<small class=\"muted crossed\"><%=  line.get('amount_formatted') %><\/small>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"clearfix\"><\/div>\n\t\t\t<div class=\"text-right cart-item-stock-info\">\n\t\t\t\t<%= SC.macros.itemDetailsStock(stock_info) %>\n\t\t\t<\/div>\n\t\t\t<% if (options.showActions) { %>\n\t\t\t\t<div class=\"cart-item-actions\">\n\t\t\t\t\t<% if (SC.ENVIRONMENT.siteType !== \"STANDARD\") { %>\n\t\t\t\t\t\t<a class=\"btn edit\" href=\"<%- _(item.get('_editUrl')).fixUrl() %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<button class=\"btn remove\" data-action=\"remove-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t\t\t<\/button>\n\t\t\t\t\t<% if (SC.ENVIRONMENT.siteType !== \"STANDARD\" && application.ProductListModule && application.ProductListModule.isProductListEnabled() && application.name.toLowerCase() === 'shopping') { %>\n\t\t\t\t\t\t<button class=\"btn saveforlater\" data-action=\"save-for-later-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t\t<%= _('Save for Later').translate() %>\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t<% }\u00a0%>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('promocodeForm', function( promocode ) { %>\n<% var is_invalid = !!( promocode && promocode.error ); %>\n<form class=\"form-inline\" data-action=\"apply-promocode\">\n\t<fieldset>\n\t\t<div class=\"control-group <%= is_invalid ? 'error' : '' %>\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"promocode\"\n\t\t\t\tid=\"promocode\"\n\t\t\t\tclass=\"input-medium promocode\"\n\t\t\t\tvalue=\"<%- promocode && promocode.code %>\"\n\t\t\t\tplaceholder=\"<%- _('Promo code').translate() %>\"\n\t\t\t\trequired\n\t\t\t>\n\t\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t\t<%= _('Apply').translate() %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t\t<div data-type=\"promocode-error-placeholder\">\n\t\t<% if (is_invalid) { %>\n\t\t\t<%= SC.macros.message(promocode.error, 'error', true) %>\n\t\t<% } %>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('wizardItemActionsSetAddressDropDown', function (options) { %>\n\t<%\n\tvar addresses =  options.addresses\n\t,\tline = options.line;\n\t%>\n\t<span> <%= _('Ship items to ').translate() %><\/span>\n\t<select data-line-id=\"<%= line.id %>\" data-type=\"set-shipments-address-selector\" class=\"multishipto-address-selector\"\n\t\t<%= addresses && addresses.length ? '' : 'disabled=\"disabled\"' %> >\n\t\t<% if (addresses && addresses.length) { %>\n\t\t\t<% addresses.each(function(address) { %>\n\t\t\t\t<option value=\"<%= address.get('internalid') %>\" <%= address.get('internalid') === line.get('shipaddress') ? 'selected' : '' %> >\n\t\t\t\t\t<%= address.get('fullname') + \" - \" + address.get('addr1') %>\n\t\t\t\t<\/option>\n\t\t\t<% }) %>\n\t\t\t<% } else { %>\n\t\t\t\t<option value=\"\" 'selected' >\n\t\t\t\t\t<%= _('Assign shipping addresses').translate() %>\n\t\t\t\t<\/option>\n\t\t\t<% } %>\n\t<\/select>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('wizadStepNavigation', function (step_groups) { %>\n<ul class=\"wizard-step-groups\">\n<% var index_counter = 0\n\t,\terrors_to_display = []; %>\n<% _.each(step_groups, function (step_group) { %>\n\t<%\n\tif (step_group.showStepGroup())\n\t{\n\t\tvar list_item_class = 'wizard-step-link';\n\t\tif (step_group.state === 'present')\n\t\t{\n\t\t\tlist_item_class += ' active';\n\t\t}\n\t\telse if (step_group.state === 'future')\n\t\t{\n\t\t\tlist_item_class += ' disabled';\n\t\t}\n\n\t\tvar step_group_errors = step_group.getErrors();\n\t\tif (step_group_errors && step_group_errors.length)\n\t\t{\n\t\t\tlist_item_class += ' error';\n\t\t}\n\n\t\terrors_to_display = _.uniq(_.union(errors_to_display, step_group_errors), function (item) { return item.errorCode; });\n\t%>\n\n\t<% if (index_counter) { %>\n\t\t<li class=\"divider divider-<%= index_counter %>\">\/<\/li>\n\t<% } %>\n\n\t<li class=\"<%- list_item_class %> wizard-step-<%= index_counter %>\">\n\t\t<a href=\"<%- step_group.state === 'future' ? Backbone.history.fragment : step_group.url + '?force=true' %>\">\n\t\t\t<span class=\"step-index step-index-<%= index_counter %>\">\n\t\t\t\t<%= ++index_counter %>\n\t\t\t<\/span>\n\t\t\t<%= step_group.name %>\n\t\t<\/a>\n\t<\/li>\n\t<% } %>\n<% }) %>\n<\/ul>\n<% if (errors_to_display.length) { %>\n\t <% _.each(errors_to_display, function (error) { %>\n\t \t\t<div class=\"alert alert-error orderwizard-header-error\"><%= error.errorMessage %><\/div>\n\t<% }) %>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('wizardItemActionEditShiptment', function (options) { %>\n\t<%\n\t\tvar line = options.line;\n\t%>\n\t<button class=\"btn btn-link block-button\" data-action=\"remove-item\" data-item-id=\"<%= line.id %>\"><%= _('Remove from Shipment').translate() %><\/button>\n\t<button class=\"btn btn-link block-button\" data-action=\"move-item\" style=\"visibility:hidden\"><%= _('Move').translate() %><\/button>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardForm', function (creditcard, options) { %>\n<% var application = options.application; %>\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<%\n\t\t\t\tvar icons = application.getConfig('creditCardIcons')\n\t\t\t\t,\tselected_payment_method = creditcard.get('paymentmethod')\n\t\t\t\t,\tcreditcards = _.where(application.getConfig('siteSettings.paymentmethods'), {creditcard: 'T', ispaypal: 'F'});\n\t\t\t%>\n\t\t\t<input type=\"hidden\" id=\"paymentmethod\" name=\"paymentmethod\" value=\"<%- selected_payment_method && selected_payment_method.internalid %>\"\/>\n\t\t\t<% _.each(creditcards, function (paymentmethod) { %>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"credit-card-icon <%- creditcard.isNew() || selected_payment_method && paymentmethod.internalid === selected_payment_method.internalid ? '' : 'hidden' %>\"\n\t\t\t\t\tsrc=\"<%- icons[paymentmethod.name] %>\"\n\t\t\t\t\tdata-value=\"<%- paymentmethod.internalid %>\"\n\t\t\t\t\talt=\"<%- paymentmethod.name %>\"\n\t\t\t\t\tdata-image=\"creditcard-icon\"\n\t\t\t\t\/>\n\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"ccnumber\">\n\t\t\t<strong><%= _('Credit Card Number').translate() %><\/strong>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccnumber\" name=\"ccnumber\" value=\"<%- creditcard.get('ccnumber') %>\" <%= !creditcard.isNew() ? 'disabled':'' %> >\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"expmonth\">\n\t\t\t<strong><%= _('Expiration Date').translate() %>\/<strong>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<select class=\"input-mini\" id=\"expmonth\" name=\"expmonth\">\t\t\t\t\t\n\t\t\t\t<% var currentMonth = creditcard.get('expmonth') ? creditcard.get('expmonth') : options.currentMonth  %>\n\t\t\t\t<% _.each(options.months, function (month, index) { %>\n\t\t\t\t\t<option value=\"<%- month %>\" <%= month == currentMonth ? 'selected' : '' %>>\n\t\t\t\t\t\t<%= month %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t\t<select class=\"input-small\" id=\"expyear\" name=\"expyear\">\n\t\t\t\t<% _.each(options.years, function (year, index) { %>\n\t\t\t\t\t<option value=\"<%- year %>\" <%= year == creditcard.get('expyear') ? 'selected' : '' %> <%= options.expyear == year ? 'disabled' : '' %>>\n\t\t\t\t\t\t<%= year %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<%= SC.macros.creditcardSecurityNumberForm({\n\t\t\tshowCreditCardHelp: options.showCreditCardHelp\n\t\t,\tcreditCardHelpTitle: options.creditCardHelpTitle\n\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t,\tavailableCreditcards: options.availableCreditcards\n\t\t}) %>\n\t<% } %>\n\n\t<div class=\"control-group\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"ccname\">\n\t\t\t<strong><%= _('Name on Card').translate() %><\/strong>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccname\" name=\"ccname\" maxlength=\"26\" value=\"<%- creditcard.get('ccname') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (application.getUser().get('isGuest') !== 'T' && options.showDefaults) { %>\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid=\"ccdefault\"\n\t\t\t\t\tvalue=\"T\"\n\t\t\t\t\tdata-unchecked-value=\"F\"\n\t\t\t\t\tname=\"ccdefault\"\n\t\t\t\t\t<%= creditcard.get('ccdefault') === 'T' ? 'checked' : '' %>\n\t\t\t\t>\n\t\t\t\t<%= _('Make this my default credit card').translate() %>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n<\/fieldset>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","\n\n<% registerMacro('creditcardSecurityNumberPopover', function (options) { %>\n<% options = options || {}; %>\n\n    <% if (options.availableCreditcards.length) { %>\n        <% if (options.availableCreditcards.indexOf('VISA - WEB') != -1 || options.availableCreditcards.indexOf('M\/C - WEB') != -1 || options.availableCreditcards.indexOf('DISC -WEB') != -1) { %>\n            <p><%= _('VISA\/Mastercard\/Discover').translate() %><\/p>\n            <p><img src=\"<%= options.imageCvvAllCards %>\" alt=\"\"><\/p>\n        <% } %>\n        \n        <% if (options.availableCreditcards.indexOf('AMEX -WEB') != -1) { %>\n            <p><%= _('American Express').translate() %><\/p>\n            <p><img src=\"<%= options.imageCvvAmericanCard %>\" alt=\"\"><\/p>\n        <% } %>\n    <% } else { %>\n        <p><%= _('VISA\/Mastercard\/Discover').translate() %><\/p>\n        <p><img src=\"<%= options.imageCvvAllCards %>\" alt=\"\"><\/p>\n\n        <p><%= _('American Express').translate() %><\/p>\n        <p><img src=\"<%= options.imageCvvAmericanCard %>\" alt=\"\"><\/p>\n    <% } %>\n\n    <button type=\"button\" class=\"visible-phone btn btn-block btn-large btn-continue\" data-type=\"close-popover\"><%= _('OK').translate() %><\/button>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcard', function (creditcard, options) { %>\n<%\n\toptions = options  || {};\n\tvar payment_name = creditcard.get('paymentmethod').name\n\t,\texpiration_month = creditcard.get('expmonth')\n\t,\ticons = options.icons;\n%>\n<article class=\"creditcard\" data-id=\"<%= creditcard.get('internalid') %>\">\n\t<% if (options.showSecurityCodeForm) { %>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span6\">\n\t<% } %>\n\t\t\t<h4 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"summary-header\">\n\t\t\t<% if (payment_name in icons) { %>\n\t\t\t\t<img class=\"credit-card-icon\" src=\"<%- icons[payment_name] %>\" alt=\"<%- payment_name %>\">\n\t\t\t<% } else { %>\n\t\t\t\t<%= payment_name %>\n\t\t\t<% } %> &ndash;\n\t\t\t<span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"ccnumber\"><%= _('Ending in $(0)').translate(creditcard.get('ccnumber').replace(\/\\*\/g, '')) %><\/span>\n\t\t\t<\/h4>\n\t\t\t<p>\n\t\t\t\t<span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"ccname\"><%= creditcard.get('ccname') %><\/span> <br>\n\t\t\t\t<span style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"expdate\"><%= _('Expires').translate() + ' ' + (expiration_month < 10 ? '0' : '') + expiration_month + '\/' + creditcard.get('expyear') %><\/span>\n\t\t\t<\/p>\n\t\t\t<% if (options.showDefaults) { %>\n\t\t\t<p class=\"default-credit-card\">\n\t\t\t\t<% if (creditcard.get('ccdefault') === 'T') { %>\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Credit Card').translate() %>\n\t\t\t\t<% } %>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<\/div>\n\t\t<div class=\"span6\">\n\t\t\t<%= SC.macros.creditcardSecurityNumberForm({\n\t\t\t\terror: options.securityNumberError\n            ,   value: creditcard.get('ccsecuritycode')\n\t\t\t,\tshowCreditCardHelp: options.showCreditCardHelp\n\t\t\t,\tcreditCardHelpTitle: options.creditCardHelpTitle\n\t\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t\t,\tcollapseElements: options.collapseElements\n\t\t\t,\tavailableCreditcards: options.availableCreditcards\n\t\t\t}) %>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\n\t<% if (options.showSelect) { %>\n\t\t<button style=\"text-transform: uppercase;\" class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- creditcard.get('internalid')%>\">\n\t\t\t<%= options.selectMessage %>\n\t\t<\/button>\n\t<% } %>\n\n\t<% if (options.showActions) { %>\n\t\t<p class=\"actions\">\n\t\t\t<a class=\"btn btn-link ccedit-credit-card\" href=\"\/creditcards\/<%= creditcard.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Edit Card').translate() %>\n\t\t\t<\/a>\n\t\t\t<button class=\"btn btn-link ccremove-credit-card\" data-action=\"remove\" data-id=\"<%- creditcard.get('internalid') %>\">\n\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t<\/button>\n\t\t<\/p>\n\t<% } %>\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardSecurityNumberForm', function (options) { %>\n<% options = options || {}; %>\n<div class=\"credit-card-security-number\">\n\t<div class=\"control-group <%= options.error ? 'error' : '' %>\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"ccsecuritycode\">\n\t\t\t<%= _('Security Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-small\"\n\t\t\t\tid=\"ccsecuritycode\"\n\t\t\t\tname=\"ccsecuritycode\"\n\t\t\t\tvalue=\"<%- options.value %>\"\n\t\t\t\tmaxlength=\"4\"\n\t\t\t> <% if (options.showCreditCardHelp) { %>\n\t\t\t\t<%\n\t\t\t\tvar popover_content = SC.macros.creditcardSecurityNumberPopover({\n\t\t\t\t\tavailableCreditcards: options.availableCreditcards\n\t\t\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t\t\t});\n\t\t\t\t%>\n\t\t\t\t<a href=\"#\"><i class=\"icon-question-sign\" data-toggle=\"popover\" data-placement=\"bottom\" data-title=\"<%= options.creditCardHelpTitle %>\" data-content='<%= popover_content %>'><\/i><\/a>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.error) { %>\n\t\t\t\t<p class=\"help-block\">\n\t\t\t\t\t<%= options.error.errorMessage %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('addressFrom', function (address, options) { %>\n<% \n\tvar site_settings = SC.ENVIRONMENT.siteSettings\n\t,\tmanage = options.manage ? options.manage + '-' : ''\n\t,\tcountries = options.countries\n\t,\tquantity_countries = _.size(countries)\n\t,\tselected_country = address.get('country') || site_settings.defaultshipcountry\n\t,\tzip_not_required = selected_country && site_settings.countries[selected_country] && site_settings.countries[selected_country].isziprequired === 'F'\n\t,\tapplication = this.view.options.application || this.view.options.wizard.application;\n\n\tif (quantity_countries === 1)\n\t{\n\t\tselected_country = _.keys(countries)[0];\n\t}\n%>\n\n\n\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t\n\t<div class=\"control-group\" data-input=\"fullname\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>fullname\">\n\t\t\t<%= _('<strong>Full Name<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>fullname\" name=\"fullname\" value=\"<%- address.get('fullname')%>\">\n\t\t<\/div>\n\t<\/div>\n\t<% if (site_settings.registration.displaycompanyfield === 'T') { %>\n\t<div class=\"control-group\" data-input=\"company\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>company\">\n\t\t\t<%= _('<strong>Company<\/strong>').translate() %>\n\t\t\t<% if (site_settings.registration.companyfieldmandatory === 'T') { %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t\t<% } %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-xlarge\"\n\t\t\t\tid=\"<%= manage %>company\"\n\t\t\t\tname=\"company\"\n\t\t\t\tvalue=\"<%- address.get('company') %>\"\n\t\t\t\t<% if (site_settings.registration.companyfieldmandatory !== 'T') { %>\n\t\t\t\t\tplaceholder=\"<%= _('(optional)').translate() %>\"\n\t\t\t\t<% } %>\n\t\t\t>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n\t<div class=\"control-group\" data-input=\"addr1\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>addr1\">\n\t\t\t<%= _('<strong>Address<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr1\" name=\"addr1\" value=\"<%- address.get('addr1') %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 1234 Main Street').translate() %>\n\t\t<\/span>\n\t<\/div>\n\n\t<div class=\"control-group control-group-big\" data-input=\"addr2\">\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr2\" name=\"addr2\" value=\"<%- address.get('addr2') %>\" placeholder=\"<%= _('(optional)').translate() %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: Apt. 3 or Suite #1516').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"city\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>city\">\n\t\t\t<%= _('<strong>City<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>city\" name=\"city\" value=\"<%- address.get('city') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group<%= quantity_countries <= 1 ? ' hide' : '' %>\" data-input=\"country\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>country\">\n\t\t\t<%= _('<strong>Country<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<%= SC.macros.countriesDropdown(countries, selected_country, manage) %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"state\">\n\t\t<%= SC.macros.statesDropdown({\n\t\t\tcountries: options.countries\n\t\t,\tselectedCountry: selected_country\n\t\t,\tselectedState: address.get('state')\n\t\t,\tmanage: manage\n\t\t}) %>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"zip\" <%= zip_not_required ? 'style=\"display: none;\"': '' %>>\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>zip\">\n\t\t\t<%= _('<strong>Zip Code<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-medium\" id=\"<%= manage %>zip\" name=\"zip\" value=\"<%- address.get('zip') %>\" data-type=\"zip\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 94117').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\"  data-input=\"phone\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"<%= manage %>phone\">\n\t\t\t<%= _('<strong>Phone Number<\/strong>').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"tel\" class=\"input-xlarge\" id=\"<%= manage %>phone\" name=\"phone\" value=\"<%- address.get('phone') %>\" data-type=\"phone\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 555-123-1234').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"isresidential\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>isresidential\" value=\"T\" data-unchecked-value=\"F\" name=\"isresidential\" <%= address.get('isresidential') === 'T' ? 'checked' : '' %>>\n\t\t\t\t<%= _('This is a Residential Address').translate() %>\n\t\t\t\t<a href=\"#\" rel=\"tooltip\" data-toggle=\"tooltip\" title=\"<%= _('Indicating that this is a residential address will help us determine the best delivery method for your items.').translate() %>\">\n\t\t\t\t\t<i class=\"icon-question-sign\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultbilling\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultbilling\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultbilling\" <%= address.get('defaultbilling') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary billing address').translate() : _('Make this my default billing address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultshipping\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultshipping\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultshipping\" <%= address.get('defaultshipping') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary shipping address').translate() : _('Make this my default shipping address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n<\/fieldset>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('address', function (address, options) {\n\toptions = options || {};\n\n\tvar label = address.get('label')\n\t,\tcompany = (SC.ENVIRONMENT.siteSettings.registration.displaycompanyfield === 'T') ? address.get('company') : null\n\t,\tfullname = address.get('fullname')\n\t,\tcountries = SC.ENVIRONMENT.siteSettings.countries\n\t,\tcountry_object = countries[address.get('country')]\n\t,\tcountry = (country_object)? country_object.name : address.get('country')\n\t,\tstate_object = (country_object && country_object.states)? _.findWhere(countries[address.get('country')].states, {code: address.get('state')}): null\n\t,\tstate = (state_object)? state_object.name: address.get('state');\n%>\n\n<div class=\"address\" >\n\t<div class=\"main-container\" data-id=\"<%= address.get('internalid') %>\" <%= options.manage ? 'data-manage=' + options.manage : ''%>>\n\n\t\t\t<address >\n\n\t\t\t\t<% if (options.showMultiSelect) { %>\n\t\t\t\t\t<div class=\"multiselect-address-selector\" >\n\t\t\t\t\t\t<input type=\"checkbox\" <%= address.get('check') ? 'checked': '' %> data-id=\"<%- address.get('internalid') %>\" data-action=\"multi-select-address\" \/>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"<%= options.showMultiSelect ? 'multiselect-address-container': '' %>\">\n\t\t\t\t\t<span style=\"font-weight: bold;font-family: Georgia;\" class=\"address-line address-title summary-header\">\n\t\t\t\t\t\t<%= label || company || fullname %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (label && company) { %>\n\t\t\t\t\t\t<span class=\"address-line address-company\">\n\t\t\t\t\t\t\t<%= company %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } else if (label ? !company : company ) { %>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-line address-addr1\">\n\t\t\t\t\t\t<%= address.get('addr1') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (address.get('addr2')) { %>\n\t\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-line address-addr2\">\n\t\t\t\t\t\t\t<%= address.get('addr2') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"address-line\">\n\t\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-city\">\n\t\t\t\t\t\t\t<%= address.get('city') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% if (address.get('state')) { %>\n\t\t\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-state\">\n\t\t\t\t\t\t\t\t<%= state %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-zip\">\n\t\t\t\t\t\t\t<%= address.get('zip') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-line address-country\">\n\t\t\t\t\t\t<%= country %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span style=\"font-family: Georgia;\" class=\"address-line address-phone\">\n\t\t\t\t\t\t<%= address.get('phone') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/address>\n\n\t\t\t<% if (!options.hideDefaults) { %>\n\t\t\t\t<% if (address.get('defaultshipping') === 'T') { %>\n\t\t\t\t<p class=\"default-shipping\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Shipping Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (address.get('defaultbilling') === 'T') { %>\n\t\t\t\t<p class=\"default-billing\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Billing Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showSelect) { %>\n\t\t\t\t<button style=\"text-transform: uppercase;\" class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= options.selectMessage || _('Select this Address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<% } %>\n\n\t\t\t<% if (!options.hideActions) { %>\n\t\t\t<p class=\"actions\">\n\t\t\t\t<a class=\"btn btn-link edit-address\" href=\"\/addressbook\/<%- address.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t<\/a>\n\n\t\t\t\t<a class=\"btn btn-link remove-address\" data-action=\"remove\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showError && address.get('isvalid') !== 'T') { %>\n\t\t\t\t<div data-type=\"address-error-container\">\n\t\t\t\t\t<div class=\"address-error-message\"><%= _('Invalid address, please provide the following:').translate() %><\/div>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar invalid_attributes = address.getInvalidAttributes()\n\t\t\t\t\t%>\n\t\t\t\t\t<% _.each(invalid_attributes, function (attribute) { %>\n\t\t\t\t\t\t<div class=\"address-error-message\"> <%= '- ' + attribute %> <\/div>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('registerFormFields', function(options) { %>\n<% options = options || {} %>\n\n<div data-type=\"alert-placeholder\"><\/div>\n\n<div class=\"control-group\">\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-firstname\">\n\t\t<%= _('<strong>First Name<\/strong> <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input type=\"text\" name=\"firstname\" id=\"register-firstname\" class=\"input-xlarge\">\n\t<\/div>\n<\/div>\n\n<div class=\"control-group\">\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-lastname\">\n\t\t<%= _('<strong>Last Name<\/strong> <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input type=\"text\" name=\"lastname\" id=\"register-lastname\" class=\"input-xlarge\">\n\t<\/div>\n<\/div>\n\n<%\n\tvar show_company_field = SC.ENVIRONMENT.siteSettings.registration.showcompanyfield === 'T'\n\t,\trequire_company_field = SC.ENVIRONMENT.siteSettings.registration.companyfieldmandatory === 'T'\n\t,\tsite_name = SC.ENVIRONMENT.siteSettings.displayname\n\t,\temail_subscribe_checked = this.view.wizard && this.view.wizard.application.getUser().get('isGuest') === 'T' && this.view.wizard.application.getUser().get('emailsubscribe') === 'T';\n%>\n<% if (show_company_field) { %>\n\t<div class=\"control-group\">\n\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-company\">\n\t\t\t<% if (require_company_field) { %>\n\t\t\t\t<%= _('<strong>Company<\/strong> <small>(required)<\/small>').translate() %>\n\t\t\t<% } else { %>\n\t\t\t\t<%= _('<strong>Company<\/strong>').translate() %>\n\t\t\t<% } %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" name=\"company\" id=\"register-company\" class=\"input-xlarge\" placeholder=\"<%- require_company_field ? '' : _('(optional)').translate() %>\">\n\t\t<\/div>\n\t<\/div>\n<% } %>\n\n<div class=\"control-group\">\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-email\">\n\t\t<%= _('<strong>Email Address<\/strong> <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input type=\"email\" name=\"email\" id=\"register-email\" class=\"input-xlarge\" placeholder=\"<%- _('your@email.com').translate() %>\"  value=\"<%- options.view && options.view.guestEmail || '' %>\" >\n\t\t<span class=\"help-block\">\n\t\t\t<small>\n\t\t\t\t<%= _('We need your email address to contact you about your order.').translate() %>\n\t\t\t<\/small>\n\t\t<\/span>\n\t<\/div>\n<\/div>\n<div class=\"control-group\">\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-password\">\n\t\t<%= _('<strong>Password<\/strong> <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input type=\"password\" name=\"password\" id=\"register-password\" class=\"input-xlarge\">\n\t<\/div>\n<\/div>\n\n<div class=\"control-group\">\n\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"register-password2\">\n\t\t<%= _('<strong>Re-Enter Password<\/strong> <small>(required)<\/small>').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input type=\"password\" name=\"password2\" id=\"register-password2\" class=\"input-xlarge\">\n\t<\/div>\n<\/div>\n\n<div class=\"control-group\">\n\t<label class=\"checkbox\">\n\t\t<input type=\"checkbox\" name=\"emailsubscribe\" id=\"register-emailsubscribe\" value=\"T\" <%= email_subscribe_checked ? 'checked' : '' %> >\n\t\t<%= _('Yes, Please sign me up to the $(0) mailing list').translate(site_name) %>\n\t<\/label>\n<\/div>\n<% }) %>\n\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZoneCustom', function (zone) { %>\n<aside class=\"shopping-cart-recent-items\">\n\t<h3>Top 3 in: <%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, zone.application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(_.first(zone.items, 3), relatedWrap, 4) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZone', function (zone) { %>\n<aside>\n\t<h3><%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p class=\"description\"><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, zone.application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(zone.items, relatedWrap, 4) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n"],"forbidden_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"forbidden-error-content\" class=\"view-body forbidden-error-content\">\n\t<p><%= _('Sorry! You have no permission to view this page.').translate() %><\/p>\n\t<p><%= _('Please contact the website administrator, click <a href=\"\/\">here<\/a> to continue.').translate() %><\/p>\n<\/div>","order_wizard_layout_tmpl":"<% var position = view.wizard.getStepPosition() %>\n<% if(!view.wizard.getCurrentStep().hideBreadcrumb && position.toLast > 0){ %>\n\t<header class=\"order-wizard-layout-header\">\n\t<%= wizadStepNavigation(view.wizard.stepGroups) %>\n\t<\/header>\n<%}%>\n<div class=\"row-fluid <%= position.toLast === 1 ? 'review-step' : '' %>\">\n\t<div class=\"span8\">\n\t\t<div id=\"wizard-content\" class=\"wizard-content\"><\/div>\n\t<\/div>\n\t<div class=\"span4\" id=\"order-summary\">\n\n\t<\/div>\n<\/div>","order_wizard_nonshippableitems_tmpl":"<%\n\tvar non_shippable_lines = view.getNonShippableLines()\n\t,\tapplication = view.options.application;\n%>\n\n<div data-type=\"nonshippable-lines-warning-container\" class=\"nonshippable-items multishipto-package\">\n\t<h4 class=\"non-shippable-items-subtitle\"> <%= _('This feature does not support the following items:').translate() %> <\/h4>\n\n\t<div class=\"row-fluid control-group items-container\" >\n\n\t\t<% _.each(non_shippable_lines, function(item) { %>\n\t\t\t<%= itemDetailsCondensed({\n\t\t\t\tapplication: application\n\t\t\t,\tline: item\n\t\t\t}) %>\n\t\t<% }) %>\n\n\t<\/div>\n\t<div data-type=\"action-buttons-container\" class=\"buttons-container\">\n\t\t<button type=\"button\" class=\"btn\" data-dismiss=\"modal\" data-type=\"cancel\"><%= _('Cancel').translate() %><\/button>\n\t\t<a href=\"#\" class=\"btn btn-link btn-edit-cart\" data-touchpoint=\"viewcart\" data-type=\"edit-order\"><%= _('Edit Order').translate() %> <\/a>\n\t<\/div>\n<\/div>","wizard_tmpl":"<% if(!view.wizard.getCurrentStep().hideBreadcrumb){ %>\n\t<header class=\"order-wizard-layout-header\">\n\t<%= wizadStepNavigation(view.wizard.stepGroups) %>\n\t<\/header>\n<%}%>\n<div id=\"wizard-content\" class=\"wizard-content\"><\/div>","order_wizard_shipmethod_module_tmpl":"<%\n\tvar is_active = false\n\t,\torder_delivery_method = view.model.get('shipmethod')\n\t,\tshipping_methods = view.model.get('shipmethods');\n%>\n\n<% if (view.getTitle() && !view.options.hide_title) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<form class=\"delivery-options\" action=\"\">\n\t<fieldset>\n\t\t<legend style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"delivery-options-header section-header\">\n\t\t\t<%= _('Delivery options:').translate() %>\n\t\t<\/legend>\n<!--div style=\"margin:0 0 15px 0;padding:10px; background:#fae8da; font-size:0.80em\">\n<b>Holiday Shipping Cutoff Dates<\/b><\/br>\nDecember 14th via FedEx Ground<\/br>\nDecember 19th via USPS First-Class Mail<\/br>\nDecember 21st via FedEx International<\/br>\nDecember 20th via FedEx 3Day Express<\/br>\nDecember 22nd via FedEx Standard Overnight\n<\/div-->\n\t\t<% if (!view.model.get('isEstimating') && !view.wizard.application.getUser().get('addresses').get(view.model.get('shipaddress'))) { %>\n\t\t\t<%= _('Warning: Please enter a valid shipping address first').translate() %>\n\t\t<% } else if (!shipping_methods.length) { %>\n\t\t\t<%= _('Warning: No Shipping Methods are available for this address').translate() %>\n\t\t<% } else { %>\n\t\t\t<% shipping_methods.each(function (shipmethod) { %>\n\t\t\t\t<% is_active = order_delivery_method === shipmethod.get('internalid') %>\n\t\t\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"delivery-option<%= is_active ? ' active' : '' %>\" data-id=\"<%= shipmethod.get('internalid')%>\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"delivery-options\"\n\t\t\t\t\t\tid=\"delivery-options-<%= shipmethod.get('internalid')%>\"\n\t\t\t\t\t\tvalue=\"<%- shipmethod.get('internalid')%>\"\n\t\t\t\t\t\t<%= is_active ? 'checked' : '' %>\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"delivery-option-label\">\n\t\t\t\t\t\t<%= shipmethod.get('name') %>:\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"delivery-option-rate\">\n\t\t\t\t\t\t<%= shipmethod.get('rate_formatted') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/label>\n\t\t\t<% }); %>\n\t\t<% } %>\n\t<\/fieldset>\n<\/form>","login_register_tmpl":"<header class=\"page-header login-header\">\n\t<h3><%= _('Sign In').translate() %><\/h3>\n<\/header>\n\n<div class=\"row login-body\">\n\t<div class=\"span6\" data-placeholder=\"Login\"><\/div>\n\n\t<div class=\"span6\">\n\t\t<% if (view.enableRegister) { %>\n\t\t\t<div class=\"new-customer\">\n\t\t\t\t<h3><%= _('New customer').translate() %><\/h3>\n\n\t\t\t\t<% if (view.enableCheckoutAsGuest) { %>\n\t\t\t\t\t<div class=\"\" data-placeholder=\"CheckoutAsGuest\"><\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"<% if (view.enableCheckoutAsGuest) { %>collapse <% } %>register\" data-placeholder=\"Register\"><\/div>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<\/div>","forgot_password_tmpl":"<header class=\"page-header login-header\">\n\t<h3>\n\t\t<%= _('Sign In').translate() %>\n\t<\/h3>\n<\/header>\n\n<div class=\"row-fluid\">\n\t<div class=\"offset2 span10\">\n\t\t<h3>\n\t\t\t<%= _('Reset Password').translate() %>\n\t\t<\/h3>\n\n\t\t<form class=\"forgot-password-form\">\n\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\">\n\t\t\t\t<%= _('Enter your email below and we\\'ll send you a link to reset your password.').translate() %>\n\t\t\t<\/p>\n\n\t\t\t<fieldset>\n\t\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"control-label\" for=\"email\">\n\t\t\t\t\t\t<%= _('<strong>Email Address<\/strong> <small>(required)<\/small>').translate() %>\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" class=\"input-xlarge\" placeholder=\"<%- _('your@email.com').translate() %>\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-large\">\n\t\t\t\t\t<%=_('Send Email').translate()%>\n\t\t\t\t<\/button>\n\t\t\t<\/fieldset>\n\t\t<\/form>\n\n\t\t<a href=\"\/login-register\" class=\"btn btn-link\" data-target=\".register\" data-type=\"sign-in-now\">\n\t\t\t<%= _('Sign In Now >').translate()%>\n\t\t<\/a>\n\t<\/div>\n<\/div>","order_wizard_msr_packages_module_tmpl":"<%\n\tvar packages = view.getPackages()\n\t,\tapplication = view.wizard.application\n\t,\texpanded_packages = view.expanded_packages\n\t,\taddress_id\n\t,\tis_package_expanded\n\t,\tselected_address\n\t,\titems;\n%>\n\n<div data-type=\"package-condensed-view-container\">\n<% _.each(packages, function (package) { %>\n\t<%\n\t\taddress_id = package.address.id;\n\t\tselected_address = package.address;\n\t\titems = package.lines;\n\t\tis_package_expanded = expanded_packages.indexOf(+selected_address.get('internalid')) >= 0;\n\t%>\n\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\" id=\"accordion<%= address_id %>\">\n\t\t<div class=\"well\" data-action=\"items-expander\" data-address-id=\"<%= selected_address.get('internalid') %>\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<span> <%= _('Shipment: ').translate() %> <span data-type=\"package-condensed-address-title\"> <%= package.address.get('fullname') + \" - \" + package.address.get('addr1') %> <\/span> <span class=\"package-condensed-address-title-items-count\">(<%= items.length %>)<\/span> <\/span>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus<%= is_package_expanded ? ' icon-minus' : '' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div id=\"accordion-body<%= address_id %>\" data-content=\"items-body\" <%= is_package_expanded ? '' : 'style=\"display: none;\"' %>>\n\t\t\t<div class=\"row-fluid\" data-type=\"package\" >\n\t\t\t\t<div data-type=\"package-style\" class=\"clearfix multishipto-package\">\n\t\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t\t<div class=\"row-fluid\" data-type=\"address-container\">\n\t\t\t\t\t\t\t<div class=\"span7\">\n\t\t\t\t\t\t\t<%= address(selected_address,  {\n\t\t\t\t\t\t\t\thideActions: true\n\t\t\t\t\t\t\t,\thideDefaults: true\n\t\t\t\t\t\t\t,\tmanage: 'shipaddress'\n\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span5\">\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group items-container\" data-type=\"accordion\">\n\n\t\t\t\t\t\t\t<% _.each(items, function(line) { %>\n\t\t\t\t\t\t\t\t<%= itemDetailsCondensed({\n\t\t\t\t\t\t\t\t\t\tapplication: application\n\t\t\t\t\t\t\t\t\t,\tline: line\n\t\t\t\t\t\t\t\t\t,\tactionMacro: wizardItemActionEditShiptment\n\t\t\t\t\t\t\t\t\t,\tshowItemsDetails: true\n\t\t\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t<% }) %>\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n<\/div>","wizard_step_tmpl":"<% if (view.getName()) { %>\n\t<header class=\"page-header step-header\">\n\t\t<h2 data-type=\"wizard-step-name-container\" ><%= view.getName() %><\/h2>\n\t<\/header>\n<% } %>\n\n<div data-type=\"alert-placeholder-step\"><\/div>\n\n<% if (!view.hideContinueButton) { %>\n<div class=\"step-navigation-buttons-top form-actions form-actions-top\">\n\t<button class=\"btn btn-primary btn-large btn-block btn-continue\" data-action=\"submit-step\">\n\t\t<%= view.continueButtonLabel %>\n\t<\/button>\n<\/div>\n<% } %>\n\n<div id=\"wizard-step-content\" class=\"wizard-step-content\"><\/div>\n\n<div class=\"step-navigation-buttons form-actions\">\n\t<% if (!view.hideContinueButton) { %>\n\t\t<button class=\"btn btn-primary btn-large btn-continue<%=(view.hideSecondContinueButtonOnPhone)? ' hidden-phone': ''%>\" data-action=\"submit-step\">\n\t\t\t<%= view.continueButtonLabel %>\n\t\t<\/button>\n\t<% } %>\n\t<button class=\"btn btn-large btn-back\" <%= !view.hideBackButton ? '' : 'style=\"display:none;\"' %> data-action=\"previous-step\">\n\t\t<%= _('Back').translate() %>\n\t<\/button>\n<\/div>\n\n<% if (view.bottomMessage) { %>\n\t<br>\n\t<p class=\"help-block stepgroup-bottom-message <%= view.bottomMessageClass %>\">\n\t\t<%= view.bottomMessage %>\n\t<\/p>\n<% } %>\n","order_wizard_paymentmethod_giftcertificates_module_tmpl":"<% if (view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n<p class=\"collapsible collapsed section-header\"  data-toggle=\"collapse\" data-target=\"#gift-certificate-form\">\n\t<a style=\"font-family: Verdana, Geneva, sans-serif;font-size: 18px;\" href=\"#\">\n\t\t<% if (view.giftCertificates && view.giftCertificates.length) { %>\n\t\t\t<%=_('Add other Gift Certificate').translate() %>\n\t\t<% } else { %>\n\t\t\t<%=_('Pay with Gift Certificate').translate() %>\n\t\t<% } %>\n\t\t<i data-type=\"gift-icon-plus\" class=\"icon-plus-sign pull-right\"><\/i>\n\t\t<i data-type=\"gift-icon-minus\" class=\"icon-minus-sign pull-right\"><\/i>\n\t<\/a>\n<\/p>\n<div data-type=\"alert-placeholder-gif-certificate\"><\/div>\n<form id=\"gift-certificate-form\" class=\"collapse gift-certificate-form\">\n\t<fieldset>\n\t\t<div class=\"control-group\">\n\t\t\t<label class=\"strong\">\n\t\t\t\t<%= _('Gift Certificate Number').translate() %>\n\t\t\t<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<input type=\"text\" class=\"input-medium\" name=\"code\">\n\n\t\t\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t\t\t<%= _('Apply').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>\n\n<% if (view.giftCertificates && view.giftCertificates.length) { %>\n<table class=\"table gift-certificates-table\">\n\t<tr>\n\t\t<td>\n\t\t\t<b><%= _('Gift Certicficate number').translate() %><\/b>\n\t\t<\/td>\n\t\t<td class=\"right-aligned\">\n\t\t\t<b><%= _('Amount applied').translate() %><\/b>\n\t\t<\/td>\n\t\t<\/td>\n\t\t<td class=\"right-aligned\">\n\t\t\t<b><%= _('Remaining balance').translate() %><\/b>\n\t\t<\/td>\n\t\t<td>\n\t\t\t&nbsp;\n\t\t<\/td>\n\t<\/tr>\n<%  _.each(view.giftCertificates, function (giftCertificate) { %>\n\t<% var giftcertificate = giftCertificate.get('giftcertificate') %>\n\t<tr data-gc-code=\"<%- giftcertificate.code %>\">\n\t\t<td>\n\t\t\t<%= SC.macros.formatPaymentMethod(giftCertificate) %>\n\t\t<\/td>\n\t\t<td class=\"right-aligned amount-applied\">\n\t\t\t<%= _('$(0)').translate(giftcertificate.amountapplied_formatted) %>\n\t\t<\/td>\n\t\t<td class=\"right-aligned remaining-balance\">\n\t\t\t<%= _('$(0)').translate(giftcertificate.amountremaining_formatted) %>\n\t\t<\/td>\n\t\t<td class=\"right-aligned\">\n\t\t\t<a href=\"#\" data-action=\"remove\" data-id=\"<%- giftcertificate.code %>\">\n\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t<\/a>\n\t\t<\/td>\n\t<\/tr>\n<% }) %>\n<\/table>\n<% } %>","register_tmpl":"<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"register-form-legend\">\n\t<%= _('Create an account and take advantage of faster checkouts and other great benefits.').translate() %>\n<\/p>\n\n<form class=\"register-form\" method=\"POST\">\n\t<%= registerFormFields() %>\n\t\n\t<div class=\"form-actions registration-actions\">\n\t\t<button type=\"submit\" class=\"btn btn-primary btn-large\">\n\t\t\t<%= _('Create Account').translate() %>\n\t\t<\/button>\n\t<\/div>\n<\/form>","accordion_wizard_tmpl":"<div class=\"accordion\">\n\t<% _.each(view.wizard.getStepGroups(), function(step_group) { %>\n\t\t<div class=\"accordion-group\">\n\t\t\t<div class=\"accordion-heading\">\n\t\t\t<% if (step_group.state === 'future') { %>\n\t\t\t\t<a class=\"accordion-toggle muted\" href=\"<%- Backbone.history.fragment %>\">\n\t\t\t\t\t<%= step_group.name %>\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<a class=\"accordion-toggle \" href=\"<%- step_group.url %>\">\n\t\t\t\t\t<%= step_group.name %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<% if (step_group.state === 'present') { %>\n\t\t\t\t<div class=\"accordion-body collapse in\">\n\t\t\t\t\t<div class=\"accordion-inner\">\n\t\t\t\t\t\t<div id=\"wizard-content\" class=\"wizard-content\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% }) %>\n<\/div>","order_wizard_paymentmethod_creditcard_module_tmpl":"<% var view_credit_card = view.creditcard %>\n\n<h3 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"section-header\">\n\t<%= _('Payment information').translate() %>\n<\/h3>\n\n<% if (view.getTitle()) { %>\n\t<h4>\n\t\t<%= view.getTitle() %>\n\t<\/h4>\n<% } %>\n\n<% if (view_credit_card && !view_credit_card.isNew()) { %>\n<div class=\"credit-card-selected\">\n\t<%= creditcard(view_credit_card, {\n\t\tshowSecurityCodeForm: view.requireccsecuritycode\n\t,\tsecurityNumberError: view.isSecurityNumberInvalid && view.securityNumberErrorMessage\n\t,\ticons: view.wizard.application.getConfig('creditCardIcons')\n\t,\tccsecuritycode: view.ccsecuritycode\n\t,\tshowCreditCardHelp: view.wizard.application.getConfig('showCreditCardHelp')\n\t,\tcreditCardHelpTitle: view.wizard.application.getConfig('creditCardHelpTitle')\n\t,\timageCvvAllCards: view.wizard.application.getConfig('imageCvvAllCards')\n\t,\timageCvvAmericanCard: view.wizard.application.getConfig('imageCvvAmericanCard')\n\t,\tcollapseElements: view.wizard.application.getConfig('collapseElements')\n\t,\tavailableCreditcards: view.getAvailableCreditcards()\n\t}) %>\n\t<div class=\"actions\">\n\t\t<a class=\"btn btn-link\" href=\"\/creditcards\/<%= view_credit_card.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t<%= _('Edit Card').translate() %>\n\t\t<\/a>\n\t\t| \n\t\t<a href=\"#\" class=\"btn btn-link\" data-action=\"change-creditcard\">\n\t\t\t<%= _('Change Card').translate() %>\n\t\t<\/a>\n\t<\/div>\n<\/div>\n<% } %>\n\n<% if (view.creditcards.length >= 1 && !view_credit_card) { %>\n\t<div id=\"creditcard-module-list-placeholder\" class=\"creditcard-module-list-placeholder\">\n\t\t<p>\n\t\t\t<a class=\"btn btn-link add-new-credit-card\" href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Add New Credit Card').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\t\t<%\n\t\t\tvar creditcardWrap = function (creditcard) {\n\t\t\t\treturn SC.macros.creditcard(creditcard, {\n\t\t\t\t\tshowSelect: true\n\t\t\t\t,\tshowActions: true\n\t\t\t\t,\tshowDefaults: view.showDefaults\n\t\t\t\t,\tselectMessage: view.selectMessage\n\t\t\t\t,\ticons: view.wizard.application.getConfig('creditCardIcons')\n\t\t\t\t});\n\t\t\t} \n\t\t%>\n\t\t<%= displayInRows(view.creditcards.models, creditcardWrap, view.itemsPerRow || 2) %>\n\t<\/div>\n<% } else if (view.creditcards.length === 0) { %>\n\t<div id=\"creditcard-module-form-placeholder\">\n\t\t<form method=\"POST\">\n\t\t\t<% var date = new Date(); %>\n\t\t\t<%= creditcardForm(view_credit_card, {\n\t\t\t\tapplication: view.wizard.application\n\t\t\t,\tmonths: _.range(1, 13)\n\t\t\t,\tyears: _.range(date.getFullYear(), date.getFullYear() + 25)\n\t\t\t,   currentMonth: date.getMonth() + 1\n\t\t\t,\tshowDefaults: view.showDefaults\n\t\t\t,\tshowSecurityCodeForm: view.requireccsecuritycode\n\t\t\t,\tshowCreditCardHelp: view.wizard.application.getConfig('showCreditCardHelp')\n\t\t\t,\tcreditCardHelpTitle: view.wizard.application.getConfig('creditCardHelpTitle')\n\t\t\t,\timageCvvAllCards: view.wizard.application.getConfig('imageCvvAllCards')\n\t\t\t,\timageCvvAmericanCard: view.wizard.application.getConfig('imageCvvAmericanCard')\n\t\t\t,\tavailableCreditcards: view.getAvailableCreditcards()\n\t\t\t}) %>\n\t\t<\/form>\n\t<\/div>\n<% } %>","order_wizard_msr_addresses_module_tmpl":"<%\n\tvar selected_address = view.address\n\t,\thide_if_valid_addresses = view.options.hide_if_valid_addresses \/\/ When hide address list in a single link (used in OPC)\n\t,\thide_addresses = view.hide_addresses \/\/When specified to hide address in a link, this flag control if the use expand it or not\n\t,\thas_enough_valid_addresses = view.hasEnoughValidAddresses()\n\t,\taddress_book = view.getAddressesToShow();\n%>\n<% if (!view.options.hide_title && view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<div data-type=\"alert-placeholder-module\"><\/div>\n\n<% if (hide_if_valid_addresses && has_enough_valid_addresses && hide_addresses) { %>\n\t<a data-type=\"add-edit-addreses-link\"> <%= _('Add\/Edit Addresses').translate() %> <\/a>\n<% } else if (address_book.length) { %>\n\t<div id=\"address-module-list-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-list-placeholder\">\n\t\t<% if (has_enough_valid_addresses) { %>\n\t\t<p>\n\t\t\t<a class=\"btn btn-link add-new-address\" href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Add New Address').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\t\t<% } %>\n\n\t\t<%\n\t\t\t\/\/ Wrap the address address macro to pass options in\n\t\t\tvar addressWrap = function (address) {\n\t\t\t\treturn SC.macros['address'](address, {\n\t\t\t\t\tshowSelect: false\n\t\t\t\t,\tshowMultiSelect: false\n\t\t\t\t,\tselectMessage: view.selectMessage\n\t\t\t\t,\thideDefaults: true\n\t\t\t\t,\tshowError: true\n\t\t\t\t});\n\t\t\t}\n\t\t%>\n\n\t\t<%= displayInRows(address_book.models, addressWrap, view.itemsPerRow || 2) %>\n\n\t\t<% if (!has_enough_valid_addresses) { %>\n\t\t\t<p class=\"new-address-title\"><%= _('New Address').translate() %><\/p>\n\t\t\t<div id=\"address-module-form-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-form-placeholder\">\n\t\t\t\t<form method=\"POST\">\n\t\t\t\t<%= addressFrom(selected_address, {\n\t\t\t\t\t\tcountries: view.wizard.application.getConfig('siteSettings.countries')\n\t\t\t\t\t,\tmanage: view.manage\n\t\t\t\t\t,\thideDefaults: true\n\t\t\t\t}) %>\n\t\t\t\t<\/form>\n\n\t\t\t\t<% if (view.showSaveButton) { %>\n\t\t\t\t\t<div class=\"form-actions\">\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary multishipto-save-address-btn\" data-action=\"submit\">\n\t\t\t\t\t\t\t<%= _('Save Address').translate() %>\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t<\/div>\n\t\t<% } %>\n\n\t<\/div>\n<% } else { %>\n\t<p class=\"new-address-title\"><%= _('New Address').translate() %><\/p>\n\t<div id=\"address-module-form-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-form-placeholder\">\n\n\t\t<form method=\"POST\">\n\t\t<%= addressFrom(selected_address, {\n\t\t\t\tcountries: view.wizard.application.getConfig('siteSettings.countries')\n\t\t\t,\tmanage: view.manage\n\t\t\t,\thideDefaults: true\n\t\t}) %>\n\t\t<\/form>\n\n\t\t<% if (view.showSaveButton) { %>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary multishipto-save-address-btn\" data-action=\"submit\">\n\t\t\t\t\t<%= _('Save Address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\n\t<\/div>\n<% } %>","order_wizard_paymentmethod_invoice_module_tmpl":"<div class=\"payment-method-invoice\">\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span4\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<%= _('Terms').translate() %>\n\t\t\t<\/p>\n\t\t\t<p class=\"terms-name\">\n\t\t\t\t<%= view.terms.name %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t\t<div class=\"span8\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<%= _('Available Balance').translate() %>\n\t\t\t<\/p>\n\t\t\t<p class=\"available-balance\">\n\t\t\t\t<%= view.wizard.options.profile.get('balance_available_formatted') %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"row-fluid control-group purchase-order-number-container\">\n\t\t<label for=\"purchase-order-number\" class=\"control-label\">\n\t\t\t<%= _('Purchase Order Number (Optional)').translate() %>\n\t\t<\/label>\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tname=\"purchase-order-number\"\n\t\t\tid=\"purchase-order-number\"\n\t\t\tclass=\"input-medium purchase-order-number\"\n\t\t\tvalue=\"<%= view.terms.purchasenumber || '' %>\"\n\t\t>\n\t<\/div>\n\t<% if (SC.ENVIRONMENT.siteSettings.checkout.requiretermsandconditions === 'T') { %>\n\t<p>\n\t\t<%= _('I agree to pay with my current Invoice <a data-toggle=\"show-terms\" href=\"#\">Terms & Conditions<\/a>').translate() %>\n\t<\/p>\n\t<% } %>\n<\/div>","order_wizard_cart_summary_tmpl":"<%\n\tvar current_position = view.wizard.getStepPosition()\n\t,\tcart = view.wizard.model\n\t,\tapplication = view.wizard.application\n\t,\tcurrent_symbol = application.getConfig('siteSettings.shopperCurrency.symbol','') \/\/Automation purpose\n\t,\tsummary = cart.get('summary')\n\t,\tpromocode = cart.get('promocode')\n\t,\tmembercode = cart.get('promocode')\t\n\t,\tismultishipto = cart.get('ismultishipto')\n\t,\titem_count = _.reduce(cart.get('lines').pluck('quantity'), function (memo, quantity) { return memo + (parseFloat(quantity) || 1); }, 0)\n\t,\tis_promocode_valid = promocode && promocode.isvalid\n\t,\tis_member_valid = membercode && membercode.isvalid\t\t\n\t,\tgiftcertificates = cart.get('paymentmethods').where({type: 'giftcertificate'}) || [];\n%>\n<div class=\"checkout-cart-summary\">\n\t<header class=\"checkout-cart-summary-header\">\n\t\t<% if (current_position.toLast > 0) { %>\n\t\t\t<div class=\"edit-cart-label\">\n\t\t\t\t<a href=\"#\" class=\"btn btn-link btn-edit-cart\" data-touchpoint=\"viewcart\">\n\t\t\t\t\t<%= _('Edit Order').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<% } %>\t\n\t\t<h3 style=\"font-size: 29.25px;\" class=\"checkout-cart-summary-title\">\n\t\t\t<%= _('Order Summary').translate() %>\n\t\t<\/h3>\n\t<\/header>\n\t\n\t<div class=\"checkout-cart-summary-body\">\n\t\t<% if (!view.getHideItems()) { %>\n\t\t\t<ul class=\"cart-summary-items checkout-summary-items\">\n\t\t\t<%\n\t\t\t\tvar thumbnail = ''\n\t\t\t\t,\titem = null;\n\t\t\t%>\n\t\t\t<% cart.get('lines').each(function (line) { %>\n\t\t\t\t<%\n\t\t\t\t\titem = line.get('item');\n\t\t\t\t\tthumbnail = item.get('_thumbnail');\n\t\t\t\t%>\n\t\t\t\t<li class=\"cart-summary-item-cell checkout-summary-item-cell\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span3 thumbnail checkout-summary-item-thumbnail\">\n\t\t\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span9 cart-summary-item-details checkout-summary-item-details\">\n\t\t\t\t\t\t\t<div style=\"font-family:Verdana;\"  class=\"pull-right cart-summary-item-total\">\n\t\t\t\t\t\t\t\t<%= line.get('total_formatted') %>\n\t\t\t\t\t\t\t\t<% if (line.get('amount') > line.get('total')) {%>\n\t\t\t\t\t\t\t\t\t<small class=\"muted crossed cart-summary-item-amount\">\n\t\t\t\t\t\t\t\t\t\t<%=  line.get('amount_formatted') %>\n\t\t\t\t\t\t\t\t\t<\/small>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<a href=\"<%= item.get('custitem_catalog_itemurl')%>\">\n\t\t\t\t\t\t\t\t\t<strong style=\"font-family: Georiga;font-weight: bold;font-size: 16px;\" class=\"cart-summary-item-name\"><%= item.get('displayname') %><\/strong>\n\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;font-size: 12px;\" class=\"cart-summary-item-sku\"><%= item.get('storedescription') %><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div style=\"font-family: Verdana, Geneva, sans-serif;font-size: 12px;\" class=\"cart-summary-item-quantity\">\n\t\t\t\t\t\t\t\t<%= _('Qty: $(0)').translate(line.get('quantity')) %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"cart-summary-item-price\">\n\t\t\t\t\t\t\t\t<%= SC.macros.showItemPrice(line.getPrice()) %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<%= \/* Renders the selected options for the item *\/\n\t\t\t\t\t\t\t\titem.renderAllOptionSelected() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<% } %>\n\t\t<div class=\"cart-summary-subtotal\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<span style=\"font-weight: bold;font-family: Verdana, Geneva, sans-serif;\" class=\"pull-right cart-summary-subtotal-formatted\" >\n\t\t\t\t\t<%= summary.subtotal_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<span style=\"font-weight: bold;font-family: Verdana, Geneva, sans-serif;\" class=\"cart-summary-subtotal-label\">\n\t\t\t\t\t<%= _('Subtotal (<span data-type=\"cart-summary-subtotal-count\">$(0)<\/span> $(1))').translate(item_count, item_count === 1 ? _('item').translate() : _('items').translate()) %>\n\t\t\t\t<\/span>\n\t\t\t<\/p>\n\t\t<\/div>\n\n\t\t<% if (is_promocode_valid || summary.giftcertapplied) { %>\n\n\t\t\t<% if (is_promocode_valid) { %>\n\t\t\t\t<div class=\"cart-summary-promocode-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong class=\"lead-price pull-right\"><%= summary.discountrate_formatted %><\/strong>\n\t\t\t\t\t\t<% if (promocode.code == \"SIMEMBER\" ) { %><%= _('Member Discount').translate() %><% } else { %><%= _('Promo Code Discount').translate() %><% } %> <a href=\"#\" data-action=\"remove-promocode\"><i class=\"icon-remove\"><\/i><\/a>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.discounttotal) { %>\n\t\t\t\t<div class=\"cart-summary-discount-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span class=\"pull-right\">\n\t\t\t\t\t\t\t<%= summary.discounttotal_formatted %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<%= _('Discount Total').translate() %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.giftcertapplied) { %>\n\t\t\t\t<div class=\"cart-summary-giftcertificate-applied\">\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Gift Certificates Applied ($(0))').translate(giftcertificates.length) %>\n\t\t\t\t<\/p>\n\t\t\t\t<% _.each(giftcertificates, function (giftCertificate) { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span class=\"pull-right\">\n\t\t\t\t\t\t\t<%= _('-$(0)').translate(giftCertificate.get('giftcertificate').amountapplied_formatted) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span title=\"<%- giftCertificate.get('giftcertificate').code %>\">\n\t\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(giftCertificate) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/p>\n\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\n\t\t<div class=\"cart-summary-shipping-cost-applied\">\n\t\t\t<% if (summary.handlingcost) { %>\n                <p>\n                \t<span class=\"pull-right cart-summary-handling-cost-formatted\">\n                \t\t<%= _.formatCurrency(summary.handlingcost + summary.shippingcost)%>\n                \t<\/span>\n                        <%= _('Shipping').translate() %> and <%= _('Handling').translate() %>\n                <\/p>\n            <% } else {%>\n            \t<p>\n                    <span class=\"pull-right cart-summary-shipping-cost-formatted\">\n                        <%= summary.shippingcost_formatted %>\n                    <\/span>\n                        <%= _('Shipping').translate() %>\n                <\/p>\n            <%} %>\n            <!--<p>\n                    <span class=\"pull-right cart-summary-tax-total-formatted\">\n                        <%= summary.taxtotal_formatted %>\n                    <\/span>\n                        <%= _('Tax').translate() %>\n                <\/p>-->\n\t\t<\/div>\n\n\t\t<div class=\"cart-summary-total\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<span style=\"font-weight: bold;font-family: Verdana, Geneva, sans-serif;\" class=\"pull-right cart-summary-total-formatted\" >\n\t\t\t\t\t<%= summary.total_formatted %>\n\t\t\t\t<\/span>\n\t\t\t\t<%= _('Total').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\n\t\t<% if (current_position.toLast === 1) { %>\n\t\t\t<div>\n\t\t\t\t<% if (SC.ENVIRONMENT.siteSettings.checkout.requiretermsandconditions === 'T') { %>\n\t\t\t\t\t<p><%= _('By placing your order, you are agreeing to our <a data-type=\"term-condition-link-summary\" data-toggle=\"show-terms-summary\" href=\"#\">Terms & Conditions<\/a>').translate() %><\/p><br\/>\n\t\t\t\t<% } %>\n\t\t\t\t<button class=\"btn btn-primary btn-large btn-place-order hidden-phone hidden-tablet\" data-action=\"submit-step\">\n\t\t\t\t\t<%= view.getContinueButtonLabel() %>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n\n\t<% if (!is_promocode_valid && current_position.toLast > 0) { %>\n\t\t<footer class=\"checkout-cart-summary-footer accordion\">\n\t\t\t<div class=\"collapsible\">\n\t\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"collapser collapsed\" data-target=\"#promo-code-container\" data-toggle=\"collapse\">\n\t\t\t\t\t<i class=\"icon-minus-sign pull-right\"><\/i>\n\t\t\t\t\t<i class=\"icon-plus-sign pull-right\"><\/i>\n\t\t\t\t\t<%= _('Have a Promo Code?').translate() %>\n\t\t\t\t\t<i class=\"icon-question-sign\"\n\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\ttitle=\"<%= _('<b>Promo Code<\/b><br>To redeem a promo code, simply enter your information and we will apply the offer to your purchase during checkout.').translate() %>\">\n\t\t\t\t\t<\/i>\n\t\t\t\t<\/p>\n\t\t\t\t<div id=\"promo-code-container\" class=\"collapse promo-code-container\">\n\t\t\t\t\t<% if(!ismultishipto){ %>\n\t\t\t\t\t\t<%= SC.macros.promocodeForm(promocode) %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<div class=\"promocode-unsupported-summary-warning\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<%= _('Shipping to multiple addresses does not support Promo Codes.').translate() %>\n\t\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<%= _('If you want to apply one, please <a href=\"#\" data-action=\"change-status-multishipto-sidebar\" data-type=\"multishipto\">ship to a single address<\/a>.').translate() %>\n\t\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/footer>\n\t<% } %>\n\t\n\t<% if (!is_member_valid && current_position.toLast > 0) { %>\n\t<footer class=\"checkout-cart-summary-footer accordion\">\n\t\t<div class=\"collapsible\">\n\t\t\t<div class=\"collapsible well-section cart-summary-member-section\" style=\"padding:0px;\">\n\t\t\t\t<p style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"collapser collapsed\" data-target=\"#member-code-container\" data-toggle=\"collapse\">\t\t\t\t\t\n\t\t\t\t\t<i class=\"icon-minus-sign pull-right\"><\/i>\n\t\t\t\t\t<i class=\"icon-plus-sign pull-right\"><\/i>\n\t\t\t\t\t<%= _('Are you an SI Associate?').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>SI Associates<\/b><br>National Associate Members receive a 10% discount.  Enter your member code below.').translate() %>\" class=\"icon-question-sign\"><\/i>\t\t\t\t\t\n\t\t\t\t<\/p>\n\t\t\t\t<div id=\"member-code-container\" class=\"collapse member-code-container\" style=\"padding: 0 18px;\">\n\t\t\t\t\t<%= SC.macros.membercodeForm( membercode ) %>\n                <p class=\"small\">\n                    If you'd like to become an SI Associate, please <a href=\"http:\/\/www.smithsonian.com\/folkways\/join\" target=\"_blank\">click here<\/a> to join and get your member number to save 10%.\n                <\/p>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n                 <\/div>\n\t<\/footer>\n\t<% } %>\t\t\n<\/div>","order_wizard_showpayments_module_tmpl":"<div class=\"row-fluid\">\n\t<div class=\"span6 wizard-showpayments-billing-address\">\n\t\t<h4 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"section-header\">\n\t\t\t<%=_('Billing Address').translate()%>\n\t\t<\/h4>\n\t\t<%\n\t\t\tvar billing_address = view.model.get('billaddress') ?\n\t\t\t\t\tview.profile.get('addresses').get(view.model.get('billaddress')) :\n\t\t\t\t\tnull;\n\t\t%>\n\t\t<% if (billing_address) { %>\n\t\t\t<%= address(billing_address, {\n\t\t\t\thideActions: true\n\t\t\t,\thideDefaults: true\n\t\t\t,\tmanage: 'billaddress'\n\t\t\t}) %>\n\t\t<% } else { %>\n\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_billing %>?force=true\">\n\t\t\t\t<%= _('Please select a valid billing address').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\t\t<% if (billing_address && view.options.edit_url_address) { %>\n\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_address %>?force=true\">\n\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\t<\/div>\n\t<%\n\t\tvar giftcertificates = view.getGiftCertificates()\n\t\t,\tpaymentmethods = view.getPaymentmethods();\n\t%>\n\t<div class=\"span6 wizard-showpayments-billing-payment-method\">\n\t\t<% if (giftcertificates.length || paymentmethods.length || !view.wizard.hidePayment()) {%>\n\t\t\t<h4 style=\"font-family: Verdana, Geneva, sans-serif;\" class=\"section-header\">\n\t\t\t\t<%= _('Payment Type').translate() %>\n\t\t\t<\/h4>\n\t\t\t<div class=\"payment-methods-summary\">\n\t\t\t\t<% _.each(paymentmethods, function (paymentmethod) { %>\n\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) %>\n\t\t\t\t<% }); %>\n\t\t\t\t<% if (giftcertificates.length) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<b><%= _('Gift Certificates').translate() %><\/b><br>\n\t\t\t\t\t<% _.each(giftcertificates, function (paymentmethod) { %>\n\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod) %>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (view.profile.get('isGuest') === 'T') { %>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h5><%- view.profile.get('email') %><\/h5>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<% if (view.options.edit_url_billing) { %>\n\t\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_billing %>?force=true\">\n\t\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t<% } %>\n\t<\/div>\n<\/div>"};