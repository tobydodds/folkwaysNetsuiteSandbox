SC.templates = {"macros":["<% registerMacro('addressFrom', function (address, options) { %>\n<% \n\tvar site_settings = SC.ENVIRONMENT.siteSettings\n\t,\tmanage = options.manage ? options.manage + '-' : ''\n\t,\tcountries = options.countries\n\t,\tquantity_countries = _.size(countries)\n\t,\tselected_country = address.get('country') || site_settings.defaultshipcountry\n\t,\tzip_not_required = selected_country && site_settings.countries[selected_country] && site_settings.countries[selected_country].isziprequired === 'F'\n\t,\tapplication = this.view.options.application || this.view.options.wizard.application;\n\n\tif (quantity_countries === 1)\n\t{\n\t\tselected_country = _.keys(countries)[0];\n\t}\n%>\n\n\n\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t\n\t<div class=\"control-group\" data-input=\"fullname\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>fullname\">\n\t\t\t<%= _('Full Name').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>fullname\" name=\"fullname\" value=\"<%- address.get('fullname')%>\">\n\t\t<\/div>\n\t<\/div>\n\t<% if (site_settings.registration.displaycompanyfield === 'T') { %>\n\t<div class=\"control-group\" data-input=\"company\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>company\">\n\t\t\t<%= _('Company').translate() %>\n\t\t\t<% if (site_settings.registration.companyfieldmandatory === 'T') { %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t\t<% } %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-xlarge\"\n\t\t\t\tid=\"<%= manage %>company\"\n\t\t\t\tname=\"company\"\n\t\t\t\tvalue=\"<%- address.get('company') %>\"\n\t\t\t\t<% if (site_settings.registration.companyfieldmandatory !== 'T') { %>\n\t\t\t\t\tplaceholder=\"<%= _('(optional)').translate() %>\"\n\t\t\t\t<% } %>\n\t\t\t>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n\t<div class=\"control-group\" data-input=\"addr1\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>addr1\">\n\t\t\t<%= _('Address').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr1\" name=\"addr1\" value=\"<%- address.get('addr1') %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 1234 Main Street').translate() %>\n\t\t<\/span>\n\t<\/div>\n\n\t<div class=\"control-group control-group-big\" data-input=\"addr2\">\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr2\" name=\"addr2\" value=\"<%- address.get('addr2') %>\" placeholder=\"<%= _('(optional)').translate() %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: Apt. 3 or Suite #1516').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"city\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>city\">\n\t\t\t<%= _('City').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>city\" name=\"city\" value=\"<%- address.get('city') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group<%= quantity_countries <= 1 ? ' hide' : '' %>\" data-input=\"country\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>country\">\n\t\t\t<%= _('Country').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<%= SC.macros.countriesDropdown(countries, selected_country, manage) %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"state\">\n\t\t<%= SC.macros.statesDropdown({\n\t\t\tcountries: options.countries\n\t\t,\tselectedCountry: selected_country\n\t\t,\tselectedState: address.get('state')\n\t\t,\tmanage: manage\n\t\t}) %>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"zip\" <%= zip_not_required ? 'style=\"display: none;\"': '' %>>\n\t\t<label class=\"control-label\" for=\"<%= manage %>zip\">\n\t\t\t<%= _('Zip Code').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-medium\" id=\"<%= manage %>zip\" name=\"zip\" value=\"<%- address.get('zip') %>\" data-type=\"zip\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 94117').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\"  data-input=\"phone\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>phone\">\n\t\t\t<%= _('Phone Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"tel\" class=\"input-xlarge\" id=\"<%= manage %>phone\" name=\"phone\" value=\"<%- address.get('phone') %>\" data-type=\"phone\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 555-123-1234').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"isresidential\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>isresidential\" value=\"T\" data-unchecked-value=\"F\" name=\"isresidential\" <%= address.get('isresidential') === 'T' ? 'checked' : '' %>>\n\t\t\t\t<%= _('This is a Residential Address').translate() %>\n\t\t\t\t<a href=\"#\" rel=\"tooltip\" data-toggle=\"tooltip\" title=\"<%= _('Indicating that this is a residential address will help us determine the best delivery method for your items.').translate() %>\">\n\t\t\t\t\t<i class=\"icon-question-sign\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultbilling\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultbilling\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultbilling\" <%= address.get('defaultbilling') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary billing address').translate() : _('Make this my default billing address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultshipping\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultshipping\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultshipping\" <%= address.get('defaultshipping') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary shipping address').translate() : _('Make this my default shipping address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n<\/fieldset>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('address', function (address, options) {\n\toptions = options || {};\n\n\tvar label = address.get('label')\n\t,\tcompany = (SC.ENVIRONMENT.siteSettings.registration.displaycompanyfield === 'T') ? address.get('company') : null\n\t,\tfullname = address.get('fullname')\n\t,\tcountries = SC.ENVIRONMENT.siteSettings.countries\n\t,\tcountry_object = countries[address.get('country')]\n\t,\tcountry = (country_object)? country_object.name : address.get('country')\n\t,\tstate_object = (country_object && country_object.states)? _.findWhere(countries[address.get('country')].states, {code: address.get('state')}): null\n\t,\tstate = (state_object)? state_object.name: address.get('state');\n%>\n\n<div class=\"address\" >\n\t<div class=\"main-container\" data-id=\"<%= address.get('internalid') %>\" <%= options.manage ? 'data-manage=' + options.manage : ''%>>\n\n\t\t\t<address >\n\n\t\t\t\t<% if (options.showMultiSelect) { %>\n\t\t\t\t\t<div class=\"multiselect-address-selector\" >\n\t\t\t\t\t\t<input type=\"checkbox\" <%= address.get('check') ? 'checked': '' %> data-id=\"<%- address.get('internalid') %>\" data-action=\"multi-select-address\" \/>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"<%= options.showMultiSelect ? 'multiselect-address-container': '' %>\">\n\t\t\t\t\t<span class=\"address-line address-title summary-header\">\n\t\t\t\t\t\t<%= label || company || fullname %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (label && company) { %>\n\t\t\t\t\t\t<span class=\"address-line address-company\">\n\t\t\t\t\t\t\t<%= company %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } else if (label ? !company : company ) { %>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"address-line address-addr1\">\n\t\t\t\t\t\t<%= address.get('addr1') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (address.get('addr2')) { %>\n\t\t\t\t\t\t<span class=\"address-line address-addr2\">\n\t\t\t\t\t\t\t<%= address.get('addr2') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"address-line\">\n\t\t\t\t\t\t<span class=\"address-city\">\n\t\t\t\t\t\t\t<%= address.get('city') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% if (address.get('state')) { %>\n\t\t\t\t\t\t\t<span class=\"address-state\">\n\t\t\t\t\t\t\t\t<%= state %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<span class=\"address-zip\">\n\t\t\t\t\t\t\t<%= address.get('zip') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"address-line address-country\">\n\t\t\t\t\t\t<%= country %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"address-line address-phone\">\n\t\t\t\t\t\t<%= address.get('phone') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/address>\n\n\t\t\t<% if (!options.hideDefaults) { %>\n\t\t\t\t<% if (address.get('defaultshipping') === 'T') { %>\n\t\t\t\t<p class=\"default-shipping\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Shipping Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (address.get('defaultbilling') === 'T') { %>\n\t\t\t\t<p class=\"default-billing\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Billing Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showSelect) { %>\n\t\t\t\t<button class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= options.selectMessage || _('Select this Address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<% } %>\n\n\t\t\t<% if (!options.hideActions) { %>\n\t\t\t<p class=\"actions\">\n\t\t\t\t<a class=\"btn btn-link edit-address\" href=\"\/addressbook\/<%- address.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t<\/a>\n\n\t\t\t\t<a class=\"btn btn-link remove-address\" data-action=\"remove\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showError && address.get('isvalid') !== 'T') { %>\n\t\t\t\t<div data-type=\"address-error-container\">\n\t\t\t\t\t<div class=\"address-error-message\"><%= _('Invalid address, please provide the following:').translate() %><\/div>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar invalid_attributes = address.getInvalidAttributes()\n\t\t\t\t\t%>\n\t\t\t\t\t<% _.each(invalid_attributes, function (attribute) { %>\n\t\t\t\t\t\t<div class=\"address-error-message\"> <%= '- ' + attribute %> <\/div>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcard', function (creditcard, options) { %>\n<%\n\toptions = options  || {};\n\tvar payment_name = creditcard.get('paymentmethod').name\n\t,\texpiration_month = creditcard.get('expmonth')\n\t,\ticons = options.icons;\n%>\n<article class=\"creditcard\" data-id=\"<%= creditcard.get('internalid') %>\">\n\t<% if (options.showSecurityCodeForm) { %>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span6\">\n\t<% } %>\n\t\t\t<h4 class=\"summary-header\">\n\t\t\t<% if (payment_name in icons) { %>\n\t\t\t\t<img class=\"credit-card-icon\" src=\"<%- icons[payment_name] %>\" alt=\"<%- payment_name %>\">\n\t\t\t<% } else { %>\n\t\t\t\t<%= payment_name %>\n\t\t\t<% } %> &ndash;\n\t\t\t<span class=\"ccnumber\"><%= _('Ending in $(0)').translate(creditcard.get('ccnumber').replace(\/\\*\/g, '')) %><\/span>\n\t\t\t<\/h4>\n\t\t\t<p>\n\t\t\t\t<span class=\"ccname\"><%= creditcard.get('ccname') %><\/span> <br>\n\t\t\t\t<span class=\"expdate\"><%= _('Expires').translate() + ' ' + (expiration_month < 10 ? '0' : '') + expiration_month + '\/' + creditcard.get('expyear') %><\/span>\n\t\t\t<\/p>\n\t\t\t<% if (options.showDefaults) { %>\n\t\t\t<p class=\"default-credit-card\">\n\t\t\t\t<% if (creditcard.get('ccdefault') === 'T') { %>\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Credit Card').translate() %>\n\t\t\t\t<% } %>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<\/div>\n\t\t<div class=\"span6\">\n\t\t\t<%= SC.macros.creditcardSecurityNumberForm({\n\t\t\t\terror: options.securityNumberError\n            ,   value: creditcard.get('ccsecuritycode')\n\t\t\t,\tshowCreditCardHelp: options.showCreditCardHelp\n\t\t\t,\tcreditCardHelpTitle: options.creditCardHelpTitle\n\t\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t\t,\tcollapseElements: options.collapseElements\n\t\t\t,\tavailableCreditcards: options.availableCreditcards\n\t\t\t}) %>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\n\t<% if (options.showSelect) { %>\n\t\t<button class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- creditcard.get('internalid')%>\">\n\t\t\t<%= options.selectMessage %>\n\t\t<\/button>\n\t<% } %>\n\n\t<% if (options.showActions) { %>\n\t\t<p class=\"actions\">\n\t\t\t<a class=\"btn btn-link ccedit-credit-card\" href=\"\/creditcards\/<%= creditcard.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Edit Card').translate() %>\n\t\t\t<\/a>\n\t\t\t<button class=\"btn btn-link ccremove-credit-card\" data-action=\"remove\" data-id=\"<%- creditcard.get('internalid') %>\">\n\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t<\/button>\n\t\t<\/p>\n\t<% } %>\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardSecurityNumberForm', function (options) { %>\n<% options = options || {}; %>\n<div class=\"credit-card-security-number\">\n\t<div class=\"control-group <%= options.error ? 'error' : '' %>\">\n\t\t<label class=\"control-label\" for=\"ccsecuritycode\">\n\t\t\t<%= _('Security Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-small\"\n\t\t\t\tid=\"ccsecuritycode\"\n\t\t\t\tname=\"ccsecuritycode\"\n\t\t\t\tvalue=\"<%- options.value %>\"\n\t\t\t\tmaxlength=\"4\"\n\t\t\t> <% if (options.showCreditCardHelp) { %>\n\t\t\t\t<%\n\t\t\t\tvar popover_content = SC.macros.creditcardSecurityNumberPopover({\n\t\t\t\t\tavailableCreditcards: options.availableCreditcards\n\t\t\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t\t\t});\n\t\t\t\t%>\n\t\t\t\t<a href=\"#\"><i class=\"icon-question-sign\" data-toggle=\"popover\" data-placement=\"bottom\" data-title=\"<%= options.creditCardHelpTitle %>\" data-content='<%= popover_content %>'><\/i><\/a>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.error) { %>\n\t\t\t\t<p class=\"help-block\">\n\t\t\t\t\t<%= options.error.errorMessage %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardForm', function (creditcard, options) { %>\n<% var application = options.application; %>\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<%\n\t\t\t\tvar icons = application.getConfig('creditCardIcons')\n\t\t\t\t,\tselected_payment_method = creditcard.get('paymentmethod')\n\t\t\t\t,\tcreditcards = _.where(application.getConfig('siteSettings.paymentmethods'), {creditcard: 'T', ispaypal: 'F'});\n\t\t\t%>\n\t\t\t<input type=\"hidden\" id=\"paymentmethod\" name=\"paymentmethod\" value=\"<%- selected_payment_method && selected_payment_method.internalid %>\"\/>\n\t\t\t<% _.each(creditcards, function (paymentmethod) { %>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"credit-card-icon <%- creditcard.isNew() || selected_payment_method && paymentmethod.internalid === selected_payment_method.internalid ? '' : 'hidden' %>\"\n\t\t\t\t\tsrc=\"<%- icons[paymentmethod.name] %>\"\n\t\t\t\t\tdata-value=\"<%- paymentmethod.internalid %>\"\n\t\t\t\t\talt=\"<%- paymentmethod.name %>\"\n\t\t\t\t\tdata-image=\"creditcard-icon\"\n\t\t\t\t\/>\n\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"ccnumber\">\n\t\t\t<%= _('Credit Card Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccnumber\" name=\"ccnumber\" value=\"<%- creditcard.get('ccnumber') %>\" <%= !creditcard.isNew() ? 'disabled':'' %> >\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"expmonth\">\n\t\t\t<%= _('Expiration Date').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<select class=\"input-mini\" id=\"expmonth\" name=\"expmonth\">\t\t\t\t\t\n\t\t\t\t<% var currentMonth = creditcard.get('expmonth') ? creditcard.get('expmonth') : options.currentMonth  %>\n\t\t\t\t<% _.each(options.months, function (month, index) { %>\n\t\t\t\t\t<option value=\"<%- month %>\" <%= month == currentMonth ? 'selected' : '' %>>\n\t\t\t\t\t\t<%= month %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t\t<select class=\"input-small\" id=\"expyear\" name=\"expyear\">\n\t\t\t\t<% _.each(options.years, function (year, index) { %>\n\t\t\t\t\t<option value=\"<%- year %>\" <%= year == creditcard.get('expyear') ? 'selected' : '' %> <%= options.expyear == year ? 'disabled' : '' %>>\n\t\t\t\t\t\t<%= year %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<%= SC.macros.creditcardSecurityNumberForm({\n\t\t\tshowCreditCardHelp: options.showCreditCardHelp\n\t\t,\tcreditCardHelpTitle: options.creditCardHelpTitle\n\t\t,\timageCvvAllCards: options.imageCvvAllCards\n\t\t,\timageCvvAmericanCard: options.imageCvvAmericanCard\n\t\t,\tavailableCreditcards: options.availableCreditcards\n\t\t}) %>\n\t<% } %>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"ccname\">\n\t\t\t<%= _('Name on Card').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccname\" name=\"ccname\" maxlength=\"26\" value=\"<%- creditcard.get('ccname') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (application.getUser().get('isGuest') !== 'T' && options.showDefaults) { %>\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid=\"ccdefault\"\n\t\t\t\t\tvalue=\"T\"\n\t\t\t\t\tdata-unchecked-value=\"F\"\n\t\t\t\t\tname=\"ccdefault\"\n\t\t\t\t\t<%= creditcard.get('ccdefault') === 'T' ? 'checked' : '' %>\n\t\t\t\t>\n\t\t\t\t<%= _('Make this my default credit card').translate() %>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n<\/fieldset>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('message', function (message, type, closable) { %>\n<div class=\"alert <%= type ? 'alert-' + type : '' %>\">\n\t<% if (closable) { %>\n\t\t<button class=\"close\" data-dismiss=\"alert\">&times;<\/button>\n\t<% } %>\n\t<% if (_.isObject(message)) { %>\n\t\t<ul>\n\t\t<% _.each(message, function(item, index) { %>\n\t\t\t<li><%= item %><\/li>\n\t\t<% }) %>\n\t\t<ul>\n\t<% } else { %>\n\t\t<%= message %>\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('modal', function (page_header) { %>\n<div id=\"modal\" class=\"modal fade\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div id=\"modal-header\" class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n\t\t\t\t\t&times;\n\t\t\t\t<\/button>\n\t\t\t\t<h3 class=\"modal-title\">\n\t\t\t\t\t<%= page_header || '&nbsp;' %>\n\t\t\t\t<\/h3>\n\t\t\t<\/div>\n\t\t\t<div id=\"modal-body\" class=\"modal-body\"><\/div>\n\t\t<\/div><!-- \/.modal-content -->\n\t<\/div><!-- \/.modal-dialog -->\n<\/div><!-- \/.modal -->\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('formatPaymentMethod', function (payment, creditCardIcons, billingInfo) {\n\t%><span class=\"payment-method-formatted payment-method-formatted-<%=payment.get('type')%>\"><%\n\tswitch (payment.get('type')){\n\t\tcase 'creditcard':\n\t\t\tvar creditcard = payment.get('creditcard');\n\t\t\tif (creditcard && creditcard.ccnumber) {\n\t\t\t\tvar ccpname = creditcard.paymentmethod ? creditcard.paymentmethod.name : ''; %>\n\t\t\t\t<b class=\"credit-card-icon\">\n\t\t\t\t\t<% if(creditCardIcons && ccpname in creditCardIcons){ %>\n\t\t\t\t\t\t<img class=\"credit-card-icon\" src=\"<%= creditCardIcons[ccpname] %>\" alt=\"<%= ccpname %>\">\n\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t<%= ccpname %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span>&nbsp;-&nbsp;<\/span>\n\t\t\t\t\t<%= _('Ending in $(0)').translate(creditcard.ccnumber.replace(\/\\*\/g, '')) %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<b class=\"credit-card-name\">\n\t\t\t\t\t<%= creditcard.ccname %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<%= _('Expires <span class=\"credit-card-expiredate\">$(0)<\/span>').translate(creditcard.ccexpiredate)%>\n\t\t\t<% } else { %>\n\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t<%}\n\t\t\tbreak;\n\t\tcase 'giftcertificate':\n\t\t\tvar code_length = payment.get('giftcertificate').code.length; %>\n\t\t\t<%= _('Ending in: $(0)').translate(payment.get('giftcertificate').code.substring(code_length - 4, code_length)) %>\n\t\t\t<% break;\n\t\tcase 'invoice': %>\n\t\t\t<b class=\"payment-method-formatted-invoice-terms\">\n\t\t\t\t<%= _('Invoice: Terms $(0)').translate(payment.get('paymentterms').name) %>\n\t\t\t<\/b>\n\t\t\t<% if(payment.get('purchasenumber')) { %>\n\t\t\t\t<br\/>\n\t\t\t\t<span class=\"payment-method-formatted-invoice-purchasenumber\">\n\t\t\t\t\t<%= _('Purchase Number: $(0)').translate(payment.get('purchasenumber')) %>\n\t\t\t\t<\/span>\n\t\t\t<% }\n\t\t\tbreak;\n\t\tcase 'paypal': %>\n\t\t\t<b>\n\t\t\t\t<%= _('Payment via Paypal').translate() %>\n\t\t\t<\/b>\n\t\t\t<%\n\t\t\tbreak;\n\t\tdefault: %>\n\t\t<%= payment.get('type') || _('Not specified').translate() %><%\n\t}\n\t%><\/span><%\n\tif (payment.get('ccstreet') && billingInfo)\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Street: <span class=\"CardStreet\">$(0)<\/span>').translate(payment.get('ccstreet')) %>\n\t<% }\n\tif (payment.get('cczipcode') && billingInfo)\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Zip Code: <span class=\"CardZipCode\">$(0)<\/span>').translate(payment.get('cczipcode')) %>\n\t<% }\n}) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('breadcrumb', function(pages) { %>\n<% pages = _.isUndefined(pages) || _.isArray(pages) ? pages : [pages]; %>\n<div id=\"banner-breadcrumb-top\" class=\"content-banner banner-breadcrumb-top\"><\/div>\n<ul class=\"breadcrumb hidden-phone\" itemprop=\"breadcrumb\">\n<% _.each(pages, function(link, index) { %>\n\t<% if (link) { %>\n\t\t<% if (index < pages.length - 1) { %>\n\t\t\t<li>\n\t\t\t\t<a <%= _.objectToAtrributes(link) %>><%= link.text %><\/a>\n\t\t\t\t<span class=\"divider\">\/<\/span>\n\t\t\t<\/li>\n\t\t<% } else { %>\n\t\t\t<li class=\"active\">\n\t\t\t\t<%= link.text %>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n<\/ul>\n<div id=\"banner-breadcrumb-bottom\" class=\"content-banner banner-breadcrumb-bottom\"><\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('pagination', function (configuration) { %>\n<%\n\t\/\/ Pagination Macro\n\t\/\/ ================\n\t\/\/ Displays a pagination component based on the configuration object.\n\t\/\/ The configuration object understands the following keys: \n\t\/\/ * currentPage: (Required) The page you are currently showing.\n\t\/\/ * totalPages: (Required) The total amount of pages you can show (This is not items, you need to do the math of items\/items_per_page outside this macro).\n\t\/\/ * pager: (Required) a function that recives a page number as parameter and returns the url that the mentioned page number should point to.\n\t\/\/ * showPageList: a boolean to show or hide the pages list portion of this component, defauts to true.\n\t\/\/ * pagesToShow: The amount of pages you want to be displayed in the pages list, defaults to 4.\n\t\/\/ * showPageIndicator: a boolean to show or hide a note on which page you have selected and how many pages are there, defaults to false\n\t\/\/ * extraClass: a string that will be added to the class attribute to the component\n\n\n\n\tvar current_page = parseInt(configuration.currentPage, 10)\n\t,\ttotal_pages = parseInt(configuration.totalPages, 10)\n\t,\tpager = configuration.pager\n\t,\tpages_to_show = parseInt(configuration.pagesToShow, 10) || 4\n\t,\trange_start = 1\n\t,\trange_end = total_pages + 1\n\t,\tpadding_left = (pages_to_show % 2 === 0) ? (pages_to_show \/ 2) - 1 : parseInt(pages_to_show \/ 2, 10) \/\/ ;)\n\t,\tshow_page_list = (_.isBoolean(configuration.showPageList)) ? configuration.showPageList : true\n\t,\tshow_page_indicator = configuration.showPageIndicator || false; \n\n\tif (show_page_list && pages_to_show < total_pages)\n\t{\n\t\t\/\/ if we are getting closer to the end we need to compute from the end to the begingn \n\t\tif (pages_to_show - padding_left > total_pages - current_page)\n\t\t{\n\t\t\trange_start = total_pages + 1 - pages_to_show;\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\trange_start = current_page - padding_left < 1 ? 1 : current_page - padding_left;\n\t\t\trange_end = range_start + pages_to_show > total_pages ? total_pages : range_start + pages_to_show;\n\t\t}\n\t}\n\n\t\n\tvar pages = _.range(range_start, range_end);\n%>\n\n<% if (total_pages >= current_page && current_page > 0 && pages.length > 1) { %>\n<div class=\"pagination <%= configuration.extraClass || '' %>\">\n\n\t<% if (show_page_indicator) { %>\n\t\t<ul class=\"pagination-page-indicator\">\n\t\t\t<li>\n\t\t\t\t<span class=\"\">\n\t\t\t\t\t<%= _('$(0) of $(1)').translate(current_page, total_pages) %>\n\t\t\t\t<\/span>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t\t\n\t<% } %>\n\n\t<ul class=\"pagination-links <% if (!show_page_list) { %>pagination-links-compact<% } %>\">\n\t<% if (current_page !== 1) { %>\n\t\t<li>\n\t\t\t<a rel=\"prev\" href=\"<%- _(pager(current_page-1)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t\n\t<% if (show_page_list) { %>\n\t\t<% if (range_start > 1) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\n\t\t<% _.each(pages, function (page) { %>\n\t\t\t<% if (current_page !== page) { %>\n\t\t\t\t<li><a href=\"<%- pager(page) %>\"><%= page %><\/a><\/li>\n\t\t\t<% } else { %>\n\t\t\t\t<li class=\"active\"><a href=\"<%- _(pager(page)).fixUrl() %>\"><%= page %><\/a><\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\n\t\t<% if (range_end < total_pages) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\t<% } %>\n\n\t<% if (current_page !== total_pages){ %>\n\t\t<li>\n\t\t\t<a rel=\"next\" href=\"<%- _(pager(current_page+1)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t<\/ul>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('countriesDropdown', function (countries, selected_country, manage, cssclass) { %>\n<select class=\"<%= cssclass || 'input-xlarge' %>\" id=\"<%= manage ? manage : ''%>country\" name=\"country\" data-type=\"country\">\n\t<option value=\"\">\n\t\t<%= _('-- Select --').translate() %>\n\t<\/option>\n\t<% _.each(_.values(countries), function (country, index) { %>\n\t\t<option value=\"<%- country.code %>\" <%= country.code === selected_country ? 'selected' : '' %>>\n\t\t\t<%= country.name %>\n\t\t<\/option>\n\t<% }) %>\n<\/select>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayInRows', function(items, macro, items_per_row) { %>\n\t<% items_per_row = parseInt(items_per_row, 10) || 3 %>\n\t<% var span = 12 \/ items_per_row %>\n\t<div class=\"row-fluid\">\n\t<% _.each(items, function (item, index){ %>\n\t\t<% if ((index % items_per_row) == 0 && index > 0){ %>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid\">\n\t\t<% } %>\n\t\t<div class=\"span<%= span %>\">\n\t\t\t<% if (_.isFunction(macro)){ %>\n\t\t\t\t<%= macro(item) %>\n\t\t\t<% }else{ %>\n\t\t\t\t<%= item %>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% }) %>\n\t<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('tree', function(model, self, level, root) { %>\n\n<% var expandable = model.children && model.children.length > 0; %>\n<li data-id='<%=model.id%>' data-label='<%=model.id%>' <%= root ? 'data-type=\"tree\" data-toggle=\"tree\"' : ''%> data-permissions=\"<%= model.permission %>\" data-permissions-operator=\"<%= model.permissionOperator %>\">\n\n\t<% if(expandable) { %>\n\t<div class=\"expandable\">\n\t\t<a <%= model.url ? 'href=\/' + model.url : '' %>><%= model.name %><\/a>\n\t\t<i class=\"pull-right icon-menu-up\"><\/i>\n\t<\/div>\n\t<% level++;\t%>\n\t<ul class=\"nav nav-tabs nav-stacked tree-level-<%=level%>\" data-type=\"sub-menu\">\n\t<% var ordered_children = _(model.children).sortBy(function(item){return item.index + item.name; }); \n\t\t_.each(ordered_children, function (tree_item, index){ %>\n\t\t<%=self(tree_item, self, level) %>\n\t<%})%>\n\t<\/ul>\n\t<% } else { %>\n\t<a <%= model.url ? 'href=\/' + model.url : '' %>><%= model.name %><\/a>\n\t<% } %>\n<\/li>\n\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('relatedItem', function (item, application) { \n\tvar thumbnail = item.get('_thumbnail'); \n%>\n<div class=\"item-cell item-cell-grid\">\n\t<a class=\"thumbnail\" href=\"<%= item.get('_url') %>\">\n\t\t<img src=\"<%= application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/a>\n\t<h5>\n\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t<%= item.get('_name') %>\n\t\t<\/a>\n\t<\/h5>\n\t<a class=\"btn btn-small btn-primary btn-expanded\" href=\"<%= item.get('_url') %>\">\n\t\t<%= _('See More').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('statesDropdown', function (options) { %>\n<%\n\tvar country = options.selectedCountry && options.countries[options.selectedCountry]\n\t,\tstates = country && country.states;\n%>\n<% if (country && states) { %>\n\t<label class=\"control-label is-required\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State').translate() %>\n\t\t<small><%= _('(required)').translate() %><\/small>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<select class=\"<%= options.cssclass || 'input-xlarge' %>\" id=\"<%= options.manage ? options.manage : ''%>state\" name=\"state\" data-type=\"state\">\n\t\t\t<option value=\"\">\n\t\t\t\t<%= _('-- Select --').translate() %>\n\t\t\t<\/option>\n\t\t\t<% _.each(states, function (state) { %>\n\t\t\t<option value=\"<%- state.code %>\" <%= state.code === options.selectedState ? 'selected' : '' %>>\n\t\t\t\t<%= state.name %>\n\t\t\t<\/option>\n\t\t\t<% }) %>\n\t\t<\/select>\n\t<\/div>\n<% } else { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State\/Province\/Region').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tid=\"<%= options.manage ? options.manage : ''%>state\"\n\t\t\tname=\"state\"\n\t\t\tclass=\"<%= options.cssclass || 'input-xlarge' %>\"\n\t\t\tvalue=\"<%- options.selectedState %>\"\n\t\t\tdata-type=\"state\"\n\t\t\tplaceholder=\"<%- _('(optional)').translate() %>\"\n\t\t>\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homePayment', function(view) { %>\n\t<article class=\"well home-payment\">\n\t\t<div class=\"well-header\">\n\t\t\t<h4><%= _('Payment').translate() %><\/h4>\n\t\t<\/div>\n\t\t\n\t\t<% if (!view.defaultCreditCard) { %>\t\t\n\t\t<div class=\"well-body\">\n\t\t\t<p><%= _('We have no default credit card on file for this account.').translate() %><\/p>\t\t\t\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\"><%= _('Add a Credit Card').translate() %><\/a>\n\t\t<\/div>\n\n\t\t<% } else { %>\n\t\t<div class=\"well-body\">\n\t\t\t<%= SC.macros.creditcard(view.defaultCreditCard, {icons: view.application.getConfig('creditCardIcons')}) %>\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a class=\"btn-link\" href=\"\/creditcards\/<%= view.defaultCreditCard.get('internalid') %>\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } %>\n\t<\/article>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homeProfile', function(view) { %>\n<%\n\tvar model = view.model\n\t,\tcompany = model.get('companyname');\n%>\n<article class=\"well home-profile\">\n\t<div class=\"well-header\"><h4><%= _('Profile').translate() %><\/h4><\/div>\n\t<div class=\"well-body\">\n\t\t<p><%= model.get('firstname') || '' %> <%= model.get('middlename') || '' %> <%= model.get('lastname') || '' %><\/p>\n\t\t<% if (company) { %>\n\t\t\t<p><%= company %><\/p>\n\t\t<% } %>\n\t\t<p><%= model.get('email') %><\/p>\n\t\t<p><%= _.formatPhone(model.get('phone') || '', view.application.getConfig('siteSettings.phoneformat')) %><\/p>\n\t<\/div>\n\t<div class=\"well-footer\">\n\t\t<a class=\"btn-link editProfileInformation\" href=\"\/profileinformation\"><%= _('Edit').translate() %><\/a>\n\t<\/div>\n<\/article>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<%\nregisterMacro('homeBanner', function (config_banners)\n{\n\tvar banners = _.isArray( config_banners ) ? config_banners : [ config_banners ]\n\t,\trandom_banner = banners[ Math.floor( Math.random() * banners.length ) ];\n\n\tif ( random_banner ) {\n\t\tif ( random_banner.linkUrl ) {\n%>\n\t<a href=\"<%= random_banner.linkUrl %>\" target=\"<%= random_banner.linkTarget %>\"><img src=\"<%= random_banner.imageSource %>\"><\/a>\n<%\t\t} else { %>\n\t<img src=\"<%= random_banner.imageSource %>\">\n<%\t\t} %>\n\t<hr>\n<%\n\t}\n})\n%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homeShipping', function(view) { %>\n\t<article class=\"well home-shipping\">\n\t\t<div class=\"well-header\">\n\t\t\t<h4><%= _('Shipping').translate() %><\/h4>\n\t\t<\/div>\n\t\t<% if (!view.defaultShippingAddress) { %>\n\t\t<div class=\"well-body\">\n\t\t\t<p><%= _('We have no default address on file for this account.').translate() %><\/p>\t\t\t\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\"><%= _('Create New Address').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } else { %>\n\t\t<div class=\"well-body\">\n\t\t\t<%= SC.macros.address(view.defaultShippingAddress, {\n\t\t\t\t\thideDefaults: true\n\t\t\t\t,\thideActions: true\n\t\t\t}) %>\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a class=\"btn-link\" href=\"\/addressbook\/<%= view.defaultShippingAddress.get('internalid') %>\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } %>\n\t<\/article>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetails', function (line) { %>\n<%\n\tvar addArtistName = \"\";\n\tif ( line.item.get(\"custitem_artistname\") != \"Various Artists\" ) \n\t{\n\t\taddArtistName = \" - \" + line.item.get(\"custitem_artistname\");\n\t}\n\n\tvar item = line.item\n\t,\tname = SC.macros.itemLinkName({item: item, showLinkeable: true})\n\t,\turl = item.get('_url');\n\n\tline.format_options = _.map(line.options, function (option)\n\t{\n\t\treturn option.id + '=' + option.value;\n\t}).join(',');\n%>\n\t<div class=\"row-item item-list-navigable product-details\" data-item=\"<%= item.get('internalid') || ''%>\">\n\t\t<div class=\"item\">\n\t\t\t<div class=\"thumbnail item-image\">\n\t\t\t\t<% var item_image = line.application.resizeImage(item.get('_thumbnail').url, 'thumbnail') %>\n\t\t \t\t<% if (line.type !== 'Discount') { %>\n\t\t\t\t\t<img src=\"<%= item_image %>\" class=\"accordion-image product-image\" alt=\"<%= item.get('_thumbnail').altimagetext %>\" data-toggle=\"false\">\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"info\">\n\t\t\t\t<div class=\"details\">\n\t\t\t\t\t<p class=\"item-name\"><%= name %><span class=\"artist-name\"><%=addArtistName%><\/span><\/p>\n\t\t\t\t\t<p class=\"item-price text-highlight\"><%= line.price %><\/p>\n\t\t\t\t\t<p>\n\t\t\t\t\t<% if (line.type === 'Discount') { %>\n\t\t\t\t\t\t<%= _('Discount').translate() %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= _('<span class=\"text-light\">SKU<\/span>: #<span class=\"item-sku\">$(0)<\/span>').translate(item.get('_sku')) %>\n\t\t\t\t\t\t<p><%= _('Format:').translate() %> <%= line.item.get('storedescription2') %><\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% if (line.options && line.options.length) { %>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<%= SC.macros.showItemOptions(line.options) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<% if (line.trandate) { %>\n\t\t\t\t\t\t<p class=\"text-light\"><%= _('Last purchased on $(0)').translate(line.trandate)%><\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<!-- line.reorder indicate if the item is purchasabel, This property accepts 3 values, true when the items is purchasable, false when is our of stock, and undefined that means the items is not display in store -->\n\t\t\t\t\t<% if (!_.isBoolean(line.reorder) && line.type !== 'Discount') {  %>\n\t\t\t\t\t\t<p class=\"alert alert-warning\"><%= _('This item is no longer available').translate() %><\/p>\n\t\t\t\t\t<% } else if (!item.get('_isInStock') && item.get('_showOutOfStockMessage')) { %>\n\t\t\t\t\t\t<p class=\"text-light\"><%= SC.macros.itemDetailsStock(item.getStockInfo()) %><\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"summary\">\n\t\t\t\t\t<% \tif (line.type !== 'Discount') {\n\n\t\t\t\t\t\t\tif(line.partial_quantity && line.partial_quantity > 0 && line.partial_quantity != line.quantity){ %>\n\t\t\t\t\t\t\t\t<p><%= _('<span class=\"text-light\">Quantity<\/span>: <span class=\"item-quantity\">$(0) of $(1)<\/span>').translate(line.partial_quantity || 0, line.quantity || 0) %><\/p>\n\t\t\t\t\t\t\t<% }\n\t\t\t\t\t\t\telse{ %>\n\t\t\t\t\t\t\t\t<p><%= _('<span class=\"text-light\">Quantity<\/span>: <span class=\"item-quantity\">$(0)<\/span>').translate(line.quantity || 0) %><\/p>\n\t\t\t\t\t\t\t<% }\n\t\t\t\t\t\t} %>\n\n\t\t\t\t\t<% if (line.amount) { %>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span class=\"text-light\"><%= line.amount_label ? line.amount_label : _('Amount').translate() %>: <\/span>\n\t\t\t\t\t\t\t<% if (line.discount) { %>\n\t\t\t\t\t\t\t\t<span class=\"line-through text-light non-discounted-amount\">\n\t\t\t\t\t\t\t\t\t<%= line.amount ? _.formatCurrency(line.amount) : '&nbsp;' %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t<span class=\"item-amount\">\n\t\t\t\t\t\t\t\t\t<%= line.amount ?  _.formatCurrency(line.total) : '&nbsp;' %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<span class=\"item-amount\">\n\t\t\t\t\t\t\t\t\t<%= line.amount ? _.formatCurrency(line.amount) : '&nbsp;' %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"actions control-group\">\n\t\t\t<% if (line.reorder && !line.is_return_authorization) { %>\n\t\t\t\t<% if (item.get(\"itemtype\") != 'GiftCert') { %>\n\t\t\t\t\t<button class=\"btn btn-link-box btn-link pull-right\" data-re-order-item-link=\"<%= line.id %>\" data-item-id=\"<%= item.get('_id') %>\" data-item-quantity=\"<%= line.quantity %>\" data-partial-quantity=\"<%= line.partial_quantity %>\" data-parent-id=\"<%= item.get('parent_internalid') %>\" data-item-options=\"<%= line.format_options %>\">\n\t\t\t\t\t\t<%= line.quantity > 1 ? _('Reorder these Items').translate() : _('Reorder this Item').translate() %>\n\t\t\t\t\t<\/button>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a data-giftcard-item-link=\"<%= item.get('_url') %>\" data-giftcard-item-name=\"<%= item.get('_sku') %>\" data-parent-id=\"<%= item.get('parent_internalid') %>\" data-item-options=\"<%= line.format_options %>\" href=\"#\"><\/a>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"clearfix\"><\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('transactionsNavigation', function ( page ) { %>\n<form action=\"#\" class=\"form-inline\">\n\t<label for=\"transaction_navigation\"><%= _('View').translate() %><\/label>\n\t<select name=\"transaction_navigation\" id=\"transaction_navigation\" class=\"input-medium\">\n\t\t<option value=\"#ordershistory\" <%= page === 'ordershistory' ? 'selected' : '' %>><%= _('All Orders').translate() %><\/option>\n\t\t<option value=\"#receiptshistory\" <%= page === 'reciptshistory' ? 'selected' : '' %>><%= _('All Receipts').translate() %><\/option>\n\t<\/select>\n<\/form>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<%\nregisterMacro('showItemOptions', function (options)\n{\n\t_.each(options, function (option)\n\t{\n\t\tvar option_value = option.displayvalue || option.value;\n\t\t\n\t\tif (option_value)\n\t\t{\n%>\n\t\t<p item-option=\"<%= option.id %>\">\n\t\t\t<span class=\"text-light item-option\"><%= _(option.name).translate() %><\/span>: <span class=\"item-value\"><%= option_value %><\/span>\n\t\t<\/p>\n<%\t\t}\n\t})\n})\n%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showingCurrent', function( configuration ) { %>\n\t<%\n\t\tvar total_items = configuration.total_items\n\t\t,\titems_per_page = configuration.items_per_page\n\t\t,\ttotal_pages = configuration.total_pages\n\t\t,\tcurrent_page = configuration.current_page\n\t\t,\torder_id = configuration.order_id\n\t\t,\torder_number = configuration.order_number\n\t\t, \torder_text = '';\n\n\t\tif (order_id)\n\t\t{\n\t\t\torder_text = ' ' + _('for <a href=\"\/ordershistory\/view\/$(0)\">  Order Number: #$(1)<\/a>').translate(order_id,order_number) ;\n\t\t}\n\t%>\n\t<% if (current_page == 1) { %>\n\t\t<% if (total_items <= items_per_page) { %>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing 1 - $(0) of $(1)').translate(total_items, total_items) + order_text %><\/p>\t\t\n\t\t\t<\/div>\n\t\t\n\t\t<% } else { %>\n\t\t\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing 1 - $(0) of $(1)').translate(items_per_page, total_items) + order_text %><\/p>\t\t\n\t\t\t<\/div>\n\t\t<% } %>\n\t<% } else { %>\n\t\t\n\t\t<%\n\t\t\tvar first_item = ((current_page - 1) * items_per_page) + 1;\t\t\t\n\t\t%>\n\t\t<% if (total_pages == current_page) { %>\n\t\t\t<%\n\t\t\t\tvar items_in_page = total_items - (items_per_page * (current_page - 1))\n\t\t\t\t,\tlast_item = first_item + items_in_page - 1;\n\t\t\t%>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing $(0) - $(1) of $(2)').translate(first_item, last_item, total_items) + order_text %><\/p>\n\t\t\t<\/div>\n\t\t<% } else { %>\n\t\n\t\t\t<%\n\t\t\t\tvar last_item = first_item + items_per_page - 1;\n\t\t\t%>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing $(0) - $(1) of $(2)').translate(first_item, last_item, total_items) + order_text %><\/p>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('trackingNumbers', function (options) { %>\n\t<%\n\t\tvar tracking_numbers = options.trackingnumbers\n\t\t,\tshow_content_on_empty = options.showContentOnEmpty\n\t\t,\tcontent_class = options.contentClass\n\t\t,\tcollapse_elements = options.collapseElements\n\t\t,\ttracking_name_service = _.isFunction(options.trackingNameService) ?\n\t\t\t\t\toptions.trackingNameService :\n\t\t\t\t\tfunction () { return _('Other').translate(); }\n\t\t,\ttracking_url_service = _.isFunction(options.trackingURLService) ?\n\t\t\t\t\toptions.trackingURLService :\n\t\t\t\t\tfunction () { return '#'; };\n\t%>\n\n\t<% if (!tracking_numbers.length) { %>\n\t\t<% if (show_content_on_empty) { %>\n\t\t\t<span class=\"<%= content_class %>\">\n\t\t\t\t<%= _('Not Available').translate() %>\n\t\t\t<\/span>\n\t\t<% } %>\n\t<% } else if (tracking_numbers.length === 1) { %>\n\t\t<%= tracking_name_service(tracking_numbers[0]) %>: <a target=\"_blank\" href=\"<%= tracking_url_service(tracking_numbers[0]) %>\"><%= tracking_numbers[0] %><\/a>\n\t<% } else { %>\n\t\t<div class=\"row-fluid item-container\" data-type=\"accordion\">\n\t\t\t<div data-action=\"dropdown-expander\">\n\t\t\t\t<div>\n\t\t\t\t\t<span class=\"btn-link-box touchable items-drop-down look-link\">\n\t\t\t\t\t\t<%= _('$(0) packages to track').translate(tracking_numbers.length) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<a href=\"#\"><i class=\"<%= collapse_elements ? 'icon-chevron-down' : 'icon-chevron-down icon-chevron-up' %>\"><\/i><\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t<ul>\n\t\t\t\t<% _.each(tracking_numbers, function (number, index) { %>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" class=\"btn-link-box\" href=\"<%= tracking_url_service(number) %>\"><%= number %><\/a>\n\t\t\t\t\t\t<%= tracking_name_service(number) ? ('('+tracking_name_service(number)+')') : '' %>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% }) %>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsReasonsSelector', function (options) { %>\n\t<%\n\t\tvar is_active = options.isActive\n\t\t,\treasons = options.reasons\n\t\t,\tselected_reason = options.selectedReason\n\t\t,\ttext_reason = options.textReason\n\t\t,\tactive_lines_length = options.active_lines_length;\n\t%>\n\t<% if (is_active) { %>\n\t\t<label class=\"text-light contol-label\" for=\"reason\">\n\t\t\t<%= _('Reason for return').translate() %> <small><%= _('(required)').translate() %><\/small>\n\t\t<\/label>\n\t\t<% if (reasons.length) { %>\n\t\t\t<select name=\"reason\" id=\"reason\" class=\"actions-return-authorization\" data-toggle=\"false\">\n\t\t\t\t<option value=\"\"><%= _('Select a reason').translate() %><\/option>\n\t\t\t\t<% _.each(reasons, function (reason) { %>\n\t\t\t\t\t<option value=\"<%- reason %>\" <%= reason === selected_reason ? 'selected' : '' %>><%- reason %><\/option>\n\t\t\t\t<% }) %>\n\t\t\t\t<option value=\"other\" <%= selected_reason === 'other' ? 'selected' : '' %>><%= _('Other').translate() %><\/option>\n\t\t\t<\/select>\n\n\t\t\t<% if (selected_reason === 'other') { %>\n\t\t\t\t<input type=\"text\" name=\"reason-text\" id=\"\" value=\"<%- text_reason %>\" data-toggle=\"false\" class=\"actions-return-authorization\">\n\t\t\t<% } %>\n\n\t\t\t<% if (active_lines_length && 1 < active_lines_length) { %>\n\t\t\t\t<a href=\"#\" class=\"btn btn-link apply-reason\" data-action=\"apply-reason\" data-toggle=\"false\"><%= _('Apply to all').translate() %><\/a>\n\t\t\t<% } %>\n\n\t\t<% } else { %>\n\t\t\t<input type=\"text\" name=\"reason-text\" id=\"\" value=\"<%- text_reason %>\" data-toggle=\"false\">\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsEditQuantity', function (options) { %>\n\t<%\n\t\tvar is_active = options.isActive\n\t\t,\treturn_quantity = options.returnQuantity\n\t\t,\tquantity = options.lineQuantity;\n\t%>\n\n\t<% if (is_active) { %>\n\t\t<p class=\"text-light\"><%= _('Quantity to return:').translate() %><\/p>\n\t\t<input class=\"input-small\" type=\"number\" name=\"quantity\" data-toggle=\"false\" id=\"\" value=\"<%= return_quantity || quantity %>\" min=\"1\" max=\"<%= quantity %>\"> <%= _('of $(0)').translate(quantity) %>\n\t\t<p><small class=\"text-light\"><%= _('Edit quantity to return').translate() %><\/small><\/p>\n\t<% } else { %>\n\t\t<p>\n\t\t\t<span class=\"text-light\"><%= _('Quantity to return:').translate() %><\/span> <br>\n\t\t\t<b><%= _('$(0) of $(0)').translate(quantity) %><\/b>\n\t\t<\/p>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsAddToCartReOrder', function (options) {\n\tvar item = options.line.get('item')\n %>\n\t<div class=\"add-to-cart-button-container\">\n\t\t<button class=\"btn btn-primary pull-right add-to-cart-btn\" <%= item.get('_isPurchasable') ? '': 'disabled' %> ><%= _('Add to Cart').translate() %><\/button>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsReturnQuantity', function (options) { %>\n<%\n\tvar item_id = options.item.get('_id')\n\t,\tline_id = options.lineId\n\t,\titem = options.item\n\t,\titem_quantity = options.itemQuantity || 1\n\t,\tparent_internalid = options.parentInternalId\n\t,\tformat_options = _.map(options.formatOptions, function ( option )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn option.id +'='+ option.value;\n\t\t\t\t\t\t\t}).join(',');\n%>\n\t<% if (item.get('_isPurchasable')) { %>\n\t\t<input type=\"hidden\" name=\"item_id\" data-item-id=\"<%= item_id %>\" data-parent-id=\"<%= parent_internalid %>\" data-item-options=\"<%= format_options %>\">\n\t\t<label class=\"text-light\"><%= _('Quantity:').translate() %><\/label>\n\t\t<input type=\"number\" name=\"item_quantity\" id=\"\" data-toggle=\"quantity\" data-line-id=\"<%- line_id %>\" class=\"input-mini\" value=\"<%= item_quantity %>\" min=\"1\" max=\"999\">\n\t<% } else { %>\n\t\t<%= SC.macros.itemDetailsStock(item.getStockInfo()) %>\n\t<% }%>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionDefault', function (option, value, model) { %>\n<div class=\"cart-option\" data-cart-option-id=\"<%= option.cartOptionId %>\" data-item-option-id=\"<%= option.itemOptionId %>\">\n\t<span class=\"option-label text-light\"><%= option.label || option.name.replace(':', '') %><\/span>: <span class=\"option-value\"><%- value.label %><\/span>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionColor', function (option, value, model) { %>\n<div>\n\t<%= option.label || option.name.replace(':', '') %>: \n\t<% var color = option.colors && (option.colors[value.label] || option.colors.defaultColor); %>\n\t<span \n\t\t<% if (!_.isObject(color)) { %>\n\t\t\tstyle=\"background: <%= color %>\"\n\t\t<% } %>\n\t\tclass=\"cart-color-tile\">\n\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t<img \n\t\t\t\t\tsrc=\"<%- color.src %>\" \n\t\t\t\t\talt=\"<%- value.label %>\"\n\t\t\t\t\twidth=\"<%- color.width || '' %>\" \n\t\t\t\t\theight=\"<%- color.height || '' %>\">\n\t\t\t<% } %>\t\n\t<\/span> <%= value.label %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLine', function (options) { %>\n\n\t<%\n\tvar application = options.application\n\t,\tlines = options.lines\n\t,\tlines_length = lines.length\n\t,\twell_header = options.wellHeader\n\t,\textra_data = options.extra_data\n\t,\tcolumns = options.columns || []\n\t,\tcolumns_body = options.columnsBody || []\n\t,\tatributes = options.atributes\n\t,\tcomment = options.comment || null\n\t,\tcollapse_elements = options.collapse_elements;\n\t%>\n\n\t<div class=\"row-fluid control-group item-container\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<span class=\"items-drop-down\"><%= well_header %><\/span>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t<div class=\"row-fluid nav-tabs nav-tabs-heading hidden-phone\">\n\t\t\t\t<% _.each(columns, function(row) { %>\n\t\t\t\t\t<%= row.addStart %>\n\t\t\t\t\t\t<div class=\"<%= row.className %>\"><%= row.content %><\/div>\n\t\t\t\t\t<%= row.addEnd %>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\n\t\t\t<% lines.each(function (line, index) { %>\n\t\t\t\t<div class=\"row-fluid nav-tabs cart-item\" data-item=\"<%= line.get('internalid') || line.get('item_id') %>\">\n\t\t\t\t\t<% _.each(columns_body, function(row) { %>\n\t\t\t\t\t\t<%= row.addStart %>\n\t\t\t\t\t\t\t<div class=\"<%= row.className %>\">\n\t\t\t\t\t\t\t\t<%= _.isFunction(row.content) ? row.content(line) : row.content %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<%= row.addEnd %>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\n\t\t\t<% if (extra_data) { %>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"offset5 span4 text-right popover-content strong hidden-phone\"><%= extra_data.label_subtotal_formatted %><\/div>\n\t\t\t\t<div class=\"span3 text-right popover-content strong\"><span class=\"visible-phone\"><%= _('Items Subtotal').translate() %>: <\/span> <span class=\"item-subtotal\"><%= extra_data.subtotal_formatted %><\/span><\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (comment) { %>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span8 margin-top-20\">\n\t\t\t\t\t<p><%= _('Comments:').translate() %><\/p>\n\t\t\t\t\t<blockquote><%- comment %><\/blockquote>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionTile', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles size-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') + ' ' + (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else if (is_available) { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryStringButMatrixOptions(), option.url, item.internalid) %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t\t<%= item.label %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionDropdown', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/label>\n\t<select name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium\" data-toggle=\"select-option\">\n\t<% _.each(option.values, function (item) { %>\n\t\t<% if (item.internalid) { %>\n\t\t\t<% \n\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t%>\n\t\t\t<option\n\t\t\t\tclass=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\"\n\t\t\t\tvalue=\"<%= item.internalid %>\"\n\t\t\t\t<%= is_active ? 'selected' : '' %>\n\t\t\t\tdata-active=\"<%= is_active %>\"\n\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t<\/option>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/select>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsStock', function (stock_info) { %>\n\t<% if (!stock_info.isInStock && stock_info.showOutOfStockMessage) { %>\n\t\t<span class=\"label label-important stock-status out-of-stock\">\n\t\t\t<%= stock_info.outOfStockMessage %>\n\t\t<\/span>\n\t<% } else if (stock_info.showInStockMessage) { %>\n\t\t<span class=\"label label-success stock-status in-stock\">\n\t\t\t<%= stock_info.inStockMessage %>\n\t\t<\/span>\n\t<% } %>\n\t<% if (stock_info.showStockDescription && stock_info.stockDescription) { %>\n\t\t<span class=\"stock-description text-light <%= stock_info.stockDescriptionClass %>\">\n\t\t\t<%= stock_info.stockDescription %>\n\t\t<\/span>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLineImage', function (options) { %>\n\n\t<% var item = options.item; %>\n\t\n\t<img src=\"<%= options.application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\">\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemLinkName', function (options) { %>\n\t<%\n\t\tvar\titem = options.item\n\t\t,\turl = item.get('custitem_catalog_itemurl')\n\t\t,\tname = item.get('displayname')\n\t\t,\tshow_item_name_as_link = options.showLinkeable\n\t\t,\tproduct_not_linkeable = options.hideLink\n\t\t,\tlink_attributes;\n\n\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED' && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t,\tdata: {\n\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t,\thashtag: '#' + url\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (url && show_item_name_as_link)\n\t\t{\n\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\thref: url\n\t\t\t});\n\t\t}\n\n\t\tif (link_attributes && item.get('_isPurchasable') && !product_not_linkeable)\n\t\t{\n\t\t\tname = '<a ' + link_attributes + ' data-type=\"navigate-product\" >' + name + '<\/a>';\n\t\t}\n\t%>\n\t<%= name %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionRadio', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<div id=\"<%= htmlid %>\" class=\"<%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<label class=\"radio <%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\tname=\"<%= htmlid %>\" \n\t\t\t\t\t\tvalue=\"<%= item.internalid %>\" \n\t\t\t\t\t\t<%= is_active ? 'checked' : '' %> \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/label>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsEditable', function (options) { %>\n<%\n\tvar line = options.line\n\t,\tapplication = options.application\n\t,\tis_selectable = options.isSelectable\n\t,\titem = line.get('item')\n\t,\titem_options = line.get('options') || line.get('options_object')\n\t,\tis_active = line.get('checked')\n\t,\tquantity = line.get('quantity')\n\t,\tinternalid = line.get('internalid')\n\t,\tthumbnail =  item.get('_thumbnail')\n\t,\tline_extra_class = options.extraLineClass || ''\n\t,\titem_price = line.get('rate_formatted') || item.get('_price_formatted')\n\t,\tdeatils_macro = _.isFunction(options.detailsMacro) ? options.detailsMacro : function(){}\n\t,\textra_item_details_macro = _.isFunction(options.extraItemDetailsMacro) ? options.extraItemDetailsMacro : function (){}\n\t,\tactions_macro = _.isFunction(options.actionsMacro) ? options.actionsMacro : function(){}\n\t,\titem_link = SC.macros.itemLinkName({item: item, showLinkeable: options.showItemLinkeable || true});\n%>\n<div class=\"product-details item-list-navigable <%= line_extra_class %> <%= is_selectable ? 'selectable' : '' %> <%= is_active ? 'active' : '' %>\" data-type=\"return-line\" data-item=\"<%= item.get('_id')%>\" data-id=\"<%- internalid %>\" style=\"cursor: pointer;\">\n\t<div class=\"input-checkbox\">\n\t\t<% if (is_selectable) { %>\n\t\t\t<input type=\"checkbox\" name=\"\" value=\"<%= internalid %>\" <%= is_active ? 'checked' : '' %>>\n\t\t<% } %>\n\t<\/div>\n\t<div class=\"item\">\n\t\t<div class=\"thumbnail\">\n\t\t\t<img class=\"product-image\" src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\" data-toggle=\"false\">\n\t\t<\/div>\n\t\t<div class=\"info\">\n\t\t\t<div class=\"details\">\n\t\t\t\t<%= item_link %>\n\t\t\t\t<p class=\"product-price text-highlight\"><%= item_price %><\/p>\n\t\t\t\t<p><%= _('<span class=\"text-light\">SKU:<\/span> #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t\t<% if (item_options && item_options.length) { %>\n\t\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(item_options) %><\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<%= extra_item_details_macro(options) %>\n\t\t\t<\/div>\n\t\t\t<div class=\"summary\">\n\t\t\t\t<div class=\"quantity product-quantity\">\n\t\t\t\t\t<%= deatils_macro(options) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"actions control-group\">\n\t\t<%= actions_macro(options) %>\n\t<\/div>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionText', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %>\n\t<\/label>\n\t<% if (option.type === 'textarea') { %>\n\t\t<textarea name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" data-toggle=\"text-option\" data-available=\"true\"><%- selected_value && selected_value.internalid || '' %><\/textarea>\n\t<% } else { %>\n\t\t<input type=\"<%= option.type === 'email' ? 'email' : 'text' %>\" name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" value=\"<%- selected_value && selected_value.internalid || '' %>\" data-toggle=\"text-option\" data-available=\"true\">\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsLineProduct', function (options) {\n\n\tvar item = options.item\n\t,\tname = SC.macros.itemLinkName({item: item, showLinkeable: true, hideLink: options.hideLink});\n\t%>\n\n\t<div>\n\t\t<span class=\"item-name\"><%= name %><\/span>\n\t<\/div>\n\t<div>\n\t\t<% if (item.type === 'Discount') { %>\n\t\t\t<%= _('Discount').translate() %>\n\t\t<% } else { %>\n\t\t\t<%= _('<span class=\"text-light\">SKU<\/span>: <span class=\"item-sku\">#$(0)<\/span>').translate(item.get('_sku')) %>\n\t\t<% } %>\n\t<\/div>\n\n\t<%= item.renderAllOptionSelected() %>\n\n\t<% if (!_.isBoolean(item.get('_isPurchasable')) && item.get('_itemType') !== 'Discount') {  %>\n\t\t<div>\n\t\t\t<p class=\"alert alert-warning\"><%= _('This item is no longer available').translate() %><\/p>\n\t\t<\/div>\n\t<% } else if (!item.get('_isInStock') && item.get('_showOutOfStockMessage')) { %>\n\t\t<div>\n\t\t\t<span class=\"text-light\"><%= SC.macros.itemDetailsStock(item.getStockInfo()) %><\/span>\n\t\t<\/div>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionColor', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles color-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable\n\t\t\t\t\t,\tcolor = option.colors && (option.colors[item.label] || option.colors.defaultColor);\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else if (is_available) { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryStringButMatrixOptions(), option.url, item.internalid) %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\ttitle=\"<%= item.label %>\"\n\t\t\t\t\t<% if (!_.isObject(color)) { %>\n\t\t\t\t\t\tstyle=\"background: <%= color %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc=\"<%= color.src %>\" \n\t\t\t\t\t\t\t\talt=\"<%= item.label %>\"\n\t\t\t\t\t\t\t\twidth=\"<%= color.width || '' %>\" \n\t\t\t\t\t\t\t\theight=\"<%= color.height || '' %>\">\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZone', function (zone) { %>\n<aside>\n\t<h3><%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p class=\"description\"><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, zone.application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(zone.items, relatedWrap, 4) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZoneCustom', function (zone) { %>\n<aside class=\"shopping-cart-recent-items\">\n\t<h3>Top 3 in: <%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, zone.application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(_.first(zone.items, 3), relatedWrap, 4) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n"],"address_book_tmpl":"<%\n\tvar defaults = _.compact( _.uniq( [ view.collection.where({ defaultbilling: 'T' })[0], view.collection.where({ defaultshipping: 'T' })[0] ] ) )\n\t,\tother_addresses = view.collection.where({ defaultbilling: 'F', defaultshipping: 'F' });\n%>\n\n<section>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\n\t<hr class=\"divider-small\">\n\t<p><a class=\"btn btn-secondary add-new-address\" href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\"><%= _('Add New Address').translate() %><\/a><\/p>\n\t<% if ( defaults.length ) { %>\n\t\t<div class=\"default-addresses\">\n\t\t\t<%= displayInRows(defaults, SC.macros['address'], view.options.application.getConfig('itemsPerRow')) %>\n\t\t\t<hr class=\"divider-small\">\n\t\t<\/div>\n\t<% } %>\n\n\t<div class=\"other-addresses\">\n\t\t<%= displayInRows(other_addresses, SC.macros['address'], view.options.application.getConfig('itemsPerRow')) %>\n\t<\/div>\n<\/section>\n","creditcards_tmpl":"<%\n\tvar defaults = _.compact( _.uniq( [ view.collection.where({ ccdefault: 'T' })[0] ] ) )\n\t,\tother_creditcards = view.collection.where({ ccdefault: 'F' });\n%>\n<section>\n\t<h3 class=\"no-margin-top cctitle\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n\t<p><a class=\"btn add-credit-card\" href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\"><%= _('Add Credit Card').translate() %><\/a><\/p>\n\t<% \n\tvar cellWrap = function (item) { \n\t\treturn creditcard(item, {\n\t\t\ticons: view.options.application.getConfig('creditCardIcons')\n\t\t,\tshowActions: true\n\t\t,\tshowDefaults: view.options.application.getConfig('currentTouchpoint') === 'customercenter'\n\t\t}); \n\t} \n\tif ( defaults.length ) { %>\n\t\t<%= displayInRows(defaults, cellWrap, view.options.application.getConfig('itemsPerRow')) %>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n\t<%= displayInRows(other_creditcards, cellWrap, view.options.application.getConfig('itemsPerRow')) %>\n<\/section>\n","case_new_tmpl":"<%\nvar categories = view.fields.get('categories')\n,\tuser = view.user;\n%>\n<section class=\"newCase\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\t\t\t\t\n\t<\/header>\n\n\t<hr class=\"divider-small\" \/>\n\t\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<form action=\"#\">\n\t\t<div class=\"case-new-subject control-group\">\n\t\t\t<label for=\"title\"><%= _('Subject').translate() %><\/label>\n\t\t\t<span class=\"controls\">\n\t\t\t\t<input type=\"text\" name=\"title\" id=\"title\" class=\"form-control input-xlarge input-case-title\" value=\"\" maxlength=\"300\"><\/input>\n\t\t\t<\/span>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-category control-group\">\t\t\t\t\t\t\t\n\t\t\t<label for=\"category\"><%= _('Type of inquiry').translate() %><\/label>\n\t\t\t<select name=\"category\" id=\"category\" class=\"form-control input-xlarge select-case-category\">\n\t\t\t\t<% _.each(categories, function (category) { %>\n\t\t\t\t\t<option value=\"<%= category.id %>\" >\n\t\t\t\t\t\t<%= category.text %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }); %>\n\t\t\t<\/select>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-message control-group\">\n\t\t\t<label for=\"message\"><%= _('Message').translate() %>: <\/label>\n\t\t\t<span class=\"controls\">\n\t\t\t\t<textarea name=\"message\" id=\"message\" class=\"form-control input-xlarge input-case-message\"><\/textarea>\n\t\t\t<\/span>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-include-email control-group\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input type=\"checkbox\" name=\"include_email\" id=\"include_email\" class=\"form-control checkbox-case-include-email\">\n\t\t\t\t\t<%= _('I want to use another email address for this case').translate() %>\n\t\t\t\t<\/input>\n\t\t\t<\/label>\n\t\t\t<div class=\"case-new-email control-group collapse\">\n\t\t\t\t<span class=\"controls\">\n\t\t\t\t\t<input type=\"email\" name=\"email\" id=\"email\" class=\"form-control input-xlarge input-case-email\" value=\"\" disabled=\"true\" maxlength=\"300\"><\/input>\n\t\t\t\t\t<label for=\"email\" class=\"text-light\"><%= _('E.g. yourname@company.com').translate() %><\/label>\n\t\t\t\t<\/span>\n\t\t\t<\/div>\n\t\t<\/div>\t\t\n\n\t\t<div class=\"form-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-case-submit\"><%= _('Submit').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>","creditcard_tmpl":"<% view.model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3 class=\"cctitle\">\n\t\t<%= view.model.isNew() ? _('Add a new Credit Card').translate() : _('Edit Credit Card').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no Credit Card on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter your payment information below').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"creditcard.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= creditcardForm(view.model, view.options) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\n\t<div class=\"<%- view.inModal ? 'modal-footer left-aligned' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary <%= view.model.isNew() ? 'ccadd-card' : 'ccupdate-card' %>\">\n\t\t\t<%= view.model.isNew() ? _('Add Card').translate() : _('Update Card').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","return_authorization_form_tmpl":"<%\n\tvar application = view.application\n\t,\tcreated_from = view.createdFrom\n\t,\tcreated_from_url = view.getLinkedRecordUrl()\n\t,\tinvalid_lines = created_from.get('invalidLines')\n\t,\tactive_lines_length = view.getActiveLines().length\n\t,\titems_to_return_length = view.getTotalItemsToReturn();\n%>\n<section class=\"return-atuthorization-form\">\n\t<header>\n\t\t<h3 class=\"\"><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t<\/header>\n\t\t\n\t<form class=\"form-inline\">\n\t\t<fieldset>\n\t\t\t<legend style=\"border-bottom: none;\"><%= _('Select products to return').translate() %><\/legend>\n\t\t\t<input type=\"hidden\" name=\"id\" value=\"<%= created_from.get('internalid') %>\">\n\n\t\t\t<% if (created_from.get('type') === 'salesorder') { %>\n\t\t\t\t<p><%= _('From <a href=\"$(0)\">Order #$(1)<\/a>').translate(created_from_url, created_from.get('order_number')) %><\/p>\n\t\t\t\t<input type=\"hidden\" name=\"type\" value=\"salesorder\">\n\t\t\t<% } else { %>\n\t\t\t\t<p><%= _('From <a href=\"$(0)\">Invoice #$(1)<\/a>').translate(created_from_url, created_from.get('order_number')) %><\/p>\n\t\t\t\t<input type=\"hidden\" name=\"type\" value=\"invoice\">\n\t\t\t<% } %>\n\n\t\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t\t\t<div class=\"row-fluid return-authorization-form-list\">\n\t\t\t\t<% view.getLines().each(function (line) { %>\n\t\t\t\t\t<%= itemDetailsEditable({\n\t\t\t\t\t\t\tapplication: application\n\t\t\t\t\t\t,\tline: line\n\t\t\t\t\t\t,\tisSelectable: true\n\t\t\t\t\t\t,\tdetailsMacro: view.getDetailsMacro(line)\n\t\t\t\t\t\t,\tactionsMacro: view.getActionsMacro(line)\n\t\t\t\t\t\t}) %>\n\t\t\t\t<% }) %>\t\t\t\t\n\t\t\t<\/div>\n\t\t\t<br>\n\t\t\t<p class=\"text-light\">\n\t\t\t\t<%= 1 < active_lines_length ? _('<b>$(0)<\/b> products selected').translate(active_lines_length) : _('<b>$(0)<\/b> product selected').translate(active_lines_length) %> <br>\n\t\t\t\t<%= 1 < items_to_return_length ? _('<b>$(0)<\/b> items in total to return').translate(items_to_return_length) : _('<b>$(0)<\/b> item in total to return').translate(items_to_return_length) %>\n\t\t\t<\/p>\n\t\t<\/fieldset>\n\n\t\t<% if (invalid_lines.length) { %>\n\t\t<div class=\"control-group\" data-type=\"accordion\">\n\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t<%= _('Products from original order not eligible for return ($(0))').translate(invalid_lines.length) %>\n\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t<div class=\"row-fluid nav-tabs hidden-phone\">\n\t\t\t\t\t<div class=\"span11 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<%\tinvalid_lines.each(function (line, index) { %>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar item = line.get('item')\n\t\t\t\t\t\t,\toptions = line.get('options');\n\t\t\t\t\t%>\n\t\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t\t<div class=\"span1 item-image hidden-phone\"><img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t\t<div class=\"span11 popover-content\">\n\t\t\t\t\t\t\t<p class=\"item-displayname\"><%= item.get('_name') %><\/p>\n\t\t\t\t\t\t\t<p class=\"product-price text-highlight\"><%= line.get('rate_formatted') %><\/p>\n\t\t\t\t\t\t\t<p class=\"text-light\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t\t\t\t\t<% if (options && options.length) { %>\n\t\t\t\t\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(options) %><\/div>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<% } %>\n\n\t\t<fieldset>\n\t\t\t<label class=\"h4\" for=\"comment\"><%= _('Add a comment (optional)').translate() %><\/label>\n\t\t\t<textarea name=\"comments\" id=\"comment\" class=\"comments-return-authorization input-xxlarge\" rows=\"4\"><%- view.comments || '' %><\/textarea>\n\t\t<\/fieldset>\n\t\t<div class=\"form-actions form-actions-left\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary\" <%= !active_lines_length ? 'disabled' : '' %>><%= _('Submit Request').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>\n","return_authorization_detail_tmpl":"<%\n\tvar application = view.application\n\t,\tmodel = view.model\n\t,\tlines = model.get('lines')\n\t,\tsummary = model.get('summary')\n\t,\tstatus = model.get('status').label\n\t,\ttotal_formatted = summary.total_formatted\n\t,\tinternalid = model.get('internalid')\n\t,\tcreated_from = model.get('createdfrom')\n\t,\tcreated_from_url = view.getLinkedRecordUrl()\n\t,\tcollapse_elements = application.getConfig('collapseElements')\n\t,\tdownload_url = _.getDownloadPdfUrl({\n\t\t\tasset: 'return-details'\n\t\t,\tid: internalid\n\t\t});\n%>\n<div class=\"content return-authorization-details-view\">\n\t<h3>\n\t\t<%= view.page_header %>\n\t\t<div class=\"pull-right strong billing-actions hidden-phone\">\n\t\t\t<span class=\"return-authorization-details-amount\"><%= total_formatted %><\/span>\n\t\t<\/div>\n\t<\/h3>\n\t<a href=\"\/returns\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Returns').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"header-information\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<% if (created_from) { %>\n\t\t\t\t<p class=\"info return-created-from\">\n\t\t\t\t\t<%= _('From:').translate() %> <a href=\"<%= created_from_url %>\"><%= _('$(0) #$(1)').translate(view.getCreatedFromLabel(), created_from.tranid) %><\/a>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date of request:').translate() %> <span class=\"return-date\"><%= model.get('date') %><\/span>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info visible-phone\">\n\t\t\t\t\t<%= _('Amount: <span class=\"amount strong\">$(0)<\/span>').translate(total_formatted) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 col-status-record\">\n\t\t\t\t<%= _('Status: <span class=\"status\">$(0)<\/span>').translate(status) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid\" name=\"return-content-layout\">\n\t\t<div class=\"span8 transaction-summary-one-col-tablet return-details-notmodal-container\">\n\t\t\t<!-- ITEMS -->\n\t\t\t<%= SC.macros.itemDetailsLine({\n\t\t\t\t\tcollapse_elements: collapse_elements\n\t\t\t\t,\tlines:  lines\n\t\t\t\t,\twellHeader: lines && 1 < lines.length ? _('Products ($(0))').translate(lines.length) : _('Product ($(0))').translate(lines.length)\n\t\t\t\t,\tcolumns: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: '&nbsp;'\n\t\t\t\t\t\t,\tclassName: 'span2'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\taddStart: '<div class=\"span10 item-details-line-information\">'\n\t\t\t\t\t\t,\tcontent: _('Product').translate()\n\t\t\t\t\t\t,\tclassName: 'span5 popover-content popover-heading'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: _('Qty').translate()\n\t\t\t\t\t\t,\tclassName: 'span1 popover-content popover-heading col-quantity'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: _('Reason').translate()\n\t\t\t\t\t\t,\tclassName: 'span3 popover-content popover-heading col-reason'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: _('Amount').translate()\n\t\t\t\t\t\t,\tclassName: 'span3 popover-content popover-heading col-amount'\n\t\t\t\t\t\t,\taddEnd: '<\/div>'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t,\tcolumnsBody: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: function(line) {return SC.macros.itemDetailsLineImage({item: line.get('item'), application: application})}\n\t\t\t\t\t\t,\tclassName: 'span2 item-details-line-image thumbnail item-image'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\taddStart: '<div class=\"span10 item-details-line-information\">'\n\t\t\t\t\t\t,\tcontent: function(line) {return SC.macros.itemDetailsLineProduct({item: line.get('item')})}\n\t\t\t\t\t\t,\tclassName: 'span5 popover-content'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Quantity:<\/span> <span class=\"item-quantity\">$(0)<\/span>').translate(line.get('quantity'))}\n\t\t\t\t\t\t,\tclassName: 'span1 popover-content col-quantity'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Reason:<\/span> <span class=\"item-reason\">$(0)<\/span>').translate(line.get('reason'))}\n\t\t\t\t\t\t,\tclassName: 'span3 popover-content col-reason'\n\t\t\t\t\t\t}\n\t\t\t\t\t,\t{\n\t\t\t\t\t\t\tcontent: function(line) {return _('<span class=\"visible-phone text-light\">Amount:<\/span> <span class=\"item-amount\">$(0)<\/span>').translate(line.get('amount_formatted'))}\n\t\t\t\t\t\t,\tclassName: 'span3 popover-content col-amount'\n\t\t\t\t\t\t,\taddEnd: '<\/div>'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t,\tcomment:  model.get('comment')\n\t\t\t}) %>\n\t\t<\/div>\n\n\t\t<div class=\"span4 transaction-summary-one-col-tablet\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"list-header summary-container\">\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong return-details-summary-header\">\n\t\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 pull-right text-right tax-total\">\n\t\t\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Shipping & Handling').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 text-right shipping-cost\">\n\t\t\t\t\t\t\t<%= summary.shippingamount_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"row-fluid control-group strong total\">\n\t\t\t\t\t\t<div class=\"span8 text-strong\">\n\t\t\t\t\t\t\t<%= _('TOTAL').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 text-right last total\">\n\t\t\t\t\t\t\t<%= total_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<!-- DOWNLOAD AS PDF -->\n\t\t\t\t<div class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t<a class=\"btn btn-large btn-block hidden-phone download-pdf\" data-stdnav target=\"_blank\" href=\"<%= download_url %>\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t<\/div>\n\n\t\t\t\t<% if (model.get('isCancelable')) { %>\n\t\t\t\t<div class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t<button class=\"btn btn-large btn-block\" data-action=\"cancel\"><%= _('Cancel Request').translate() %><\/button>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n","home_alt_tmpl":"<section>\n<% if ( view.customerSupportURL ) { %>\n\t<div class=\"header-links\">\n\t\t<%= _('Need Help? Contact <a href=\"$(0)\">Customer Service<\/a>').translate( view.customerSupportURL ) %>\n\t<\/div>\n<% } %>\n\t<div class=\"row\">\n\t\t<div class=\"span3\">\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Profile').translate() %><\/h3>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Name').translate() %>:<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<%= view.model.get('firstname') || '' %> <%= view.model.get('middlename') || '' %> <%= view.model.get('lastname') || '' %>\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Email').translate() %>:<\/td>\n\t\t\t\t\t\t<td><%= view.model.get('email') %><\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Phone').translate() %>:<\/td>\n\t\t\t\t\t\t<td><%= view.model.get('phone') %><\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Password').translate() %>:<\/td>\n\t\t\t\t\t\t<td>***********<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/table>\n\t\t\t\t<a class=\"box-btn editProfileInformation\" href=\"\/profileinformation\"><%= _('Edit').translate() %><\/a>\n\t\t\t<\/div>\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Shipping').translate() %><\/h3>\n\t\t\t\t<% var default_shipping = view.model.get('defaultShippingAddress') %>\n\t\t\t\t<% if ( default_shipping.isNew() || default_shipping.get('defaultshipping') !== 'T' ) { %>\n\t\t\t\t\t<p><%= _('We have no default address on file for this account.').translate() %><\/p>\n\t\t\t\t\t<a href=\"#\" class=\"box-btn editShippingAddress\"><%= _('Create New Address').translate() %><\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<%= default_shipping.get('label') || default_shipping.get('company') || default_shipping.get('fullname') %>\n\t\t\t\t\t\t<\/b>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<% if ( default_shipping.get('label') && default_shipping.get('company') ) { %>\n\t\t\t\t\t\t\t<%= default_shipping.get('company') %> <br>\n\t\t\t\t\t\t\t<%= default_shipping.get('fullname') %> <br>\n\t\t\t\t\t\t<% } else if ( default_shipping.get('label') ? !default_shipping.get('company') : default_shipping.get('company') ) { %><!-- label xor company -->\n\t\t\t\t\t\t\t<%= default_shipping.get('fullname') %> <br>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<%= default_shipping.get('addr1') %> <br>\n\t\t\t\t\t\t<% if ( default_shipping.get('addr2') ) { %>\n\t\t\t\t\t\t\t<%= default_shipping.get('addr2') %> <br>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<%= default_shipping.get('city') +', '+ default_shipping.get('state') +' '+ default_shipping.get('zip') %> <br>\n\t\t\t\t\t\t<%= default_shipping.get('country') %> <br>\n\t\t\t\t\t\t<%= default_shipping.get('phone') %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<a href=\"#\" class=\"editShippingAddress\"><%= _('Edit').translate() %><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Payment').translate() %><\/h3>\n\t\t\t\t<% var default_creditcard = view.model.get('defaultCreditCard') %>\n\t\t\t\t<% if ( default_creditcard.isNew() || default_creditcard.get('ccdefault') !== 'T' ) { %>\n\t\t\t\t\t<p><%= _('We have no default credit card on file for this account.').translate() %><\/p>\n\t\t\t\t\t<a href=\"#\" class=\"editCreditCard\"><%= _('Add a Credit Card').translate() %><\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<b><%= default_creditcard.get('paymentmethod').name %><\/b><br>\n\t\t\t\t\t\t<%= default_creditcard.get('ccname') %> <br>\n\t\t\t\t\t\t<%= default_creditcard.get('ccnumber') %> <br>\n\t\t\t\t\t\t<%= _('Exp Date').translate() +': '+ default_creditcard.get('expmonth') +'\/'+ default_creditcard.get('expyear') %> <br>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<a href=\"#\" class=\"box-btn editCreditCard\"><%= _('Edit').translate() %><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"span6\">\n\t\t\t${homeBanner()}\n\t\t<\/div>\n\t<\/div>\n<\/section>","landing_page_tmpl":"<section>\n\t<% if (view.page_header && !view.inModal) { %>\n\t\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n\n\t<% if (view.page && view.page.get('content')) { %>\n\t\t<div id=\"landing-page-content\" class=\"view-body landing-page-content\">\n\t\t\t<%= view.page.get('content') %>\n\t\t<\/div>\n\t<% } %>\n<\/section>","internal_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"internal-error-content\" class=\"view-body internal-error-content\">\n\t<%= view.options.message || _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","order_history_tmpl":"<section class=\"list\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\n<% if (view.collection.length) { %>\n\n\t<div class=\"row-fluid visible-desktop list-sub-header order-history-list-header\">\n\n\t\t<div class=\"tablet-span2 span8\">\n\t\t\t<div class=\"span3\">\n\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3\">\n\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"tablet-span2 rg span4\">\n\t\t\t<div class=\"span11\">\n\t\t\t\t<span><%= _('Track Items').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span1\"><\/div>\n\t\t<\/div>\n\n\t<\/div>\n\n\t<% view.collection.each(function (order) {\n\t\tvar id = order.get('internalid')\n\t\t,\torder_number = order.get('order_number');\n\t\t%>\n\t\t\t<div class=\"row-fluid list-row-non-mobile\" data-action=\"navigate\" data-id=\"<%= id %>\">\n\t\t\t\t<div class=\"tablet-span2 span8\">\n\t\t\t\t\t<div class=\"span3 transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/ordershistory\/view\/<%= id %>\">\n\t\t\t\t\t\t\t\t<%= _('Order #<span class=\"tranid\">$(0)<\/span>').translate(order_number) %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-date transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"transaction-date\"><%= _('$(0)').translate(order.get('date')) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-amount transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(order.get('summary').total_formatted) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 wrap-text transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Status:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"list-row-text status\"><%= order.get('status') %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"tablet-span2 rg span4\">\n\t\t\t\t\t<div class=\"span11\" data-action=\"tracking-number-expander\">\n\t\t\t\t\t\t<%= trackingNumbers({\n\t\t\t\t\t\t\t\ttrackingnumbers:  order.get('trackingnumbers') || []\n\t\t\t\t\t\t\t,\tshowContentOnEmpty: true\n\t\t\t\t\t\t\t,\tcontentClass: ''\n\t\t\t\t\t\t\t,\tcollapseElements: true\n\t\t\t\t\t\t\t,\ttrackingURLService: view.getTrackingServiceUrl\n\t\t\t\t\t\t\t,\ttrackingNameService: view.getTrackingServiceName\n\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"hidden-desktop span1 pull-right text-right\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/ordershistory\/view\/<%= id %>\">\n\t\t\t\t\t\t\t<i class=\"icon-chevron-right order-details-go-icon\"><\/i>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t<% }); %>\n\n\t<% } else if (view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('Loading...').translate() %><\/p>\n\t<% } else { %>\n\t\t<p class=\"list-empty\"><%= _('No order were found').translate() %><\/p>\n\t<% } %>\n\n<\/section>","return_authorization_cancel_tmpl":"<div class=\"modal-body\">\n\t<h4><%= _('Are you sure you want to cancel this return request?').translate() %><\/h4>\n\t<p class=\"text-light\"><%= _('The status of the request will change to \"Cancelled\" but it won\\'t be removed.').translate() %><\/p>\n<\/div>\n<div class=\"modal-footer\">\n\t<button class=\"btn btn-primary pull-right\" data-action=\"delete\">\n\t\t<%= _('Yes').translate() %>\n\t<\/button>\n\t<button class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\">\n\t\t<%= _('No').translate() %>\n\t<\/button>\n<\/div>","return_authorization_confirmation_tmpl":"<%\n\tvar model = view.model\n\t,\tlines = model.get('lines')\n\t,\tapplication = view.application\n\t,\tcollapse_elements = application.getConfig('collapseElements');\n%>\n<div class=\"content return-authorization-confirmation-view\">\n\t<h3><%= view.page_title %><\/h3>\n\t<a href=\"\/returns\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Returns').translate() %>\n\t<\/a>\n\t<hr>\n\n\t<h4 style=\"margin-bottom: 18px;\"><%= view.page_header %><\/h4>\n\n\t<div class=\"alert alert-success\">\n\t\t<div class=\"row-fluid display-flex\">\n\t\t\t<div class=\"span1 payment-confirmation-tick-container hidden-phone text-right\">\u2713<\/div>\n\t\t\t<div class=\"span11\">\n\t\t\t\t<h2 class=\"payment-confirmation-greeting-container\"><%= _('Thank you!').translate() %><\/h2>\n\t\t\t\t<p><a href=\"\/returns\/<%= model.get('internalid') %>\" class=\"text-strong\"><%= _('Return request #$(0)').translate(model.get('tranid')) %><\/a><\/p>\n\t\t\t\t<p class=\"return-confirmation-body-container\">\n\t\t\t\t\t<%= _('Your request was successfully submitted and a representative will contact you briefly.').translate() %> <br>\n\t\t\t\t\t<%= _('An email was sent to you with a copy of this request.').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<a href=\"\/returns\" class=\"btn\"><%= _('Go to list of requests').translate() %><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<span class=\"return-authorization-details-amount lead pull-right\"><%= model.get('summary').total_formatted %><\/span>\n\t<p class=\"clearfix\"><span class=\"text-light\"><%= _('From:').translate() %><\/span> <%= _('$(0) #$(1)').translate(view.getCreatedFromLabel(), model.get('tranid')) %><\/p>\n\n\t<div class=\"control-group\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Items ($(0))').translate(lines.length) %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" style=\"<%= collapse_elements ? 'display: none;' : '' %>\">\n\n\t\t\t<div class=\"row-fluid nav-tabs hidden-phone\">\n\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Qty to return').translate() %><\/div>\n\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t<div class=\"span3 popover-content popover-heading col-reason\"><%= _('Reason for Return').translate() %><\/div>\n\t\t\t<\/div>\n\t\t\t<%\tlines.each(function (line, index) { %>\n\t\t\t\t<%\n\t\t\t\t\tvar item = line.get('item')\n\t\t\t\t\t,\toptions = line.get('options');\n\t\t\t\t%>\n\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t<div class=\"span1 item-image hidden-phone\"><img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t<p class=\"item-displayname\"><%= item.get('_name') %><\/p>\n\t\t\t\t\t\t<p class=\"product-price text-highlight\"><%= line.get('rate_formatted') %><\/p>\n\t\t\t\t\t\t<p class=\"text-light\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t\t\t\t<% if (options && options.length) { %>\n\t\t\t\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(options) %><\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 popover-content item-quantity\"><span class=\"visible-phone\"><%= _('Qty:').translate() %><\/span> <b><%= line.get('quantity') %><\/b><\/div>\n\t\t\t\t\t<div class=\"span2 popover-content item-totalprice\"><span class=\"visible-phone\"><%= _('Amount:').translate() %><\/span> <%= line.get('amount_formatted') %><\/div>\n\t\t\t\t\t<div class=\"span3 popover-content col-reason\"><%= line.get('reason') %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (model.get('comment')) { %>\n\t<br>\n\t<p><%= _('Comments:').translate() %><\/p>\n\t<blockquote><%- model.get('comment') %><\/blockquote>\n\t<% } %>\n<\/div>","case_detail_tmpl":"<%\nvar categories = view.fields.get('categories')\n,\tuser = view.user\n,\tmodel = view.model\n,\tsubject = model.get('title')\n,\tgrouped_messages = model.get('grouped_messages')\n,\tmessages_count = model.get('messages_count')\n,   collapse_elements = view.application.getConfig('collapseElements')\n,\tclose_status_id = SC.ENVIRONMENT.CASES.CONFIG.default_values.status_close.id;\n%>\n\n<section class=\"content caseDetail\">\n\t<header>\n\t\t<h3>\n\t\t\t<span class=\"field-number\"><%= view.page_header %><\/span>\n\t\t\t<span class=\"field-subject text-light\"><%- subject %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/cases\" class=\"back-btn\"><%= _('&lt; Back to Cases').translate() %><\/a>\t\t\n\t<\/header>\t\n\t\n\t<hr class=\"divider-small\" \/>\n\t\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"header-information\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<p class=\"info\"><%= _('Type of inquiry: <span class=\"type\">$(0)<\/span>').translate( model.get('category').name) %><\/p>\n\t\t\t\t<p class=\"info\"><%= _('Creation date: <span class=\"creation-date\">$(0)<\/span>').translate(model.get('createdDate')) %><\/p>\n\t\t\t\t<p class=\"info\"><%= _('Last message: <span class=\"last-message-date\">$(0)<\/span>').translate(model.get('lastMessageDate')) %><\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 col-status-record\">\n\t\t\t\t<p class=\"info\"><%= _('Status: <span class=\"status\">$(0)<\/span>').translate(model.get('status').name) %><\/p>\n\t\t\t\t<% if (model.get('status').id !== close_status_id) {\u00a0%>\n\t\t\t\t\t<div class=\"row-fluid case-detail-reply-section\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close-case btn btn-expanded pull-right\" data-action=\"close-case\"><%= _('Close Case').translate() %><\/button>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<hr class=\"divider-small\" \/>\t\n\t<form action=\"#\">\n\t\t<div class=\"control-group case-detail-add-reply row-fluid\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<label for=\"reply\"><%= _('Reply with a message:').translate() %><\/label>\n\t\t\t\t<span class=\"controls\">\n\t\t\t\t\t<textarea name=\"reply\" id=\"reply\" class=\"form-control user-input-reply input-xxlarge\" rows=\"4\"><\/textarea>\n\t\t\t\t<\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid case-detail-reply-section\">\n\t\t\t\t<button type=\"submit\" class=\"btn-reply btn btn-primary btn-expanded\"><%= _('Reply').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/form>\n\t<div class=\"case-detail-messages\" data-type=\"accordion\">\n        <div class=\"well\" data-action=\"items-expander\">\n            <div class=\"well-header\">\n                <span class=\"data-messages-count\"><%= _('Messages ($(0))').translate(messages_count) %><\/span>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n            <\/div>\n        <\/div>\n        <div class=\"well-section-bordered\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n        \t<% _.each(grouped_messages, function (message_group) { %>\n        \t\t<div class=\"case-detail-message-group-row\">\n        \t\t\t<div class=\"case-detail-message-date-section\">\n\t\t\t\t\t\t<span class=\"field-message-date text-light text-line-after\"><%= message_group.date %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% _.each(message_group.messages, function (message) { %>\n\t\t\t\t\t\t<div class=\"case-detail-message-row <%= message.initialMessage ? 'highlighted' : '' %>\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class=\"field-message-author text-strong\"><%= message.author %><\/span>\n\t\t\t\t\t\t\t\t<span class=\"field-message-time text-light\"><%= '(' + message.messageDate + ')' %><\/span>\n\t\t\t\t\t\t\t\t<% if (message.initialMessage) { %>\n\t\t\t\t\t\t\t\t\t<span class=\"text-light\"><%= _('- Original case message').translate() %><\/span>\n\t\t\t\t\t\t\t\t<% }\u00a0%>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<pre class=\"field-message\"><%- message.text %><\/pre>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% }); %>\n\t\t<\/div>\n\t<\/div>\n\t<br \/>\t\n<\/section>","forbidden_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"forbidden-error-content\" class=\"view-body forbidden-error-content\">\n\t<p><%= _('Sorry! You have no permission to view this page.').translate() %><\/p>\n\t<p><%= _('Please contact the website administrator, click <a href=\"\/\">here<\/a> to continue.').translate() %><\/p>\n<\/div>","profile_update_your_password_tmpl":"<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n<hr class=\"divider-small\">\n<% view.model = view.model || { get: function () { return ''; } } %>\n<div data-type=\"alert-placeholder\"><\/div>\n<section class=\"row-fluid\">\n\t<div class=\"span12\">\n\t\t<form class=\"update_password\">\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"current_password\"><%= _('Current Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"current_password\" name=\"current_password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"password\"><%= _('New Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"password\" name=\"password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"confirm_password\"><%= _('Confirm Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"confirm_password\" name=\"confirm_password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/fieldset>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\"><%= _('Reset').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/form>\n\t<\/div>\n<\/section>","case_list_tmpl":"<% var collection = view.collection; %>\n<section class=\"case-management\">\n\t<header>\n\t\t<h3>\n\t\t\t<%= view.page_header %>\t\t\t\n\t\t\t<div class=\"pull-right hidden-phone\">\n\t\t\t\t<a class=\"pull-right btn btn-expanded btn-primary\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/newcase\">\n\t\t\t\t\t<%= _('Create New Case').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<\/h3>\t\t\n\t<\/header>\t\n\t\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<a class=\"visible-phone btn btn-expanded btn-primary\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/newcase\">\n\t\t<%= _('Create New Case').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid case-table\">\n\t<% if (collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Case No.').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t<span><%= _('Subject').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2 col-date\">\n\t\t\t\t\t<span><%= _('Creation date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2 col-date\">\n\t\t\t\t\t<span><%= _('Last Message').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2 col-status\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% collection.each(function (the_case) { %>\n\t\t\t<% var id = the_case.get('internalid')\n\t\t\t,\tcase_number = the_case.get('caseNumber') %>\n\n\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#\/cases\/<%= id %>\" data-case-number=\"<%= case_number %>\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record case-number\"><%= _('Case #$(0)').translate(case_number) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Subject:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-subject\"><%= the_case.get('title') %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 col-date\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Creation Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-creation-date\"><%= the_case.get('createdDate').split(' ')[0] %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 col-date\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Last Message:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-last-message-date\"><%= the_case.get('lastMessageDate').split(' ')[0] %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 col-status\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span class=\"case-status status\"><%= the_case.get('status').name %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t<\/div>\t\t\t\t\t\n\t\t\t\t<\/div>\n\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (!view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('No cases were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","return_authorization_list_tmpl":"<% var collection = view.collection; %>\n<section class=\"returnAuthorizations\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\n\t<% if (view.message) { %>\n\t<div data-type=\"alert-placeholder\">\n\t\t<%= SC.macros.message(view.message, 'success', true) %>\n\t<\/div>\n\t<% } %>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid returns-table\">\n\t<% if (collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Request No.').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t\t<span><%= _('Request date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 col-status\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% collection.each(function (return_authorization) { %>\n\t\t\t<% \tvar id = return_authorization.get('internalid')\n\t\t\t\t,\treturn_authorization_number = return_authorization.get('tranid');\n\t\t\t%>\n\n\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#returns\/<%= id %>\" class=\"payment-table-row\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record return-number\"><%= _('Return request #$(0)').translate(return_authorization_number) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Request date:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"return-date\"><%= return_authorization.get('date') %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"amount return-total\"><%= return_authorization.get('summary').total_formatted %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-status\">\n\t\t\t\t\t\t<span class=\"list-row-text text-right status return-state\">\n\t\t\t\t\t\t\t<%= return_authorization.get('status') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('Loading...').translate() %><\/p>\n\t<% } else { %>\n\t\t<p class=\"list-empty\"><%= _('No returns were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","list_header_tmpl":"<%\n\tvar collection = view.collection\n\t,\tcollapse_header = view.getExpanded()\n\t,\thide_filter_expandable = _.isFunction(view.hideFilterExpandable) ? view.hideFilterExpandable() : view.hideFilterExpandable;\n%>\n\n<% if (view.displays || view.rangeFilter || view.filters || view.sorts) { %>\n\t<div class=\"facet-header <%= collapse_header ? 'well' : 'facet-header-white-well' %> row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"header-row\" data-action=\"accordion-header\" >\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"header-expander clearfix\">\n\t\t\t\t\t<% if (hide_filter_expandable !== true) { %>\n\t\t\t\t\t\t<a href=\"#\" class=\"btn\" data-action=\"toggle-filters\">\n\t\t\t\t\t\t\t<%= _('Filter').translate() %> <i class=\"filter-icon icon-chevron-down\" ><\/i>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<%= _.isFunction(view.headerMarkup) ? view.headerMarkup() : view.headerMarkup %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"accoridon-body\" data-type=\"accordion-body\" <%= collapse_header && hide_filter_expandable !== true ? '' : 'style=\"display: none;\"' %>>\n\t\t\t\t\t<!-- Todo: Each component should be a macro -->\n\t\t\t\t\t<div class=\"list-header text-right clearfix <%= view.classes || '' %>\">\n\t\t\t\t\t\t<% if (view.displays) { %>\n\t\t\t\t\t\t\t<div class=\"item-listing-display pull-left\">\n\t\t\t\t\t\t\t\t<span class=\"btn-group\">\n\t\t\t\t\t\t\t\t\t<% _(view.displays).each(function (option) { %>\n\t\t\t\t\t\t\t\t\t<a href=\"<%- _(view.displayer(option.id)).fixUrl() %>\"  class=\"btn <%= view.selectedDisplay.id === option.id ? 'active' : '' %>\"  title=\"<%= option.name %>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"<%= option.icon %>\"><\/i>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<% if (view.rangeFilter) { %>\n\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\tvar selected_range = view.selectedRange\n\t\t\t\t\t\t\t\t,\tfilter_range_options = view.rangeFilterOptions\n\t\t\t\t\t\t\t\t,\tfrom_min = filter_range_options.fromMin ? 'min=\"' + filter_range_options.fromMin + '\"' : ''\n\t\t\t\t\t\t\t\t,\tfrom_max = filter_range_options.fromMax ? 'max=\"' + filter_range_options.fromMax + '\"' : ''\n\t\t\t\t\t\t\t\t,\tto_min = filter_range_options.toMin ? 'min=\"' + filter_range_options.toMin + '\"' : ''\n\t\t\t\t\t\t\t\t,\tto_max = filter_range_options.toMax ? 'max=\"' + filter_range_options.toMax + '\"' : '';\n\t\t\t\t\t\t\t%>\n\n\t\t\t\t\t\t\t<label class=\"pull-left\" for=\"from\"><%= _.isUndefined(view.rangeFilterLabel) ? _('From').translate() : _(view.rangeFilterLabel).translate() %>\n\t\t\t\t\t\t\t\t<input class=\"input-date\" id=\"from\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"from\" type=\"<%= view.rangeFilter %>\" <%= from_min %> <%= from_max %> value=\"<%= selected_range && selected_range.from %>\" data-action=\"range-filter\">\n\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t<label class=\"pull-left\" for=\"to\"><%= _('to').translate() %>\n\t\t\t\t\t\t\t\t<input class=\"input-date\" id=\"to\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"to\" type=\"<%= view.rangeFilter %>\" <%= to_min %> <%= to_max %> value=\"<%= selected_range && selected_range.to %>\" data-action=\"range-filter\">\n\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<% if (view.filters) { %>\n\t\t\t\t\t\t\t<% var selected_filter = _.isFunction(view.selectedFilter.value) ? view.selectedFilter.value.apply(view.view) : view.selectedFilter.value  %>\n\t\t\t\t\t\t\t<select name=\"filter\" id=\"\" class=\"list-header-filter\" data-action=\"filter\">\n\t\t\t\t\t\t\t<% _.each(view.filters, function (item) { %>\n\t\t\t\t\t\t\t\t<% var item_value = _.isFunction(item.value) ? item.value.apply(view.view) : item.value %>\n\t\t\t\t\t\t\t\t<option value=\"<%= item_value %>\" class=\"<%= item.className || '' %>\" data-permissions=\"<%= item.permission %>\" <%= selected_filter === item_value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t<\/select>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<% if (view.sorts) { %>\n\t\t\t\t\t\t\t<% var selected_sort = view.selectedSort.value %>\n\t\t\t\t\t\t\t<select name=\"sort\" id=\"\" class=\"list-header-sort\" data-action=\"sort\">\n\t\t\t\t\t\t\t<% _.each(view.sorts, function (item) { %>\n\t\t\t\t\t\t\t\t<option value=\"<%= item.value %>\" data-permissions==\"<%= item.permission %>\" <%= selected_sort === item.value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t<\/select>\n\n\t\t\t\t\t\t\t<button class=\"btn list-header-sort-btn\" data-action=\"toggle-sort\">\n\t\t\t\t\t\t\t\t<i class=\"icon-arrow-up pull-left <%= view.order > 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t\t\t\t\t\t\t<i class=\"icon-arrow-down pull-left <%= view.order < 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t\t\t\t\t\t<\/button>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<% } %>\n\n<% if (view.selectable && collection.length > 1) { %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar unselected_length = view.getUnselectedLength()\n\t\t\t,\tcollection_length = view.getCollectionLength();\n\n\t\t%>\n\t\t<label class=\"list-header-select-all pull-left v-center\" for=\"select-all\">\n\t\t\t<% if (unselected_length) { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"select-all\"> <%= _('Select All ($(0))').translate(collection_length) %>\n\t\t\t<% } else { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"unselect-all\" checked> <%= _('Unselect All ($(0))').translate(collection_length) %>\n\t\t\t<% } %>\n\t\t<\/label>\n\t<\/div>\n<% } %>\n\n<% if (collection.totalRecordsFound && collection.recordsPerPage) { %>\n\t<%\n\t\tvar pagination_result = pagination(_.extend({},\n\t\t\tview.options.application.getConfig('defaultPaginationSettings'),\n\t\t\t{\n\t\t\t\tcurrentPage: view.page\n\t\t\t,\ttotalPages: Math.ceil(collection.totalRecordsFound \/ collection.recordsPerPage)\n\t\t\t,\textraClass: 'pagination-small pull-right'\n\t\t\t,\tpager: view.pager\n\t\t}));\n\t%>\n\t<div class=\"clearfix paginator-content\">\n\t\t<%= pagination_result %>\n\n\t\t<% if (view.options.showCurrentPage) {  %>\n\t\t<%= showingCurrent({\n\t\t\t\tcurrent_page: view.page\n\t\t\t,\titems_per_page: view.collection.recordsPerPage\n\t \t\t,\ttotal_items: view.collection.totalRecordsFound\n\t\t\t,\ttotal_pages: Math.ceil(view.collection.totalRecordsFound \/ view.collection.recordsPerPage)\n\t\t\t,\textraClass: 'pull-right'\n\t\t}) %>\n\t\t<% } %>\n\t<\/div>\n<% } %>\n\n","layout_tmpl":"<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n<header id=\"site-header\" class=\"site-header\">\n\t<%= header(view) %>\n<\/header>\n<% } %>\n\n\n<header id=\"site-header\" class=\"site-header\">\n\t\n\n<!-- MACRO STARTS: header -->\n\n<div class=\"container\">\n\n\t<div class=\"row-fluid site-branding\">\n\t\t<div class=\"span3 site-logo\">\n\t\t\t\n\n<!-- MACRO STARTS: siteLogo -->\n\n<div id=\"site-logo\" class=\"site-logo content-banner\">\n\n\t\n\n\t\n\t\t<a href=\"http:\/\/www.folkways.si.edu\">\n\t\t\n\n\t\n\t\t<img itemprop=\"image\" src=\"https:\/\/checkout.netsuite.com\/core\/media\/media.nl?id=45&amp;c=297799&amp;h=8ecf93901dad09546a4a\" alt=\"Smithsonian Folkways Recordings\">\n\t\n\t<\/a>\n\n<\/div>\n\n<!-- MACRO ENDS: siteLogo -->\n\n\t\t<\/div>\n\t\t<div class=\"span3 offset6\">\n\n\n<a class=\"btn btn-link pull-right\" href=\"\/\" data-touchpoint=\"logout\" data-hashtag=\"#\/\">Sign Out<\/a>\n\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid site-menu hidden-xs\">\n\n\t\t<ul class=\"span12\">\n\t\t\t<li class=\"span12 cart\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"viewcart\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:141px\" border=\"0\" alt=\"Shopping Cart\"><\/a><\/li>\n\t\t\t<li class=\"span12 checkout\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"checkout\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:103px\" border=\"0\" alt=\"Checkout\"><\/a><\/li>\n\t\t\t<li class=\"span12 myaccount\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/\"><img src=\"\/c.297799\/Checkout\/img\/pixel.gif\" style=\"height:30px !important; width:121px\" border=\"0\" alt=\"My Account\"><\/a><\/li>\n\t\t<\/ul>\n\n\t\t<div class=\"span7\">&nbsp;<\/div>\n\n\t<\/div>\n\n\t<div class=\"row-fluid site-menu visible-xs\">\n\n\t\t<ul class=\"span12\">\n\t\t\t<li class=\"span12 cart\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"viewcart\" data-hashtag=\"#\/\">SHOPPING CART<\/a><\/li>\n\t\t\t<li class=\"span12 checkout\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"checkout\" data-hashtag=\"#\/\">CHECKOUT<\/a><\/li>\n\t\t\t<li class=\"span12 myaccount\" style=\"float:left !important\"><a href=\"\/\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/\">MY ACCOUNT<\/a><\/li>\n\t\t<\/ul>\n\n\t\t<div class=\"span7\">&nbsp;<\/div>\n\n\t<\/div>\n\t<div class=\"\"><\/div>\n\n<\/div>\n\n<!-- MACRO ENDS: header -->\n\n<\/header>\n\n\n\n<div class=\"container main-container\">\n\t<div id=\"breadcrumb\">\n\t\t<%= breadcrumb() %>\n\t<\/div>\n\t<div class=\"layout-error-placeholder\"><\/div>\n\t<div class=\"row-fluid\">\n\t\t<nav id=\"side-nav\" class=\"span3\">\n\t\t\t<h2 style=\"font-family: Georgia;\"><%= _('My Account').translate() %><\/h2>\n\t\t\t<hr>\n\t\t\t<ul id=\"sidebar\" class=\"nav nav-tabs nav-stacked\">\n\t\t\t<% _.each(view.application.getLayout().getMenuItems(), function (item, index) { %>\n\t\t\t\t<% if (item.children) { %> \n\t\t\t\t<%= tree(item, tree, 0, true) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t<li data-label=\"<%= item.id %>\" data-permissions=\"<%= item.permission %>\">\n\t\t\t\t\t<a href=\"\/<%= item.url %>\"  target=\"<%= item.target %>\">\n\t\t\t\t\t\t<%= item.name %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t\t<div data-type=\"product-list-menu\"><\/div>\n\t\t<\/nav>\n\t\t<div id=\"content\" data-type=\"product-list-details\" class=\"span9\"><\/div>\n\t<\/div>\n<\/div>\n\n\n<div style=\"padding-top: 30px;\" class=\"container\">\n<footer id=\"site-footer\" class=\"site-footer row-fluid\">\n\n\t<div class=\"privacy\">\n\t\tWe use the NetSuite secure shopping cart. <a href=\"http:\/\/www.netsuite.com\/portal\/resource\/terms-of-service.shtml\" target=\"_blank\">Terms of Service<\/a> and <a href=\"http:\/\/www.netsuite.com\/portal\/privacy.shtml\" target=\"_blank\">Privacy Policy<\/a> apply.\n\t<\/div>\n\n    <div class=\"row-fluid\" id=\"footer-container\">\n\n\t\t<ul>\n\t\t\t<li><a href=\"http:\/\/www.si.edu\/\" target=\"new\">\u00a9 2016 Smithsonian Institution<\/a><\/li>\n\t\t\t<li>|<\/li>\n\t\t\t<li><a href=\"http:\/\/www.si.edu\/copyright\/\" target=\"new\">Copyright<\/a><\/li>\n\t\t\t<li>|<\/li>\n\t\t\t<li><a href=\"http:\/\/www.folkways.si.edu\/folkways-staff\/smithsonian\">Contact<\/a><\/li>\n\t\t\t<li>|<\/li>\n\t\t\t<li><a href=\"http:\/\/www.si.edu\/privacy\/\" target=\"new\">Privacy<\/a><\/li>\n\t\t\t<li>|<\/li>\n\t\t\t<li><a href=\"http:\/\/www.folkways.si.edu\/production-credits\/smithsonian\">Credits<\/a><\/li>\n\t\t<\/ul>\n\n\t<\/div>\n<\/footer>\n<\/div>\n\n<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n<footer id=\"site-footer\" class=\"site-footer\">\n\t<%= footer(view) %>\n<\/footer>\n<% } %>\n","address_tmpl":"<% var model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3>\n\t\t<%= model.isNew() ? _('Add a new Address').translate() : _('Update Address').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no address on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter a shipping address bellow').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"addressbook.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= addressFrom(model, {\n\t\tcountries: view.options.application.getConfig('siteSettings.countries')\n\t,\thideDefaults: view.options.application.getConfig('currentTouchpoint') !== 'customercenter' \/* only show the \"defaults\" functionality in myaccount *\/\n\t}) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\t<div class=\"<%- view.inModal ? 'modal-footer' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t<%= model.isNew() ? _('Save Address').translate() : _('Update Address').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","home_tmpl":"<% if ( view.customerSupportURL ) { %>\n\t<div class=\"header-links pull-right\">\n\t\t<%= _('Need Help? Contact <a href=\"$(0)\">Customer Service<\/a>').translate( view.customerSupportURL ) %>\n\t<\/div>\n<% } %>\n<h3 style=\"font-family: Georgia;\" class=\"no-margin-top\"><%= _('Welcome $(0)!').translate(view.application.getUser().get('firstname') || \"\") %><\/h3>\n<hr class=\"divider-small\">\n<section>\n\n\t<div class=\"home-recent-orders\" data-permissions=\"transactions.tranFind.1,transactions.tranSalesOrd.1\">\n\t\t<div>\n\t\t\t<a href=\"\/ordershistory\" class=\"pull-right\"><%= _('View All Order History').translate() %> &gt;<\/a>\n\t\t\t<h4><%= _('Recent Orders').translate() %><\/h4>\n\t\t<\/div>\n\t\t<hr class=\"divider-small\">\n\t\t<% if (view.collection.length) { %>\n\n\t\t\t<div class=\"row-fluid visible-desktop list-sub-header order-history-list-header\">\n\n\t\t\t\t<div class=\"tablet-span2 span8\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"tablet-span2 rg span4\">\n\t\t\t\t\t<div class=\"span11\">\n\t\t\t\t\t\t<span><%= _('Track Items').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span1\"><\/div>\n\t\t\t\t<\/div>\n\n\t\t\t<\/div>\n\t\t\t<% view.collection.each(function (order) {\n\t\t\t\tvar id = order.get('internalid')\n\t\t\t\t,\torder_number = order.get('order_number');\n\t\t\t\t%>\n\t\t\t\t\t<div class=\"row-fluid list-row-non-mobile\" data-action=\"navigate\" data-id=\"<%= id %>\">\n\t\t\t\t\t\t<div class=\"tablet-span2 span8\">\n\t\t\t\t\t\t\t<div class=\"span3 transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/ordershistory\/view\/<%= id %>\">\n\t\t\t\t\t\t\t\t\t\t<%= _('Order #<span class=\"tranid\">$(0)<\/span>').translate(order_number) %>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 col-date transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"transaction-date\"><%= _('$(0)').translate(order.get('date')) %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 col-amount transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(order.get('summary').total_formatted) %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 wrap-text transaction-summary-one-col-tablet\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"hidden-desktop list-row-text-info\"><%= _('Status:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"list-row-text status\"><%= order.get('status') %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"tablet-span2 rg span4\">\n\t\t\t\t\t\t\t<div class=\"span11\" data-action=\"tracking-number-expander\">\n\t\t\t\t\t\t\t\t<%= trackingNumbers({\n\t\t\t\t\t\t\t\t\t\ttrackingnumbers:  order.get('trackingnumbers') || []\n\t\t\t\t\t\t\t\t\t,\tshowContentOnEmpty: true\n\t\t\t\t\t\t\t\t\t,\tcontentClass: ''\n\t\t\t\t\t\t\t\t\t,\tcollapseElements: true\n\t\t\t\t\t\t\t\t\t,\ttrackingURLService: view.getTrackingServiceUrl\n\t\t\t\t\t\t\t\t\t,\ttrackingNameService: view.getTrackingServiceName\n\t\t\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"hidden-desktop span1 pull-right text-right\">\n\t\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/ordershistory\/view\/<%= id %>\">\n\t\t\t\t\t\t\t\t\t<i class=\"icon-chevron-right order-details-go-icon\"><\/i>\n\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t<% }); %>\n\n\t\t<% } else { %>\n\t\t\t<p class=\"list-empty\"><%= _('No order were found').translate() %><\/p>\n\t\t<% } %>\n\t<\/div>\n<\/section>\n<section>\n\t<h4><%= _('My Settings').translate() %><\/h4>\n\t<hr class=\"divider-small\">\n\t<% var homeItems = []; \n\t\thomeItems.push(SC.macros.homeProfile(view));\n\t\thomeItems.push(SC.macros.homeShipping(view));\n\t\thomeItems.push(SC.macros.homePayment(view));\n\t%>\n\t<%= displayInRows(homeItems, null, view.application.getConfig('itemsPerRow')) %>\n<\/section>\n<%= homeBanner(view.application.getConfig('homeBanners')) %>","email_preferences_tmpl":"<% var subscriptions = view.model.get('campaignsubscriptions') || []; %>\n<section>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t<form>\n\t\t<fieldset>\n\t\t\t<legend class=\"no-margin-bottom\">\n\t\t\t\t<%= _('Newsletter').translate() %>\n\t\t\t<\/legend>\n\t\t\t<div class=\"control-group\">\n\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" id=\"emailsubscribe\" value=\"T\" data-unchecked-value=\"F\" name=\"emailsubscribe\" <%= view.model.get('emailsubscribe') == 'T' ? 'checked' : '' %>>\n\t\t\t\t\t\t<%= _('Yes, I would like to sign up for your Newsletter.').translate() %>\n\t\t\t\t\t<\/label>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/fieldset>\n\t\t<% if ( view.options.application.getConfig('siteSettings.campaignsubscriptions') && subscriptions.length ) { %>\n\t\t<hr class=\"divider-small\">\n\t\t<fieldset>\n\t\t\t<legend class=\"no-margin-bottom\">\n\t\t\t\t<%= _('Subscriptions').translate() %>\n\t\t\t<\/legend>\n\t\t\t<% _.each(subscriptions, function (subscription, index) { %>\n\t\t\t\t<% var internalid = subscription.internalid; %>\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"subscription-<%= internalid %>\" class=\"subscription\" value=\"T\" data-unchecked-value=\"F\" name=\"subscription-<%= internalid %>\" <%= view.model.get('emailsubscribe') == 'T' ? '' : 'disabled' %> <%= subscription.subscribed ? 'checked' : '' %>>\n\t\t\t\t\t\t\t<%= _( subscription.name ).translate() %>\n\t\t\t\t\t\t<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t<\/fieldset>\n\t\t<% } %>\n\t\t<div class=\"form-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t<button type=\"reset\"  class=\"btn btn-link hide\" data-action=\"reset\"><%= _('Cancel').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>\n","receipt_details_tmpl":"<%\tvar elements = []\n\t,   lines = view.model.get('lines').models\n\t,   collapse_elements = view.application.getConfig('collapseElements')\n\t,\ttitle = _('Receipt').translate()\n\t,\turl = _.getDownloadPdfUrl({\n\t\t\tasset: 'receipt-details'\n\t\t,\ttrantype: view.model.get('trantype')\n\t\t,\tlabel: encodeURIComponent(view.model.get('type_name'))\n\t\t,\tid: view.model.get('internalid')\n\t})\n\t,\tbilladdress = view.model.get('addresses').get(view.model.get('billaddress'))\n\t,\tpaymentmethod = view.model.get('paymentmethods') && view.model.get('paymentmethods').findWhere({primary: true});\n%>\n\n<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Receipt <b class=\"tranid\">#$(0)<\/b>').translate(view.model.get('order_number')) %>\n\t\t\t<span class=\"pull-right hidden-phone strong amount\">\n\t\t\t\t<%= view.model.get('summary').total_formatted %>\n\t\t\t<\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/receiptshistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Receipts').translate() %>\n\t\t<\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<!-- HEADER INFORMATION -->\n\t<div class=\"header-information\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: <span class=\"date\">$(0)<\/span>').translate(view.model.get('date')) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 col-status-record\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%=  _('Status: <span class=\"status\">$(0)<\/span>').translate(view.model.get('status')) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span12 visible-phone\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Amount: <span class=\"amount\">$(0)<\/span>').translate(view.model.get('summary').total_formatted) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span8 transaction-summary-one-col-tablet\">\n\t\t\t<!-- ITEMS -->\n\t\t\t<% if (lines && lines.length) { %>\n\t\t\t\t<div class=\"row-fluid control-group item-container\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<span class=\"items-drop-down\"><%= lines.length > 1 ? _('Products (<span class=\"items-count\">$(0)<\/span>)').translate(lines.length) : _('Product (<span class=\"items-count\">$(0)<\/span>)').translate(lines.length) %><\/span>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t_.each(lines, function (line, index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar\titem_details = {\n\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t,\tid: line.id\n\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t,\tquantity: line.get('quantity')\n\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t,\tamount: line.get('amount_formatted')\n\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t,\tapplication: view.options.application\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t,\tshipgroup_subtotal = shipgroup_subtotal + item_details.amount;\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t<%= itemDetails(item_details) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<!-- PAYMENT INFORMATION -->\n\t\t\t<div class=\"row-fluid control-group  payment-information-container\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('<span class=\"payment-information-drop-down\">Payment Information<\/span>').translate() %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t\t<div class=\"payment-information\">\n\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t<%= _('Payment Method:').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"payment-information-info\">\n\t\t\t\t\t\t\t\t\t\t\t<%= paymentmethod ? SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) : _('N\/A').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t<%= _('Bill to:').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"billaddress-info\">\n\t\t\t\t\t\t\t\t\t\t\t<address><%= (billaddress && SC.macros.address(billaddress, {hideDefaults: true, hideActions: true}) ) || _('N\/A').translate() %><\/address>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"span4 transaction-summary-one-col-tablet\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"list-header summary-container\">\n\t\t\t\t\t<!-- SUMMARY -->\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong\">\n\t\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8  \">\n\t\t\t\t\t\t\t<%= _('Subtotal').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-subtotal\"><%= view.model.get('summary').subtotal_formatted  %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').discounttotal ) ) { %>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Discount').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-discounttotal\"><%= view.model.get('summary').discounttotal_formatted  %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').shippingcost ) ) { %>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Shipping Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-shippingcost\"><%= view.model.get('summary').shippingcost_formatted %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').handlingcost ) ) { %>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Handling Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-handlingcost\"><%= view.model.get('summary').handlingcost_formatted %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<% if ( view.model.get('promocode') ) { %>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Promo Code').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-promocode\"><%= view.model.get('promocode').code %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right\">\n\t\t\t\t\t\t\t<span class=\"summary-taxtotal\"><%= view.model.get('summary').taxtotal_formatted %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"row-fluid control-group strong total\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span4 text-right last\">\n\t\t\t\t\t\t\t<span class=\"summary-total\"><%= view.model.get('summary').total_formatted %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<!-- DOWNLOAD AS PDF -->\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded btn-block btn-large download-pdf-btn\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/section>\n","iframe_tmpl":"<iframe src=\"<%- view.src %>\" class=\"modalIFrame\"><\/iframe>\n<script type=\"text\/javascript\">\n\tif(navigator.userAgent.match(\/iPhone\/i)){\n\t\tjQuery('.modalIFrame').attr('scrolling','no');\n\t}\n<\/script>","reorder_items_tmpl":"\n<header>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n<\/header>\n\n<div data-type=\"list-header-placeholder\"><\/div>\n\n<% if ( view.collection.totalRecordsFound ) {\n\n\t\tvar details_macro\n\t\t,\textraItemDetailsMacro;\n\n\t _.each(view.collection.models, function (line) { %>\n\t\t\t<%= itemDetailsEditable({\n\t\t\t\tapplication: view.options.application\n\t\t\t,\tline: line\n\t\t\t,\tshowItemLinkeable: true\n\t\t\t,\tisSelectable: false\n\t\t\t,\textraLineClass: 'reorder-item-line-container'\n\t\t\t,\tdetailsMacro: view.getItemDetailsMacro(line)\n\t\t\t,\tactionsMacro: itemActionsAddToCartReOrder\n\t\t\t,\textraItemDetailsMacro: view.getItemExtraDetailsMacro(line)\n\t\t\t}) %>\n\t<% }) %>\n\n<% } else if (view.isLoading) { %>\n\t<p class=\"list-empty\"><%= _('Loading...').translate() %><\/p>\n<% } else { %>\n\t<p class=\"list-empty\"><%= _('You bought no items in this time period.').translate() %><\/p>\n\t<p><a class=\"btn\" href=\"#\" data-touchpoint=\"home\"><%= _('Shop Now').translate() %><\/a><\/p>\n<% } %>\n","page_not_found_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"page-not-found-content\" class=\"view-body page-not-found-content\">\n\t<%= _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","profile_information_tmpl":"<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n<hr class=\"divider-small\">\n<% view.model = view.model || { get: function () { return ''; } } %>\n<div data-type=\"alert-placeholder\"><\/div>\n<section class=\"row-fluid\">\n\t<div class=\"span12\">\n\t\t<form class=\"contact_info\">\n\t\t\t<fieldset>\n\t\t\t\t<% if ( view.model.get('type') !== 'COMPANY' ) { %>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"firstname\"><%= _('First Name').translate() %> \n\t\t\t\t\t\t\t<small>(required)<\/small>\n\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"firstname\" name=\"firstname\" value=\"<%- view.model.get('firstname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"lastname\"><%= _('Last Name').translate() %> \n\t\t\t\t\t\t\t<small>(required)<\/small>\n\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"lastname\" name=\"lastname\" value=\"<%- view.model.get('lastname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( view.model.get('type') === 'COMPANY' || view.options.application.getConfig('siteSettings.registration.showcompanyfield') === 'T' ) { %>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"companyname\"><%= _('Company Name').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"companyname\" name=\"companyname\" value=\"<%- view.model.get('companyname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"phone\">\n\t\t\t\t\t\t<% var phone_format = view.options.application.getConfig('siteSettings.phoneformat') %>\n\t\t\t\t\t\t<% if ( phone_format ) { %>\n\t\t\t\t\t\t\t<%= _('Phone Number (ex\/$(0))').translate( phone_format ) %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<%= _('Phone Number').translate() %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"tel\" class=\"input-large\" id=\"phone\" name=\"phone\" data-type=\"phone\" value=\"<%- view.model.get('phone') || '' %>\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"email\"><%= _('Email').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<p class=\"input-large no-copy-paste\" id=\"email\" name=\"email\" ><%- view.model.get('email') || '' %><\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t<\/fieldset>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\"><%= _('Cancel').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/form>\n\t<\/div>\n<\/section>\n","order_details_tmpl":"<%\n\tvar model = view.model\n\t,\tnonshippable = view.getNonShippableItems()\n\t,\tfulfillmentAddresses = view.getFulfillmentAddresses()\n\t,\tlines = model.get('lines')\n\t,\tcollapse_elements = view.application.getConfig('collapseElements')\n\n\t,\tany_line_purchasable = lines.any(function (line)\n\t\t{\n\t\t\treturn line.get('item').get('_isPurchasable');\n\t\t})\n\t,\tall_gift_certificates = lines.all(function (line)\n\t\t{\n\t\t\treturn line.get('item').get('itemtype') === 'GiftCert';\n\t\t})\n\t,\turl = _.getDownloadPdfUrl({\n\t\t\tasset: 'order-details'\n\t\t,\tid: model.get('internalid')\n\t\t})\n\t,\tbilladdress = model.get('addresses').get(model.get('billaddress'))\n\t,\tordershipaddress = model.get('shipaddress') ? model.get('addresses').get(model.get('shipaddress')) : null\n\t,\tpaymentmethod = model.get('paymentmethods') && model.get('paymentmethods').findWhere({primary: true})\n\t,\treturn_authorizations = view.getReturnAuthorizations();\n%>\n<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Order <b>#<span class=\"order-number\">$(0)<\/span><\/b>').translate(model.get('order_number')) %>\n\t\t\t<span class=\"pull-right hidden-phone strong total-formatted\">\n\t\t\t\t<%= model.get('summary').total_formatted %>\n\t\t\t<\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/ordershistory\" class=\"back-btn\"><%= _('&lt; Back to Order History').translate() %><\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<% if (return_authorizations.length) { %>\n\t\t<div class=\"returnauthorizations-warning alert alert-warning\" data-type=\"info-returns\"><%=_('You have returns associated with this order. <a href=\"#\">View Details<\/a>').translate()%><\/div>\n\t<% } %>\n\t<!-- HEADER INFORMATION -->\n\t<div class=\"header-information\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: <span class=\"date\">$(0)<\/span>').translate(model.get('date')) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 col-status-record\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Status: <span class=\"status\">$(0)<\/span>').translate(model.get('status')) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"span12 visible-phone\">\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Amount: <span class=\"total-formatted\">$(0)<\/span>').translate(model.get('summary').total_formatted) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span8 transaction-summary-one-col-tablet\">\n\n\t\t\t<% if(ordershipaddress){ %>\n\n\t\t\t\t<div class=\"shipping-information-details shipping-information\" data-id=\"<%=model.get('shipaddress')%>\">\n\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<!-- SHIPPING INFORMATION -->\n\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t<%= _('Shipping Address').translate() %>\n\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"shipping-information-info\">\n\t\t\t\t\t\t\t\t\t<address><%= SC.macros.address(ordershipaddress, {hideDefaults: true, hideActions: true}) %><\/address>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t<div class=\"text-light\">\n\t\t\t\t\t\t\t\t\t<%= _('Delivery Method').translate() %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"delivery-method\">\n\t\t\t\t\t\t\t\t\t<%  var ordershipmethod = model.get('shipmethod');\n\t\t\t\t\t\t\t\t\t\tif(model.get('shipmethods')._byId[ordershipmethod]){ %>\n\t\t\t\t\t\t\t\t\t\t\t<%= model.get('shipmethods')._byId[ordershipmethod].getFormattedShipmethod() %>\n\t\t\t\t\t\t\t\t\t\t<% } else if (ordershipmethod.name) { %>\n\t\t\t\t\t\t\t\t\t\t\t<%= ordershipmethod.name %>\n\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t<%= _('No Delivery Method Selected').translate() %>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t\t\t<!-- FULFILLMENT UNFULLFILED -->\n\t\t\t\t<%\n\t\t\t\t\tvar unfulfilled = view.getUnfulfilled()\n\t\t\t\t\t,   lines_length = unfulfilled.length %>\n\t\t\t\t<% if (lines_length) { %>\n\t\t\t\t<div class=\"row-fluid control-group item-container accordion-section unfulfilled\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<span class=\"items-drop-down\">\n\t\t\t\t\t\t\t<%= lines_length > 1 ? _('Products pending shipment ($(0))').translate(lines_length) : _('Product pending shipment ($(0))').translate(lines_length) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"sst-mst\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t\t\t<% _.each(unfulfilled, function (line) { %>\n\n\t\t\t\t\t\t\t\t<!-- FULLFILLMENT LINES -->\n\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\tvar\titem_details = line && {\n\t\t\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t\t\t,\tid: line.get('internalid')\n\t\t\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t\t\t,\tpartial_quantity: line.get('partial_quantity')\n\t\t\t\t\t\t\t\t\t\t,\tquantity: line.get('quantity')\n\t\t\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t\t\t,\tamount_label: _('Total Amount').translate()\n\t\t\t\t\t\t\t\t\t\t,\tamount: line.get('amount') || line.get('rate')\n\t\t\t\t\t\t\t\t\t\t,\ttotal: line.get('total')\n\t\t\t\t\t\t\t\t\t\t,\tdiscount: line.get('discount')\n\t\t\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t\t\t,\tapplication: view.application\n\t\t\t\t\t\t\t\t\t\t,\ttype: line.get('type')\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<%= item_details && itemDetails(item_details) %>\n\n\t\t\t\t\t\t\t\t<!-- FULLFILLMENT LINES ENDS -->\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<!-- FULLFILLMENT UNFULLFILED ENDS -->\n\n\n\t\t\t\t<!-- SHIPPING GROUPS -->\n\t\t\t\t<%\n\t\t\t\t\t_.each(view.getFulfillmentAddresses(), function (fulfillment_address_id) {\n\t\t\t\t\t\tvar fulfillments = view.getFulfillments(fulfillment_address_id);\n\t\t\t\t%>\n\t\t\t\t\t<% if(!ordershipaddress){ %>\n\t\t\t\t\t<div class=\"shipping-information-details shipping-information\" data-id=\"<%=fulfillment_address_id%>\">\n\t\t\t\t\t\t\t<!-- SHIPPING INFORMATION -->\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t<%= _('Shipping Address').translate() %>\n\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"shipping-information-info\">\n\t\t\t\t\t\t\t\t<% var shipaddress = model.get('addresses').get(fulfillment_address_id); %>\n\t\t\t\t\t\t\t\t\t<address><%=  ( shipaddress && SC.macros.address(shipaddress, {hideDefaults: true, hideActions: true}) ) || _('N\/A').translate() %><\/address>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<!-- SHIPPING INFORMATION ENDS -->\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tvar lines_length = 0;\n\t\t\t\t\t\t\t_.each(fulfillments, function (fulfillment) {\n\t\t\t\t\t\t\t\tlines_length += fulfillment.get('lines').length;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif(lines_length>0){\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t<!-- FULFILLMENT FULFILLEDS -->\n\t\t\t\t\t\t<div class=\"row-fluid control-group item-container accordion-section fulfillment\" data-type=\"accordion\">\n\t\t\t\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t\t\t<span class=\"items-drop-down\">\n\t\t\t\t\t\t\t\t\t<%= lines_length > 1 ? _('Products shipped ($(0))').translate(lines_length) : _('Product shipped ($(0))').translate(lines_length) %>\n\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"sst-mst no-margin\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\n\t\t\t\t\t\t\t\t<% _.each(fulfillments, function (fulfillment) { %>\n\t\t\t\t\t\t\t\t\t<!-- FULLFILLMENT TITLE -->\n\t\t\t\t\t\t\t\t\t<div class=\"fulfillment-header\" data-id=\"<%=fulfillment.get('internalid')%>\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"popover-content row-fluid\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ship-date\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p><%= _('Shipped on: $(0)').translate(fulfillment.get('date')) %><\/p>\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<%= trackingNumbers({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrackingnumbers:  fulfillment.get('trackingnumbers') || []\n\t\t\t\t\t\t\t\t\t\t\t\t,\tshowContentOnEmpty: false\n\t\t\t\t\t\t\t\t\t\t\t\t,\tcontentClass: ''\n\t\t\t\t\t\t\t\t\t\t\t\t,\tcollapseElements: collapse_elements\n\t\t\t\t\t\t\t\t\t\t\t\t,\ttrackingURLService: view.getTrackingServiceUrl\n\t\t\t\t\t\t\t\t\t\t\t\t,\ttrackingNameService: view.getTrackingServiceName\n\t\t\t\t\t\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Delivery Method').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"delivery-method\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% var shipmethod = fulfillment.get('shipmethod').internalid;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(model.get('shipmethods')._byId[shipmethod]){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= model.get('shipmethods')._byId[shipmethod].getFormattedShipmethod() %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else if (fulfillment.get('shipmethod').name) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= fulfillment.get('shipmethod').name %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('No Delivery Method Selected').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"fulfillment-body\">\n\t\t\t\t\t\t\t\t\t<!-- FULLFILLMENT LINES -->\n\t\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\t_.each(fulfillment.get('lines'), function (fulfillment_line)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar line = lines.get(fulfillment_line.line_id)\n\t\t\t\t\t\t\t\t\t\t,\titem_details = line && {\n\t\t\t\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t\t\t\t,\tid: line.id\n\t\t\t\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t\t\t\t,\tpartial_quantity: fulfillment_line.partial_quantity\n\t\t\t\t\t\t\t\t\t\t\t,\tquantity: fulfillment_line.quantity\n\t\t\t\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t\t\t\t,\tamount_label: _('Total Amount').translate()\n\t\t\t\t\t\t\t\t\t\t\t,\tamount: fulfillment_line.rate || line.get('amount')\n\t\t\t\t\t\t\t\t\t\t\t,\ttotal: line.get('total')\n\t\t\t\t\t\t\t\t\t\t\t,\tdiscount: line.get('discount')\n\t\t\t\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t\t\t\t,\tapplication: view.application\n\t\t\t\t\t\t\t\t\t\t\t,\ttype: line.get('type')\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t<%= item_details && itemDetails(item_details) %>\n\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t<!-- FULLFILLMENT LINES ENDS -->\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- FULLFILLMENT FULFILLEDS ENDS -->\n\t\t\t\t\t<% }\n\t\t\t\t\t\tif(!ordershipaddress){ %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t<% }) %>\n\t\t\t\t<!-- SHIPPING GROUPS ENDS -->\n\n\t\t\t<% if(ordershipaddress){ %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t\t<!-- NON-SHIPPABLE -->\n\t\t\t<% if (nonshippable.length) { %>\n\t\t\t<div class=\"row-fluid control-group item-container accordion-section non-shippable\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<span class=\"items-drop-down\">\n\t\t\t\t\t\t<%= nonshippable.length > 1 ? _('Products that don\\'t require shipping ($(0))').translate(nonshippable.length) : _('Product that doesn\\'t require shipping ($(0))').translate(nonshippable.length) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sst-mst\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t\t<% _.each(nonshippable, function (line) {\n\n\t\t\t\t\t\titem_details = {\n\t\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t\t,\tid: line.id\n\t\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t\t,\tquantity: line.get('quantity')\n\t\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t\t,\tamount: line.get('amount')\n\t\t\t\t\t\t\t\t\t,\ttotal: line.get('total')\n\t\t\t\t\t\t\t\t\t,\tdiscount: line.get('discount')\n\t\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t\t,\tapplication: view.application\n\t\t\t\t\t\t\t\t\t,\ttype: line.get('type')\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t<%= itemDetails(item_details) %>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t\t<!-- NON-SHIPPABLE ENDS -->\n\n\t\t\t<!-- PAYMENT INFORMATION -->\n\t\t\t<div class=\"row-fluid control-group accordion-section payment-information-container\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('<span class=\"payment-information-drop-down\">Payment Information<\/span>').translate() %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sst-mst\" data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t\t<div class=\"payment-information\">\n\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Payment Method').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"payment-information-info\">\n\t\t\t\t\t\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) || _('N\/A').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t\t<% if (model.get('receipts').length) { %>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>&nbsp;<\/p>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Payment Transactions').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div data-type=\"payment-transaction-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<% model.get('receipts').each(function (receipt) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar data_type = receipt.get('recordtype') === 'CustInvc' && !view.application.getConfig('is_basic') ? 'invoice' : 'receipt';\n\t\t\t\t\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p data-type=\"<%= data_type%>\" data-id=\"<%= receipt.get('internalid') %>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if (receipt.get('recordtype') === 'CustInvc') { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% var invoice_href = (view.application.getConfig('is_basic') ? 'receiptshistory\/view': 'invoices') + '\/' + receipt.get('internalid') %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Invoice: <a href=\"$(1)\">#$(0)<\/a>').translate(receipt.get('order_number'), invoice_href) %> <br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span data-type=\"payment-date\"><%= receipt.get('date') %><\/span> <span data-type=\"payment-total\" ><%= receipt.get('summary').total_formatted %><\/span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Receipt: #$(0)').translate(receipt.get('order_number')) %> <br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span data-type=\"payment-date\"><%= receipt.get('date') %><\/span> <span data-type=\"payment-total\"><%= receipt.get('summary').total_formatted %><\/span>') <a href=\"\/receiptshistory\/view\/<%= receipt.get('internalid') %>\">View<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Bill to').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"billaddress-info\">\n\t\t\t\t\t\t\t\t\t\t\t<address><%= ( ( billaddress && SC.macros.address(billaddress, {hideDefaults: true, hideActions: true}) ) || _('N\/A').translate()) %><\/address>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<!-- PAYMENT INFORMATION ENDS -->\n\n\n\t\t\t<% if (return_authorizations.length) { %>\n\t\t\t<!-- RETURNS AUTHORIZATIONS -->\n\t\t\t<div class=\"row-fluid control-group returns-container accordion-section returnauthorizations-details-header\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('<span class=\"items-drop-down\">Returns ($(0))<\/span>').translate(return_authorizations.totalLines) %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sst-mst returnauthorizations-details-body\" data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t<% return_authorizations.each(function (return_authorization) { %>\n\n\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t<div class=\"popover-content\">\n\t\t\t\t\t\t\t\t\t<% if (return_authorization.get('tranid')) { %>\n\t\t\t\t\t\t\t\t\t\t<p><%= _('Return authorization: <a href=\"returns\/$(1)\">#$(0)<\/a>').translate(return_authorization.get('tranid'), return_authorization.get('internalid')) %><\/p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<p><%= _('Status').translate() %>: <span class=\"status\"><%= return_authorization.get('status') %><\/span><\/p>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs nav-tabs-heading hidden-phone\">\n\t\t\t\t\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span1 popover-content popover-heading\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading col-amount\"><%= _('Unit price').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading col-amount\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<%  return_authorization.get('lines').each(function (item) {\n\n\t\t\t\t\t\t\t\tvar row_item = item.get('item') || item\n\t\t\t\t\t\t\t\t,\tname = SC.macros.itemLinkName({item: row_item, showLinkeable: true})\n\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\" data-item=\"item <%= row_item.get('internalid') %>\">\n\t\t\t\t\t\t\t\t<div class=\"span1 hidden-phone item-image\">\n\t\t\t\t\t\t\t\t\t<img src=\"<%= view.application.resizeImage(row_item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= row_item.get('_thumbnail').altimagetext %>\">\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span class=\"item-name\"><%= name %><\/span>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<% if (row_item.type === 'Discount') { %>\n\t\t\t\t\t\t\t\t\t\t\t<%= _('Discount').translate() %>\n\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t<%= _('<span class=\"text-light\">SKU<\/span>: <span class=\"item-sku\">#$(0)<\/span>').translate(row_item.get('_sku')) %>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<%= row_item.renderAllOptionSelected() %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<% if (!row_item.get('_isInStock') && row_item.get('_showOutOfStockMessage')) { %>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-light\"><%= SC.macros.itemDetailsStock(row_item.getStockInfo()) %><\/span>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<% if (!row_item.get('isonline')) {  %>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"alert alert-warning\"><%= _('This item is no longer available').translate() %><\/p>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span1 popover-content\">\n\t\t\t\t\t\t\t\t\t<%= _('<span class=\"visible-phone text-light\">Quantity<\/span> <span class=\"item-quantity\">$(0)<\/span>').translate(Math.abs(item.get('quantity'))) %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content col-amount\">\n\t\t\t\t\t\t\t\t\t<%= _('<span class=\"visible-phone text-light\">Unit price<\/span> <span class=\"item-reason\">$(0)<\/span>').translate(_.formatCurrency(item.get('rate'))) %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content col-amount\">\n\t\t\t\t\t\t\t\t\t<%= _('<span class=\"visible-phone text-light\">Amount<\/span> <span class=\"item-amount\">$(0)<\/span>').translate(_.formatCurrency(item.get('amount'))) %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<% }) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<!-- RETURNS AUTHORIZATIONS ENDS -->\n\t\t\t<% } %>\n\t\t<\/div>\n\n\t\t<div class=\"span4 transaction-summary-one-col-tablet\">\n\t\t\t<div class=\"list-header summary-container\">\n\t\t\t\t<!-- SUMMARY -->\n\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong\">\n\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8  \">\n\t\t\t\t\t\t<%= _('Subtotal').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative subtotal text-right\">\n\t\t\t\t\t\t<%= model.get('summary').subtotal_formatted  %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<% if (parseFloat(model.get('summary').discounttotal)) { %>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Discount').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative discounttotal text-right\">\n\t\t\t\t\t\t<%= model.get('summary').discounttotal_formatted  %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( typeof model.get('summary').shippingcost !== 'undefined' && model.get('summary').shippingcost != null ) { %>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Shipping Total').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative shippingcost text-right\">\n\t\t\t\t\t\t<%= model.get('summary').shippingcost_formatted %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( parseFloat( model.get('summary').handlingcost ) ) { %>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Handling Total').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative handlingcost text-right\">\n\t\t\t\t\t\t<%= model.get('summary').handlingcost_formatted %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( parseFloat( model.get('summary').giftcertapplied ) ) { %>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Gift Cert Total').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative giftcertapplied text-right\">\n\t\t\t\t\t\t<%= model.get('summary').giftcertapplied_formatted %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( model.get('promocode') ) { %>\n\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Promo Code').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative promocode text-right\">\n\t\t\t\t\t\t<%= model.get('promocode').code %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative taxtotal text-right\">\n\t\t\t\t\t\t<%= model.get('summary').taxtotal_formatted %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"row-fluid control-group strong\">\n\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t<%= _('Total').translate() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4 cell-alternative total text-right last\">\n\t\t\t\t\t\t<%= model.get('summary').total_formatted %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"row-fluid\">\n\t\t\t<% if (any_line_purchasable && !all_gift_certificates) { %>\n\t\t\t\t<!-- REORDER ALL ITEMS -->\n\t\t\t\t\t<div class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t\t<a href=\"\/reorderItems?order_id=<%= model.get('internalid') %>\" class=\"btn btn-expanded btn-block btn-large re-order-all-items\"><%= _('Reorder All Items').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<!-- DOWNLOAD AS PDF -->\n\t\t\t\t<div class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded btn-block btn-large download-pdf\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t<\/div>\n\n\t\t\t\t<% if (view.isReturnable()) { %>\n\t\t\t\t<!-- REQUEST RETURN -->\n\t\t\t\t\t<div data-permissions=\"transactions.tranRtnAuth.2\" class=\"span4 transaction-summary-one-col-desktop margin-top-10\">\n\t\t\t\t\t\t<a href=\"\/returns\/new\/order\/<%= model.get('internalid') %>\" class=\"btn btn-expanded btn-block btn-large request-return\"><%= _('Request a Return').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/section>\n","receipt_history_tmpl":"<section class=\"receipts-list\">\n\t<header>\n\t\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\t<div class=\"row-fluid\">\n\t\t<% if ( view.collection.models.length ) { %>\n\t\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Receipt No.').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 col-status\">\n\t\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<% _.each(view.collection.models, function (receipt, index) { %>\n\t\t\t\t<%  var id = receipt.get('internalid')\n\t\t\t\t,\torder_number = receipt.get('order_number')\n\t\t\t\t,\tstatus = receipt.get('status'); %>\n\n\t\t\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/receiptshistory\/view\/<%= id %>\">\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div class=\"span3\" quote-id=\"<%= id %>\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record\"><%= _('Receipt #$(0)').translate(order_number) %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 col-date\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"date\"><%= receipt.get('date') %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 col-amount\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"amount\"><%= receipt.get('summary').total_formatted %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 col-status\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text status\">\n\t\t\t\t\t\t\t\t\t<%= _.isObject(status) ? status.name : status %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/a>\n\t\t\t<% }); %>\n\t\t<% } else if(view.isLoading) { %>\n\t\t\t<p class=\"list-empty\"><%= _('Loading').translate() %><\/p>\n\t\t<% } else { %>\n\t\t\t<p class=\"list-empty\"><%= _('No receipts were found').translate() %><\/p>\n\t\t<% } %>\n\t<\/div>\n<\/section>\n"};